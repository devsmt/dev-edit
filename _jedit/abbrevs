[global]
twb2_grid_|<div class="container-fluid">\n  twb2_row_\n</div>
foreach_|foreach($a as $k=>$v){\|}
perc_|// dato un parziale e un totale, trova la percentuale rappresentata da part\n// variando la scala(100=percentuale) trova una proporzione\nfunction perc($part, $tot, $scale=100){\n    $p = floor( ($part*$scale) / $tot ) ;\n    return $p;\n}\n\n// dati due valori, ritorna la percentule che il secondo valore rappresenta del primo\n// dato $totale e $perc, ritorna float valore\nfunction get_perc($totale, $perc ){\n    $decimal = 2;\n    $x = $totale / 100 * $perc;\n    $x = (float) round( $x, $decimal );\n    return $x;\n}\n
center_|text-align:center; vertical-align: middle;\n\n.center_2 {\n   width: 300px;\n   height: 300px;\n   position: absolute;\n   left: 50%;\n   top: 50%;\n   margin-left: -150px;\n   margin-top: -150px;\n}
twb_row_|twb3_row_
php_|<?php\n
radio_|<label for="male">Male</label>\n<input type="radio" name="sex" id="male" value="male" checked="checked" disabled="disabled">
twb_button_|<!--\nbtn-large   btn-small   btn-mini\n\nbtn-primary  \nbtn-info   \t\nbtn-success \nbtn-warning\t \nbtn-danger\t \nbtn-inverse\t \nbtn-link\t\n\nbtn-block   disabled \n-->\n<button type="button" class="btn btn-primary btn-small">txt</button>
btn_|<button>Yea or nay?</button>\n\n<a \nstyle="font-family:Tahoma,Verdana,Segoe,sans-serif;font-size:18px;line-height:24px;text-decoration:none;background:#ff4f00;color:#ffffff;border:9px solid #ff4f00;text-align:center;display:block;border-radius:3px;" \nhref="#" target="_blank"  \n>Register today!</a>\n
elseif_| elseif(\|) {\n}\n
twb3_row_|<div class="row">\n  <div class="col-md-4">\n  </div>\n</div>
if_|if(!empty(\|)){}
mailto_|mailto:?subject=some%20subject&body=some%20very%20long%20body.\n// @see php anchor_mail_
fieldset_|<fieldset>\n    <legend>Personalia:</legend>\n\n</fieldset>\nfieldset {\n\tdisplay:inline;\n\tvertical-align:top;\n\tborder:1px solid #999;\n\tmargin:.8em .5em 0 0;\n\tpadding:.5em .8em;\n}
legend_|<fieldset>\n    <legend>description:</legend>\n \n</fieldset>
sql_truncate_|truncate table $table_name
sql_defaults_|// some mysql defaults\nALTER TABLE `age_cart`\n  CHANGE COLUMN `created_dt` `created_dt` TIMESTAMP NOT NULL DEFAULT '0000-00-00 00:00:00',\n  CHANGE COLUMN `updated_dt` `updated_dt` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP;
<!|html_comment_
twb_pagination_|<ul class="pagination">\n  <li class="disabled"><a href="#">&laquo;</a></li>\n  <li><a href="#">1</a></li>\n  <li class="active"><a href="#">2</a></li>\n  <li><a href="#">3</a></li>\n  <li><a href="#">4</a></li>\n  <li><a href="#">5</a></li>\n  <li><a href="#">&raquo;</a></li>\n</ul>
twb_icon_|<i class="icon-print"></i>
twb_scrollspy_|<div class="panel">\n<nav id="scroll-nav">\n<ul class="nav nav-pills">\n<li class=""><a href="#par1">Paragrafo 1</a></li>\n<li class=""><a href="#par2">Paragrafo 2</a></li>\n<li class=""><a href="#par3">Paragrafo 3</a></li>\n<li class=""><a href="#par4">Paragrafo 4</a></li>\n<li class=""><a href="#par5">Paragrafo 5</a></li>\n<li class="active"><a href="#par6">Paragrafo 6</a></li>\n</ul>\n</nav>\n<div id="scroll-panel" data-spy="scroll" data-target="#scroll-nav" data-offset="0" class="panel" style="height: 200px;overflow: auto;position: relative;">\n<p id="par1"><strong>Paragrafo 1</strong>. Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>\n<p id="par2"><strong>Paragrafo 2</strong>. Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>\n<p id="par3"><strong>Paragrafo 3</strong>. Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>\n<p id="par4"><strong>Paragrafo 4</strong>. Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>\n<p id="par5"><strong>Paragrafo 5</strong>. Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>\n<p id="par6"><strong>Paragrafo 6</strong>. Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>\n<p id="par7"><strong>Paragrafo 5</strong>. Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>\n</div>\n</div>
css_underline_|text-decoration: underline;
css_attribute_like_|img[attribute~="value"] { }
twb_form_inline_|<!-- v2.2.2 -->\n<form class="form-inline">\n  <input type="text" class="input-small" placeholder="Email">\n  <input type="password" class="input-small" placeholder="Password">\n  <label class="checkbox">\n    <input type="checkbox"> Remember me\n  </label>\n  <button type="submit" class="btn">Sign in</button>\n</form>
favicon_|<link rel="icon" type="image/png" href="favicon.ico" />
htmlcomment_|html_comment_
iban_|// si occupa di estrarre le componenti del codice IBAN\n// un codice deve entrare nel formato '112234444455555000000000000'\nclass DMS_Utils_IBAN {\n    // http://it.wikipedia.org/wiki/International_Bank_Account_Number#Italia\n    public static function parse($str_IBAN){\n        $str_IBAN = strtoupper($str_IBAN);\n        if( strlen($str_IBAN) != 27 ) {\n            $msg = sprintf('Errore IBAN di lunghezza %s != 27 '. strlen($str_IBAN) );\n            throw new Exception($msg);\n        }\n\n        $result = [];\n        $result['SI']  = substr($str_IBAN, 0 , 2); // nazione\n        $result['NC']  = substr($str_IBAN, 2 , 2); // num controllo\n        $result['CIN'] = substr($str_IBAN, 4 , 1); // 1 lettera\n        $result['ABI'] = substr($str_IBAN, 5 , 5); // abi\n        $result['CAB'] = substr($str_IBAN, 10, 5); // cab\n        $result['NCC'] = substr($str_IBAN, 15, 12);// num conto corrente\n\n        return $result;\n    }\n    // ritorna una str di 27 caratteri\n    public static function serialize( $SI, $NC, $CIN, $ABI, $CAB, $NCC ) {\n        $SI    = str_pad($SI , 2 , '0', STR_PAD_LEFT);\n        $NC    = str_pad($NC , 2 , '0', STR_PAD_LEFT);\n        $CIN   = str_pad($CIN, 1 , '0', STR_PAD_LEFT);\n        $ABI   = str_pad($ABI, 5 , '0', STR_PAD_LEFT);\n        $CAB   = str_pad($CAB, 5 , '0', STR_PAD_LEFT);\n        $NCC   = str_pad($NCC, 12, '0', STR_PAD_LEFT);\n        $IBAN = $SI. $NC. $CIN. $ABI. $CAB. $NCC;\n        $IBAN = strtoupper($IBAN);\n        return $IBAN;\n    }\n}
js_onerror_|// Log JS errors per AJAX call\nwindow.onerror = function(msg, url, line, column) {\n    h_query = onerror_collect_vals(msg, url, line, column);\n    var qry_str = http_build_query(h_query);\n    // call home\n    var img = new Image();\n    img.src = "/logjserror.php" + "?" + qry_str;\n    return false;\n};\n//\nfunction onerror_collect_vals(msg, url, line, column) {\n    var maxValLen = 250;\n    // column may be 0, or even unsupported in old browsers\n    if (typeof column === 'undefined') {\n        column = (window.event && event.errorCharacter) || -1;\n    }\n    var str_navigator = '';\n    for (var p in navigator) {\n        var tp = typeof navigator[p];\n        var val = navigator[p];\n        switch (tp) {\n        case "string":\n        case "number":\n            // Normal case - do nothing specific\n            break;\n        case "boolean":\n            val = val ? "true" : "false";\n            break;\n        case "function":\n        case "object":\n        default:\n            val = '';\n            break;\n        }\n        if ((typeof val === "string") ) {\n            if (val.length > maxValLen) {\n                val = val.substr(0, maxValLen) + '...';\n            }\n            // concatena solo valori non vuoti\n            if( val.trim() != '' && val.trim() != '{}' ) {\n                str_navigator += p + ":" + val + ";";\n            }\n        }\n    }\n    var h_query = {\n        domain: window.location.host,\n        url: window.location.pathname,\n        referrer: document.referrer,\n        message: msg,\n        jsurl: url,\n        jsline: line,\n        jscolumn: column,\n        navigator: str_navigator,\n    };\n    return h_query;\n}\n//\n//\nfunction http_build_query(h_query) {\n    var a_qry = [];\n    Object.keys(h_query).map(function(key, index) {\n        var v = h_query[key];\n        a_qry.push(key + '=' + encodeURIComponent(v));\n    });\n    var qry_str = a_qry.join('&');\n    return qry_str;\n}
margin_|margin:4px auto\|;
input_|// HTML5 type="" tel search url email datetime date month week time datetime-local number range color \n// pattern="^\\d{4}-\\d{3}-\\d{4}$"\n// pattern="[0-9.]+"\n<input type="text" name="\|" value="" placeholder="label" maxlength="255" tabindex="0" required />\n
for_|for($i=0;$i<count($a);$i++){\|}
close_|<a class="top-bar-close" href="#">\n            <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 12 12">\n                <polygon fill="#FFF" fill-rule="evenodd" points="1273.82 15.36 1269.18 20 1273.82 24.64 1272.64 25.82 1268 21.18 1263.36 25.82 1262.18 24.64 1266.82 20 1262.18 15.36 1263.36 14.18 1268 18.82 1272.64 14.18" transform="translate(-1262 -14)"></polygon>\n            </svg>\n</a>\n\n<a href="#" class="" style="display: inline;">×</a>\n\n<span>&#x2715;</span>\n\n
input_file_|<input type="file" accept=".someext,image/*" accept=".png, .jpg">
ul_menu_v_|\t<style type="text/css">\nul#menu {\n    font-family: Verdana, sans-serif;\n    font-size: 11px;\n    margin: 0;\n    padding: 0;\n    list-style: none;\n}\nul#menu li {\n    background-color: #FF831C;\n    border-left: 5px solid #54BAE2;\n    display: block;\n    width: 150px;\n    height: 30px;\n    margin: 2px 0;\n}\nul#menu li a {\n    color: #fff;\n    display: block;\n    font-weight: bold;\n    line-height: 30px;\n    padding-left: 15px;\n    text-decoration: none;\n    width: 135px; /* 150px - 15px (padding) */\n    height: 30px;\n}\nul#menu li.active, ul#menu li:hover {\n    background-color: #54BAE2;\n    border-left: 5px solid #FF831C;\n}\n</style>\n<ul id="menu">\n    <li><a href="#">Home</a></li>\n    <li class="active"><a href="#">About Us</a></li>\n    <li><a href="#">Services</a></li>\n    <li><a href="#">Portfolio</a></li>\n    <li><a href="#">Contact</a></li>\n</ul>\n\n
img_svg_|icon_svg_
icon_|// fa-close\n<i class="fa fa-square"></i>
form_|<form method="post" action="<?=$_SERVER['PHP_SELF']?>" enctype="multipart/form-data" id="form_1">\n\n      <div class="row">\n                        <div class="col-md-6">\n                        <div class="form-group">\n                            <input type="text" class="form-control" name="name" autocomplete="off" id="name" placeholder="Name">\n                        </div>\n                    </div>\n                        <div class="col-md-6">\n                        <div class="form-group">\n                            <input type="text" class="form-control" name="email" autocomplete="off" id="email" placeholder="E-mail">\n                        </div>\n                    </div>\n                    </div>\n                    <div class="row">\n                        <div class="col-md-12">\n                        <div class="form-group">\n                            <textarea class="form-control textarea" rows="3" name="message" id="message" placeholder="Message"></textarea>\n                        </div>\n                    </div>\n                    </div>\n\n                    <div class="row">\n                      <div class="col-md-12">\n\n                        <label for="cb_informativa">\n                            <input type="checkbox" name="cb_informativa" value="1" id="cb_informativa"\n                                checked="checked"\n                            />\n                        Informativa ai sensi dell’art. 13 del D.Lgs. 196/2003\n                        </label>\n                        <small>\n                        Con la presente, dato atto e preso atto di quanto sopra,\n                        acconsento al trattamento e alla comunicazione dei dati per le finalità specificate nell’informativa.\n                        </small>\n\n                      </div>\n                    </div>\n\n                    <div class="row">\n                        <div class="col-md-12">\n\n                            <button type="submit" class="btn btn-primary pull-right">Send a message</button>\n                            <input type="submit" value="Salva" id="">\n                            <input type="button" value="Reset" id="form_reset"/>\n\n\n                        </div>\n                    </div>\n\n\t\n</form>\|\n<script>\n    // reset funcitonalities\n    $('#form_1 #form_reset').click(function(){\n        var f = $(this).parents('form');\n        f.find('input:text, input:password, input:file, select, textarea').val('');\n        f.find('input:radio, input:checkbox').removeAttr('checked').removeAttr('selected');\n    });\n</script>\n<!------- validation ------------------>\n<style type="text/css">\n/* validation styles */\ninput[type="text"].success {\n    border: 1px solid #468847 !important;\n}\ninput[type="text"].warning, textarea.warning {\n    border: 1px solid #b94a48 !important;\n}\n/*-------------------*/\ninput[type=text], input[type=password], textarea {\n    border: 1px solid #bbb;\n    padding: 7px 9px;\n    border-radius: 2px;\n    line-height: 1.3\n}\ninput[type=text]:focus, input[type=password]:focus, textarea:focus {\n    border: 1px solid #888\n}\ninput[type=checkbox], input[type=radio] {\n    width: 20px;\n    height: 20px\n}\ntextarea { width: 100% }\n\n</style>\n// for js validation see TS form_validation_\n\n\n\n
anchorjs_|<a href="javascript:void(0);" onclick="myfunc();return false"></a>
pattern_chain_of_responsibility_|pattern_chain_
textarea_|<textarea rows="5" cols="80">\|</textarea>\n<script type="text/javascript">\n\t$(document).ready(function(){\t\n\t\t//custom usage\n\t\t$("#message2").charCount({\n\t\t\tallowed: 50,\t\t\n\t\t\twarning: 20,\n\t\t\tcounterText: 'Characters left: '\t\n\t\t});\n\t});\n/*\n *  Character Count Plugin - jQuery plugin\n *  Dynamic character count for text areas and input fields\n * written by Alen Grakalic\n * http://cssglobe.com/post/7161/jquery-plugin-simplest-twitterlike-dynamic-character-count-for-textareas\n *\n * Copyright (c) 2009 Alen Grakalic (http://cssglobe.com)\n * Dual licensed under the MIT (MIT-LICENSE.txt)\n * and GPL (GPL-LICENSE.txt) licenses.\n *\n * Built for jQuery library\n * http://jquery.com\n *\n */\n(function($) {\n    $.fn.charCount = function(options) {\n        // default configuration properties\n        var defaults = {\n            allowed: 140,\n            warning: 25,\n            css: 'counter',\n            counterElement: 'span',\n            cssWarning: 'warning',\n            cssExceeded: 'exceeded',\n            counterText: ''\n        };\n        var options = $.extend(defaults, options);\n        function calculate(obj) {\n            var count = $(obj).val().length;\n            var available = options.allowed - count;\n            if (available <= options.warning && available >= 0) {\n                $(obj).next().addClass(options.cssWarning);\n            } else {\n                $(obj).next().removeClass(options.cssWarning);\n            }\n            if (available < 0) {\n                $(obj).next().addClass(options.cssExceeded);\n            } else {\n                $(obj).next().removeClass(options.cssExceeded);\n            }\n            $(obj).next().html(options.counterText + available);\n        };\n        this.each(function() {\n            $(this).after('<' + options.counterElement + ' class="' + options.css + '">' + options.counterText + '</' + options.counterElement + '>');\n            calculate(this);\n            $(this).keyup(function() {\n                calculate(this)\n            });\n            $(this).change(function() {\n                calculate(this)\n            });\n        });\n    };\n})(jQuery);\n</script>\n
todo_|// TODO: TM dd/mm/yyyy\n//
docstring_|\n/**\n * funzione:\n *\n */\n
img_lazyload_|//----------------------------------------------------------------------------\n//  lazy loading imgs, after are visible on scroll\n//----------------------------------------------------------------------------\n// on scroll, load imgs\nfunction scrollHandler() {\n    // Lazy load images or contents of elements with .lazy-load class\n    $.each($('.lazy-load'), function() {\n        var el = $(this);\n        var  doLoad = el.is(':visible') && isInViewport(this);\n        if (! doLoad) {\n            return true; // false would stop the .each loop!\n        }\n        if (el.is('img')) {\n            // Move data-src to src attribute\n            if (el.data('src')) {\n                el.attr('src', el.data('src'));\n                el.removeAttr('data-src');\n            }\n        }\n        // Performance: ensure we don't process this item on further scroll events again and again\n        el.removeClass('lazy-load');\n    });\n}\n// Check if DOM element is in browsers view port\nfunction isInViewport(el) {\n    var rect = el.getBoundingClientRect();\n    return (\n    rect.bottom >= 0 && rect.right >= 0 && rect.top <= (\n    window.innerHeight || document.documentElement.clientHeight) && rect.left <= (\n    window.innerWidth || document.documentElement.clientWidth));\n}\n//----- main --------------------------------------------------------------------\n$(function(){\n    // Fire scroll code after 250ms of idleness\n    var dsh = _.debounce(scrollHandler, 250 )\n    $(window).scroll( dsh );\n    // Trigger once explicitly, so content in viewport is loaded when user did not yet scroll\n    $(document).trigger('scroll');\n});\n// HTML\n<img  data-src="$img_url"  class=" lazy-load"  />\n
i_|<i>\|</i>
svg_|icon_svg_
li_|<li>\|</li>
img_zoom_|<script type="text/javascript"  >\n/*\n *  Easy Zoom 1.0 - jQuery plugin\n * written by Alen Grakalic\n * http://cssglobe.com/post/9711/jquery-plugin-easy-image-zoom\n *\n * Copyright (c) 2011 Alen Grakalic (http://cssglobe.com)\n * Dual licensed under the MIT (MIT-LICENSE.txt)\n * and GPL (GPL-LICENSE.txt) licenses.\n *\n * Built for jQuery library\n * http://jquery.com\n *\n */\n/*\n Required markup sample\n <a href="large.jpg"><img src="small.jpg" alt=""></a>\n */\n(function($) {\n    $.fn.easyZoom = function(options) {\n        var defaults = {\n            id: 'easy_zoom',\n            parent: 'body',\n            append: true,\n            preload: 'Loading...',\n            error: 'There has been a problem with loading the image.'\n        };\n        var obj;\n        var img = new Image();\n        var loaded = false;\n        var found = true;\n        var timeout;\n        var w1, w2, h1, h2, rw, rh;\n        var over = false;\n        var options = $.extend(defaults, options);\n        this.each(function() {\n            obj = this;\n            // works only for anchors\n            var tagName = this.tagName.toLowerCase();\n            if (tagName == 'a') {\n\n                var href = $(this).attr('href');\n                img.src = href + '?' + (new Date()).getTime() + ' =' + (new Date()).getTime();\n                $(img).error(function() {\n                    found = false;\n                })\n                img.onload = function() {\n                    loaded = true;\n                    img.onload = function() {};\n                };\n                $(this)\n                    .css('cursor', 'crosshair')\n                    .click(function(e) {\n                        e.preventDefault();\n                    })\n                    .mouseover(function(e) {\n                        start(e);\n                    })\n                    .mouseout(function() {\n                        hide();\n                    })\n                    .mousemove(function(e) {\n                        move(e);\n                    })\n            };\n\n        });\n        function start(e) {\n            hide();\n            var zoom = $('<div id="' + options.id + '">' + options.preload + '</div>');\n            if (options.append) {\n                zoom.appendTo(options.parent)\n            } else {\n                zoom.prependTo(options.parent)\n            };\n            if (!found) {\n                error();\n            } else {\n                if (loaded) {\n                    show(e);\n                } else {\n                    loop(e);\n                };\n            };\n        };\n        function loop(e) {\n            if (loaded) {\n                show(e);\n                clearTimeout(timeout);\n            } else {\n                timeout = setTimeout(function() {\n                    loop(e)\n                }, 200);\n            };\n        };\n        function show(e) {\n            over = true;\n            $(img).css({\n                'position': 'absolute',\n                'top': '0',\n                'left': '0'\n            });\n            $('#' + options.id).html('').append(img);\n            w1 = $('img', obj).width();\n            h1 = $('img', obj).height();\n            w2 = $('#' + options.id).width();\n            h2 = $('#' + options.id).height();\n            w3 = $(img).width();\n            h3 = $(img).height();\n            w4 = $(img).width() - w2;\n            h4 = $(img).height() - h2;\n            rw = w4 / w1;\n            rh = h4 / h1;\n            move(e);\n        };\n        function hide() {\n            over = false;\n            $('#' + options.id).remove();\n        };\n        function error() {\n            $('#' + options.id).html(options.error);\n        };\n        function move(e) {\n            if (over) {\n                // target image movement\n                var p = $('img', obj).offset();\n                var pl = e.pageX - p.left;\n                var pt = e.pageY - p.top;\n                var xl = pl * rw;\n                var xt = pt * rh;\n                xl = (xl > w4) ? w4 : xl;\n                xt = (xt > h4) ? h4 : xt;\n                $('#' + options.id + ' img').css({\n                    'left': xl * (-1),\n                    'top': xt * (-1)\n                });\n            };\n        };\n\n    };\n})(jQuery);\n</script>\n<script type="text/javascript">\njQuery(function($){\n\t$('a.zoom').easyZoom();\n});\n</script>\n<style>\n/*\nCopy/paste this into your own stylesheet.\nEdit width, height and placement of the dynamically created image zoom box. \n*/\n#easy_zoom{\n\twidth:600px;\n\theight:400px;\t\n\tborder:5px solid #eee;\n\tbackground:#fff;\n\tcolor:#333;\n\tposition:absolute;\n\ttop:60px;\n\tleft:400px;\n\toverflow:hidden;\n\t-moz-box-shadow:0 0 10px #777;\n\t-webkit-box-shadow:0 0 10px #777;\n\tbox-shadow:0 0 10px #777;\n\t/* vertical and horizontal alignment used for preloader text */\n\tline-height:400px;\n\ttext-align:center;\n\t}\n\n</style>\n</head>\n<body>\n<div id="container">\n<p><a href="https://i.ytimg.com/vi/Fl7V5dX5IrM/maxresdefault.jpg" class="zoom"><img src="https://i.ytimg.com/vi/Fl7V5dX5IrM/maxresdefault.jpg" width="50" height="40"></a></p>\n<p><em>Roll over the image to view details.</em></p>\n<p><a href="http://cssglobe.com/post/9711/jquery-plugin-easy-image-zoom" title="read more about this plugin">back to the article</a></p>\n</div>
icon_social_|<ul class="list-inline social-1">\n                        <li><a href="https://twitter.com/xxx" tabindex="-1"><i class="fa fa-twitter"></i></a></li>\n                        <li><a href="https://www.facebook.com/xxxx" tabindex="-1"><i class="fa fa-facebook"></i></a></li>\n                        <li><a href="#"><i class="fa fa-instagram" aria-hidden="true"></i></a></li>\n                    </ul>\n                    <style type="text/css">\n.social-1 {\n    margin: 0;\n    padding: 0\n}\n.social-1 li {\n    padding: 0\n}\n.social-1 li a i {\n    width: 32px;\n    height: 32px;\n    line-height: 32px;\n    font-size: 16px;\n    text-align: center;\n    color: #fff;\n    -webkit-border-radius: 2px;\n    -moz-border-radius: 2px;\n    -ms-border-radius: 2px;\n    border-radius: 2px;\n    -moz-transition: all 200ms ease-in;\n    -o-transition: all 200ms ease-in;\n    -webkit-transition: all 200ms ease-in;\n    transition: all 200ms ease-in\n}\n.social-1 li a i:hover {\n    opacity: .8\n}\n.social-1 li a i.fa-facebook {\n    background-color: #3b5998\n}\n.social-1 li a i.fa-twitter {\n    background-color: #0084b4\n}\n.social-1 li a i.fa-instagram {\n    background-color: #C63D2D\n}\n.social-1 li a i.fa-google-plus {\n    background-color: #C63D2D\n}\n.social-1 li a i.fa-pinterest {\n    background-color: #cb2027\n}\n.social-1 li a i.fa-dribbble {\n    background-color: #ea4c89\n}\n                    </style>
th_|<th>\|</th>
datalist_|<div class="wrapper">\n  <h1>\n    Native HTML Search\n  </h1>\n  <input list="items">\n  <datalist id="items">\n    <option value="Marko Denic">\n    <option value="FreeCodeCamp">\n    <option value="FreeCodeTools">\n    <option value="Web Development">\n    <option value="Web Developer">\n  </datalist>\n</div>\n<style>\n.wrapper {\n  padding-top: 30px;\n  text-align: center;\n  h1 {\n    font-weight: normal;\n  }\n  input {\n    padding: 10px;\n    font-size: 1.2em;\n  }\n}\n</style>
twb_dropdown_form_|<!--  -->\n<li class="dropdown open">\n<a href="#" class=" dropdown-toggle" data-toggle="dropdown" aria-expanded="true"><i class="fa fa-sign-in"></i> Sign In</a>\n\n<div id="signin_dialog" class="dropdown-menu dropdown-menu-right dropdown-login-box">\n    <form role="form" id="signin_dialog_form" method="POST" action="/signin_dialog">\n        <input type="hidden" name="csrfmiddlewaretoken" value="Dd9rfw78X2L4rDx6GWXmi8lkh7EtugVg12xoeHhZNDGgc9WxFQobssFEbEGZd9I0">\n        <h4>Sign In</h4>\n\n        <div class="form-group">\n            <div class="input-group">\n                <span class="input-group-addon"><i class="fa fa-user"></i></span>\n                <input id="signin_dialog_username" type="text" class="form-control" placeholder="Username" value="" maxlength="150" required="">\n            </div>\n            <br>\n            <div class="input-group">\n                <span class="input-group-addon"><i class="fa fa-lock"></i></span>\n                <input id="signin_dialog_password" type="password" class="form-control" placeholder="Password" value="" maxlength="100" required="">\n            </div>\n            <div class="checkbox pull-left">\n                <label>\n                    <input id="signin_dialog_remember_me" type="checkbox" value="1" checked=""> Remember me\n                </label>\n            </div>\n\n            <input type="submit" class="btn btn-theme-bg pull-right" value="Sign In">\n            <div class="clearfix"></div>\n\n            <div id="signin_dialog_loading" class="signin_dialog_message">\n                <img src="https://d3bxp9sx65hgh1.cloudfront.net/17.7.2/images/loader-med-grey.gif" alt="Please Wait..."> Signing In...\n            </div>\n            <div id="signin_dialog_success" class="signin_dialog_message alert-success alert">Login successful, forwarding to your profile page.</div>\n            <div id="signin_dialog_fail" class="signin_dialog_message alert-danger alert"></div>\n\n            <div class="clearfix"></div>\n            <hr>\n\n            <p>Don't have an account! <a href="/signup">Register Now</a></p>\n            <p>Trouble logging in? <a href="/forgotpassword">Forgot Password?</a></p>\n\n\n        </div>\n    </form>\n</div>\n</li>\n<!--  -->
img_gallery_|<style>\ndiv.gallery {\n    margin: 5px;\n    border: 1px solid #ccc;\n    float: left;\n    width: 180px;\n}\n\ndiv.gallery:hover {\n    border: 1px solid #777;\n}\n\ndiv.gallery img {\n    width: 100%;\n    height: auto;\n}\n\ndiv.desc {\n    padding: 15px;\n    text-align: center;\n}\n</style>\n<div class="gallery">\n  <a target="_blank" href="img_fjords.jpg">\n    <img src="img_fjords.jpg" alt="Trolltunga Norway" width="300" height="200">\n  </a>\n  <div class="desc">Add a description of the image here</div>\n</div>\n<div class="gallery">\n  <a target="_blank" href="img_forest.jpg">\n    <img src="img_forest.jpg" alt="Forest" width="600" height="400">\n  </a>\n  <div class="desc">Add a description of the image here</div>\n</div>\n// @see http://dimsemenov.com/plugins/magnific-popup/\n \n
label_|<label for="male">Male</label>\n  <input type="radio" name="sex" id="male" />\n  <br />
span_|<span class="">\|</span>
focus_|autofocus_
html_|<!DOCTYPE html>\n<html>\n  <head>\n    <title></title>\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n\n    <!-- local -->\n    <script       src="node_modules/jquery/dist/jquery.js"></script>\n    <script async src="node_modules/bootstrap/dist/js/bootstrap.min.js"></script>\n    \n    <!-- cdn -->\n    <script src="http://code.jquery.com/jquery.js"></script>\n    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" >\n    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>\n\n\n  </head>\n  <body>\n    <h1>Hello, world!</h1>\n    \n  </body>\n</html>\n\n\n
////|//TM 01-01-17:
anchor_analytics_|<a href="#" onclick="_gaq.push(['_trackEvent', 'Share', 'Twitter']);">\nlink\n</a>\n\n
---|<!-- $1\| -->
fontfamily_|font-family: Arial, 'Helvetica Neue', Helvetica, sans-serif;\nfont-family: "Helvetica Neue",Helvetica,Arial,sans-serif;
javascript_|js_
checkbox_|input_checkbox_
twb_media_|<div class="media">\n              <a class="pull-left" href="#">\n                <img class="media-object" data-src="holder.js/64x64" alt="64x64" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAACYUlEQVR4Xu2Y26tpURTGP9sl8UBJHpBbIfGAB+W/R8k1Sh5IkQeS+/0WTmOU3TnnYa+zrX3aO8YsZRrLmGt84/JjaWaz2Q0vvDQigFSAtIDMgBeegZAhKBQQCggFhAJCgRdWQDAoGBQMCgYFgy8MAfkzJBgUDAoGBYOCQcHgCysgGFSLwfP5jHa7jclkgre3N/j9fjidzj9qqt/v8zWxWAwOh+PDevtqf0rFrboCarUa5vM5QqEQizAej5FOp2Eymfjs5XKJarWK6/X6TwJ8tb//KgBlK5PJcFYpu7Tf7/cwm83QarW8LxaLMBgMWK1W7wJQkNPpFIlEAnq9HuVyGRaLhe3ZbPbT/pSC/MiuqgIou3TzVqsVx+MRt9sNHo8Hbrebz6zX6zidTggEAqCg7y1An5VKJb7mLlQqlcLhcHjI37cLYDQaEY1GuQV6vR5nljLe7Xb5PQXWaDQQiUQ4uxQ0tQ21Bq14PA6bzcbtQoI+4u9REVRVAGU9l8u9l+xut0M+n0cwGMRoNOKA/l7hcBgulwvD4RDNZpPNNDjppcbftwhAh1YqFWw2Gw56sVhgMBggmUxCo9Hgcrnwfa3Xa3Q6Hfh8PiYEDURqAZoVOp0Os9mMv0Ot9Ig/qphHl6oKoEMpa61Wi4caDTSv18sZ/n2R7T4D7HY7B7ndbkF9T+gsFAosBO1JnM/4U8KqkjCqBVA64KfbRQC1vwR/eoaV7k8qQCpAHonJIzF5JKY0KZ/ZLhQQCggFhAJCgWee8kqxCQWEAkIBoYBQQGlSPrNdKCAUEAoIBYQCzzzllWJ7eQr8AnnzV5+f9jRJAAAAAElFTkSuQmCC" style="width: 64px; height: 64px;">\n              </a>\n              <div class="media-body">\n                <h4 class="media-heading">Media heading</h4>\n                Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante sollicitudin commodo. Cras purus odio, vestibulum in vulputate at, tempus viverra turpis. Fusce condimentum nunc ac nisi vulputate fringilla. Donec lacinia congue felis in faucibus.\n              </div>\n</div>
css_|<link rel="stylesheet" href="">\| \n\n    <?php\n    $path_js = APPLICATION_PATH.'/../public/js/all.js';\n    $path_css = APPLICATION_PATH.'/../public/css/all.css';\n    $_add_cb = function($path, $url){\n        // $use_cb = Bootstrap::isEnvDev() || Bootstrap::isEnvTest();\n        $cb = true ? filemtime($path ) : '' ;\n        return sprintf('%s?%s', $url, $cb );\n    }\n    ?>\n    <link type="text/css" rel="stylesheet" media="screen" href="<?=$_add_cb($path_css, '/css/all.css' );?>">\n    <script type="text/javascript" src="<?=$_add_cb($path_js, '/js/all.js' );?>"></script>
nbsp_|nb_
input_password_| \n        <label for="field">Password:</label><br>\n        <input type="password" id="password_field" data-indicator="pwindicator">\n        <btn id="pass_gen_btn"></btn>\n        <div id="pwindicator">\n            <div class="bar"></div>\n            <div class="label"></div>\n        </div>\n\n        <!-- An element to toggle between password visibility -->\n        <input type="checkbox" onclick="password_show('password_field')">Show Password\n \n  <script>\n  function password_show(input_id) {\n    var x = document.getElementById(input_id);\n    x.type = (x.type === "password") ? "text" : "password";  \n  }\n  jQuery(function($) { \n        $('#field').pwstrength(); \n    });\n  // git clone git://github.com/matoilic/jquery.pwstrength   \n  </script> \n<script language="JavaScript" type="text/JavaScript">\n        $(function(){\n\n            function buildRandomString(){\n                // tolta "O" perché si confonde con 0\n                var chars = "ABCDEFGHIJKLMNPQRSTUVWXTZ";// abcdefghiklmnopqrstuvwxyz\n                var string_length = 10;\n                var randomstring = '';\n                var charCount = 0;\n                var numCount = 0;\n\n                for (var i=0; i<string_length; i++) {\n                    // generate a numeric value\n                    // If random bit is 0, there are less than 3 digits already saved, and there are not already 5 characters saved,\n                    if((Math.floor(Math.random() * 2) == 0) && numCount < 3 || charCount >= 5) {\n                        var rnum = Math.floor(Math.random() * 10);\n                        randomstring += rnum;\n                        numCount += 1;\n                    } else {\n                        // generate an alpha character from the chars string\n                        var rnum = Math.floor(Math.random() * chars.length);\n                        randomstring += chars.substring(rnum,rnum+1);\n                        charCount += 1;\n                    }\n                }\n                return randomstring;\n            }\n\n            var txt = $('#{$this->form_id} #{$html_id}');\n\n            var html = '&nbsp;&nbsp;<a href="javascript:void(0);" id="pass_gen_btn" class="btn btn-default">genera password</a>';\n            txt.after(html);\n\n            $('#{$this->form_id} #pass_gen_btn').click(function(){\n                var passwd = buildRandomString();\n                txt.val(passwd);\n            });\n\n        });\n        </script>\n
ctype_digit_|ctype_digit( $val ) // str è solo 0-9, nessun altro char\n$_is_digit = function($val) {\n    if( 1 == preg_match('/^[0-9\\.,]$/i', $str) ) {\n        // digits and . or ,\n        return true;\n    }\n    return false;\n};
twb_alert_|<div class="alert alert-success" role="alert">\n\n</div>\n\n$html_aumento_capitale_2015_disclaimer = '\n<div class="alert alert-warning alert-dismissible fade in" role="alert">\n    <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">×</span></button>\n    '.$html_aumento_capitale_2015_disclaimer.'\n</div>\n';\n
twb_popover_|<span  \n  data-toggle="popover" \n  title="Popover title" \n  onclick="$(this).popover({html:true});"  \n  data-content="And here`s some amazing content.</br> <a href=#>It`s very engaging.</a> </br> Right? " \n> %s </span>
twb_|https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css\nhttps://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js\n// add a theme from:\nhttps://bootswatch.com/sandstone/
table_|\|<table id="" border="0" cellpadding="0" cellspacing="0" class="table table-condensed">\n    <caption>Caption</caption>\n    <thead>\n        <tr>\n            <th> content </th>\n            <th> content </th>\n            <th> content </th>\n            <th> content </th>\n        </tr>\n    </thead>    \n    <tbody>\n        <tr>\n            <td> content </td>\n            <td> content </td>\n            <td> content </td>\n            <td> content </td>\n        </tr>\n    </tbody>\n</table>\n<style>\ntable {\n\tborder:0;\n\tborder-top:1px solid #999;\n\tborder-left:1px solid #999;\n\tfont-size:90%;\n\tmargin:1em 20px 0 0;\n}\ntd table {\n\twidth:100%;\n\tmargin:0;\n}\ntd,th {\n\tborder:0;\n\tborder-right:1px solid #999;\n\tborder-bottom:1px solid #999;\n\tpadding:.2em .3em;\n}\nth {\n\tbackground:#eee;\n\ttext-align:left;\n}\nthead th {\n\ttext-align:center;\n\tpadding:.2em .5em;\n}\n</style>
GOLDEN_|define('GOLDEN', 1.61803398875, true );\n$h = 10; $w = 10/GOLDEN;
html5_autocomplete_|-- es 1\n<input id="countryInput"\n       type="text"\n       data-bind="value: selectedCountry"\n       list="countryList" />\n<datalist id="countryList" data-bind="foreach: countries">\n    <option data-bind="value: country"></option>\n</datalist>\n\n\n-- es. 2 ----------------\n<label>Cc: <input type=email multiple name="contact" list="contact_list"></label>\n<datalist id="contact_list">\n <option value="hedral@damowmow.com">\n <option value="pillar@example.com">\n <option value="astrophy@cute.example">\n <option value="astronomy@science.example.org">\n</datalist>\n\n--- auto complete helper ---------\n        // genera un autocomplete per la ricerca\n        /* uso:\n        \\DMS\\Helper::autocomplete_list('q', 'Codice/Descrizione', $a_article_id, [\n            'js_val_process' => 'q_val_process',\n            'js_validate' => 'q_validate',\n            'js_use_code' => 'q_use_code'\n        ]);\n        <script>\n            // what to do with code param\n            function q_use_code(code) {\n                var url = window.location.origin + '/articles_update/' + code;\n                window.location.href = url;\n            }\n            // validator\n            function q_validate( code ) {\n                var re_code = /^([a-zA-Z0-9_.-])+$/;\n                return re_code.test(code);\n            }\n            function q_val_process( full_txt ) {\n                // expects format ("%s: %s", code, name)\n                var a_parts = full_txt.split(': ');\n                if( a_parts[0] !== void 0 ) {\n                    var code = a_parts[0].trim();\n                    console.log( 'code: '+ code );\n                    return code;\n                } else {\n                    alert('invalid choice: '+a_parts[0]);\n                    return null;\n                }\n            }\n        </script>\n         */\n        /** @param array<string> $a_values */\n        public static function autocomplete_list(string $name, string $label, array $a_values, array $opt = []): string{\n            $option = array_merge([\n                'js_val_process' => $name . '_val_process',\n                'js_validate' => $name . '_validate',\n                'js_use_code' => null,\n            ], $opt);\n            extract($option);\n            $a_html_options = array_map(function (string $val): string {\n                return "<option value=\\"$val\\">";\n            }, $a_values);\n            $html_options = implode("\\n", $a_html_options);\n            //\n            $html = <<<__END__\n            <label>$label <input type="text"  name="$name" list="{$name}_list" class="form-control"></label>\n            <datalist id="{$name}_list">\n             $html_options\n            </datalist>\n            <a href="javascript:void(0);" class="btn btn-primary btn-small"\n                title="Click to edit your choiche"\n                onclick="search_{$name}(this);return false;"\n            >Cerca</a>\n            <script >\n            function search_{$name}(el){\n                var full_txt = $('[name={$name}]').val();\n                var code = {$opt['js_val_process']}(full_txt);\n                if( {$opt['js_validate']}(code) ) {\n                     {$opt['js_use_code']}(code);\n                } else {\n                    alert('invalid code: '+code);\n                }\n            }\n            //---- defaults ---\n            function {$name}_validate( code ) {\n                var re_code = /^([a-zA-Z0-9_.-])+$/;\n                return re_code.test(code);\n            }\n            function {$name}_val_process( full_txt ) {\n                // expects format ("%s: %s", code, name)\n                var a_parts = full_txt.split(': ');\n                if( a_parts[0] !== void 0 ) {\n                    var code = a_parts[0].trim();\n                    console.log( 'code: '+ code );\n                    return code;\n                } else {\n                    alert('invalid choice: '+a_parts[0]);\n                    return null;\n                }\n            }\n            </script>\n__END__;\n            return $html;\n        }\n@see autocomplete_
pattern_|patterns_
link_|css_
js_refresh_|location.reload();
link_css_|<link rel=stylesheet href="/css/main.min.css" type="text/css">
submit_|<input type="submit" value="Salva" id="">
div_|<div id="" class="">\|</div>
css_align_|text-align: left;//  right; center; justify;\n// element center on parent\n.center {\n    margin: auto;\n    width: 50%;\n    border: 3px solid green;\n    padding: 10px;\n}\nimg {\n    display: block;\n    margin: auto;\n    width: 40%;\n}\n\n\n
autofocus_|autofocus /* html attribute */
css_font_|<link href="https://fonts.googleapis.com/css?family=Lato:100" rel="stylesheet" type="text/css">\n<style>\nbody {\n  font-weight: 100;\n  font-family: 'Lato';\n}\n</style>
twb_breadcrumbs_|<ul class="breadcrumb">\n  <li><a href="#">Home</a></li>\n  <li><a href="#">Servizi</a></li>\n  <li class="active">Offerte</li>\n</ul>
background_|background:#ffffff url('img_tree.png') no-repeat right top;\nbackground-image: url("https://www.transparenttextures.com/patterns/xv.png");//texture\nbackground-color:rgba(0, 0, 0, 0.5);//transparance
h6_|<h6>\|</h6>
accordion_|<div class="wrapper">\n  <details>\n    <summary>\n      Click me to see more details\n    </summary>\n\n    <p>\n      Lorem ipsum dolor sit amet consectetur adipisicing elit. Ut eum perferendis eius. Adipisci velit et similique earum quas illo odio rerum optio, quis, expedita assumenda enim dicta aliquam porro maxime minima sed a ullam, aspernatur corporis.\n    </p>\n  </details>\n</div>\n<style>\n.wrapper {\n  padding: 30px;\n  display: flex;\n  justify-content: center;\n}\n..wrapper details {\n  width: 100%;\n  max-width: 500px;\n}\n.wrapper summary {\n  background: #f2f2f2;\n  cursor: pointer;\n  padding: 15px;\n}\n.wrapper p {\n  padding: 15px;\n  margin: 0;\n  background: #f2f2f2;\n}\n</style>
sql_update_|UPDATE EMPLOYEE\n     SET JOB=NULL, SALARY=0, BONUS=0, COMM=0\n     WHERE WORKDEPT = 'E21' AND JOB <> 'MANAGER'
ul_|<ul class="list-unstyled" id="myList">\|</ul>\n\n<!-- search functionality -->\n<input id="myInput" type="text" placeholder="Search..">\n<script>\n$(document).ready(function(){\n  $("#myInput").on("keyup", function() {\n    var value = $(this).val().toLowerCase();\n    $("#myList li").filter(function() {\n      var found = $(this).text().toLowerCase().indexOf(value) > -1;\n      $(this).toggle(found)\n    });\n  });\n});\n</script>\n// Pure JS search\nlet boxes = document.querySelectorAll('.image')   \nfunction liveSearch() {\n    let search_query = document.getElementById("searchbox").value;\n\n    for (var i = 0; i < boxes.length; i++) {\n        if (boxes[i].getAttribute('alt').toLowerCase()\n            .includes(search_query.toLowerCase())) {\n            boxes[i].classList.remove("is-hidden");\n        } else {\n            boxes[i].classList.add("is-hidden");\n        }\n    }\n}\nlet typingTimer;\nlet typeInterval = 500;\nlet searchInput = document.getElementById('searchbox');\nsearchInput.addEventListener('keyup', () => {\n    clearTimeout(typingTimer);\n    typingTimer = setTimeout(liveSearch, typeInterval);\n});\n\n<input class='input mb-5' type="search" id="searchbox" placeholder="Live search keyword..">\n<div>\n          <img class='image' src="https://i.ibb.co/M8JZtzV/Screen-Shot-2021-10-15-at-5-48-47-AM.png" width="100%" height="150" alt="walking at harbour" />\n          <img class='image' src="https://i.ibb.co/jV9m8Rd/Screen-Shot-2021-10-15-at-5-48-43-AM.png" width="100%" height="150" alt="high five with human" />\n</div>\n\n \n \n
twb_nav_sidebar_|<div class="container-fluid">\n      <div class="row-fluid">\n        <div class="span3">\n          <div class="well sidebar-nav">\n            <ul class="nav nav-list">\n              <li class="nav-header">Sidebar</li>\n              <li class="active"><a href="#">Link</a></li>\n              <li><a href="#">Link</a></li>\n              <li><a href="#">Link</a></li>\n              <li><a href="#">Link</a></li>\n              <li class="nav-header">Sidebar</li>\n              <li><a href="#">Link</a></li>\n              <li><a href="#">Link</a></li>\n              <li><a href="#">Link</a></li>\n              <li><a href="#">Link</a></li>\n              <li><a href="#">Link</a></li>\n              <li><a href="#">Link</a></li>\n              <li class="nav-header">Sidebar</li>\n              <li><a href="#">Link</a></li>\n              <li><a href="#">Link</a></li>\n              <li><a href="#">Link</a></li>\n            </ul>\n          </div><!--/.well -->\n        </div><!--/span-->\n        <div class="span9">\n          \n          <!--/row-->\n          <div class="row-fluid">\n            <div class="span4">\n              <h2>Heading</h2>\n              <p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. </p>\n              <p><a class="btn" href="#">View details »</a></p>\n            </div><!--/span-->\n            <div class="span4">\n              <h2>Heading</h2>\n              <p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. </p>\n              <p><a class="btn" href="#">View details »</a></p>\n            </div><!--/span-->\n            <div class="span4">\n              <h2>Heading</h2>\n              <p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. </p>\n              <p><a class="btn" href="#">View details »</a></p>\n            </div><!--/span-->\n          </div><!--/row-->\n        </div><!--/span-->\n      </div><!--/row-->\n\n      <hr>\n\n      <footer>\n        <p>© Company 2013</p>\n      </footer>\n\n    </div>
jq_data_|<div data-role="page" data-last-value="43" data-hidden="true" data-options='{"name":"John"}'></div>\n \n$('div').data('role') === 'page';\n$('div').data('lastValue') === 43;\n$('div').data('hidden') === true;\n$('div').data('options').name === 'John';
onclick_|title="Click to do xxx"\nhref="#" \nonclick="MyFunction();return false;"
window_open_|var w_opt = "top=10, left=10, width=250, height=200, status=no, menubar=no, toolbar=no scrollbars=no";\nvar url = '';\nvar w_ = window.open(url, '', w_opt);\n// w_.document.write("<html>\\n");\n// w_.document.write("<div align=center> Popup </div>\\n");\n// w_.document.write("</html>");\n\nfunction pop1(url,w,h)\n{\n\twindow.open(url,"PopUp","toolbar=no,directories=no,menubar=no,scrollbars=no,width="+w+",height="+h);\n}\nfunction popintraday(url,w,h)\n{\n\twindow.open(url,"PopUpIntraday","toolbar=no,directories=no,menubar=no,scrollbars=no,width="+w+",height="+h);\n}\n
tr_|<tr>\n\t<td>\|\t&nbsp;</td>\n</tr>
include_js_|js_
twb_jumbotron_|<div class="jumbotron text-center">\n  <h1>Marathon</h1>\n  <p class="lead">\n    A container orchestration platform for Mesos and DC/OS\n  </p>\n  <p>\n    <a href="https://downloads.mesosphere.com/marathon/releases/1.5.2/marathon-1.5.2.tgz" class="btn btn-lg btn-primary">\n      Download Marathon v1.5.2\n    </a>\n  </p>\n  <a class="btn btn-link" href="https://downloads.mesosphere.com/marathon/releases/1.5.2/marathon-1.5.2.tgz.sha1">\n    v1.5.2 SHA Checksum\n  </a> ·\n  <a class="btn btn-link" href="https://github.com/mesosphere/marathon/releases/tag/v1.5.2">\n    v1.5.2 Release Notes\n  </a>\n</div>
js_|<script type="text/javascript">\|</script>\n\n    <?php\n    $path_js = APPLICATION_PATH.'/../public/js/all.js';\n    $path_css = APPLICATION_PATH.'/../public/css/all.css';\n    $_add_cb = function($path, $url){\n        // $use_cb = Bootstrap::isEnvDev() || Bootstrap::isEnvTest();\n        $cb = true ? filemtime($path ) : '' ;\n        return sprintf('%s?%s', $url, $cb );\n    }\n    ?>\n    <link type="text/css" rel="stylesheet" media="screen" href="<?=$_add_cb($path_css, '/css/all.css' );?>">\n    <script type="text/javascript" src="<?=$_add_cb($path_js, '/js/all.js' );?>"></script>
_alfa_|/* greek alphabet:\nalfa\nbeta\ngamma\ndelta\nepsilon\nzeta\neta\ntheta  \niota\nkappa \nlambda\nmu  \nnu \nxi\nomicron \npi\nrho \nsigma\ntau\nipsilon \nphi\nchi\npsi\nomega\n*/
css_mp0_|margin:0; padding:0;
//--|//------------------------------------------------------------------------------
input_number_|inut_numeric_
palette_|$c_red     = rgb(224, 21, 21); \n$c_orange  = rgb(255, 102, 0); \n$c_sand    = rgb(250, 196, 80); \n$c_magenta = rgb(228, 36, 155); \n$c_grey    = rgb(204, 204, 204); \n$c_green   = rgb(95, 188, 41); \n$c_purple  = rgb(88, 45, 170); \n$c_blue    = rgb(0, 151, 218); \n$c_cian    = rgb(1, 179, 202); \n\n\n\n
h5_|<h5>\|</h5>
twb_form_actions_|<!-- v2.2.2 -->\n<div class="form-actions">\n  <button type="submit" class="btn btn-primary">Save changes</button>\n  <button type="button" class="btn">Cancel</button>\n</div>
icon_svg_down_|<svg focusable="false" version="1.1" xmlns="http://www.w3.org/2000/svg"><g><polygon points="0 0 22 0 11 17"></polygon></g></svg>\n\n
new_|$1 $2 = new $1(\|);
html_progress_|<progress id="" max="100" value="90"></progress>
bs_|&nbsp;
twb_treeview_|https://github.com/jonmiles/bootstrap-treeview\nhttp://jonmiles.github.io/bootstrap-treeview/
twb_panel_|<div class="panel panel-primary _panel-success _panel-info _panel-warning _panel-danger ">\n  <div class="panel-heading">\n    <h3 class="panel-title">\n        Panel title\n    </h3>\n  </div>\n  <div class="panel-body">\n    Panel content\n  </div>\n</div>\n\n\n\n<div class="panel panel-primary"> <div class="panel-heading"> <h3 class="panel-title">Panel title</h3> </div> <div class="panel-body"> Panel content </div> </div> <div class="panel panel-success"> <div class="panel-heading"> <h3 class="panel-title">Panel title</h3> </div> <div class="panel-body"> Panel content </div> </div> <div class="panel panel-info"> <div class="panel-heading"> <h3 class="panel-title">Panel title</h3> </div> <div class="panel-body"> Panel content </div> </div> <div class="panel panel-warning"> <div class="panel-heading"> <h3 class="panel-title">Panel title</h3> </div> <div class="panel-body"> Panel content </div> </div> <div class="panel panel-danger"> <div class="panel-heading"> <h3 class="panel-title">Panel title</h3> </div> <div class="panel-body"> Panel content </div> </div> \n\n\n\n\n \n
twb_menu_megamenu_|http://geedmo.github.io/yamm/#
hr_|<hr style="" />
sql_delete_|DELETE posts FROM posts\nINNER JOIN projects ON projects.project_id = posts.project_id\nWHERE projects.client_id = :client_id
jqload_|$(function(){\|});
h4_|<h4>\|</h4>
td_|<td>\|&nbsp;</td>
euro_|€
img_didascalia_|.caption {\n    font-family: Verdana, sans-serif;\n    font-size: 10px;\n    float: left;\n    margin: 0;\n    padding: 0;\n    position: relative;\n    overflow: hidden;\n}\n.caption img {\n    float: left;\n    margin: 0;\n    padding: 0;\n    background: #fff;\n    border: none;\n}\n\n.caption span {\n    float: left;\n    margin: 0;\n    padding: 10px;\n    width: 100%;\n    color: #dedede;\n    background: #222; /* browser che non supportano rgba */\n    background: rgba(0,0,0,0.7);\n    position: absolute;\n    left: 0;\n    bottom: 0;\n}\n.caption span strong {\n    font-weight: bold;\n    font-size: 11px;\n    text-transform: uppercase;\n    display: block;\n    padding-bottom: 5px;\n}\n</style>\n<div class="caption">\n    <img src="esempio2.jpg" alt="" />\n    <span>\n        <strong>Lorem ipsum</strong>\n        Lorem ipsum dolor sit amet consectetuer eros Vivamus porta interdum venenatis.\n    </span>\n</div>
input_num_|input_numeric_
br_|<br />
dief_|die(__FUNCTION__."\|");
sql_insert_|INSERT INTO TABLE_NAME (EMPID, EMPNAME, EMPADDR)\n     VALUES (DEFAULT, :hv_name, :hv_addr)\n-- mysql specific\n  ON DUPLICATE KEY \n    UPDATE EMP_COUNT = EMP_COUNT+1;
jq_|<script src="http://code.jquery.com/jquery-latest.min.js" ></script>
twb_form_contact_|<div class="col-sm-6 col-sm-offset-3" style="background-color: #f5f5f8; margin-top: 30px; padding: 20px;">\n\n            \n\n            <div class="sky-form-style v2">\n                <form method="POST" id="signup-form" class="sky-form">\n                    <input type="hidden" name="csrfmiddlewaretoken" value="Dd9rfw78X2L4rDx6GWXmi8lkh7EtugVg12xoeHhZNDGgc9WxFQobssFEbEGZd9I0">\n                    <div class="form-group">\n                        <section>\n                            <label class="input">\n                                <i class="icon-append fa fa-user"></i>\n                                <input type="text" name="name" class="form-control" placeholder="Your Name or Username" value="" maxlength="50" required="">\n                                <b class="tooltip tooltip-bottom-right">Your name</b>\n                            </label>\n                        </section>\n                    </div>\n                    <div class="form-group">\n                        <section>\n                            <label class="input">\n                                <i class="icon-append fa fa-envelope"></i>\n                                <input type="text" name="email" class="form-control" placeholder="Your Email" value="">\n                                <b class="tooltip tooltip-bottom-right">Your email</b>\n                            </label>\n                        </section>\n                    </div>\n                    <div class="form-group">\n                        <section>\n                            <label class="textarea">\n                                <textarea name="message" class="form-control" placeholder="Your message..." style="height: 200px;"></textarea>\n                            </label>\n                        </section>\n                    </div>\n\n                    <button type="submit" class="btn btn-theme-bg btn-lg pull-right">Send Message</button>\n\n                </form>\n\n            </div>\n        </div>
img_replacement_|TODO: usata per il seo\nsi usa un container di testo che vien spostato con css e rimpiazzato con una immagine
img_text_|<h3 class="txt1">Lorem Ipsum</h3>\nh3.txt1 {\n  margin: 0px;\n  background-image: url('esempio1.jpg');\n  background-repeat: no-repeat;\n  color: #FFFFFF;\n  background-color: red;\n  font-size: 140%;\n  font-weight: normal; \n  line-height: 260px;\n  text-align: center;\n  width: 240px;\n  height: 150px;          \n}\n// img as a background of a text container
twb_col_|<div class="col-lg-6 col-md-6 col-xs-12"> aaa </div>
patterns_|// Creazionali\n//     pattern_abstract_factory_ //espone al client una interfaccia che genera istanze, evita la necessità di specificare i nomi delle classi concrete\n//     pattern_builder_  //crea un oggetto, occupandosi di ricostruire uno stato complesso e valido e/o dipendenze di istanze numerose\n//     pattern_factory_  //crea istanze configurate appropriatamente per il contesto\n//     pattern_prototype_//clona oggetto esistente anzichè crearlo da vuoto\n//     pattern_singleton_//permette una sola istanza di oggetto\n// Strutturali\n//     pattern_adapter_  //sistemi differenti permettono le stesse operazioni(interfaccia)\n//     pattern_bridge_   //wrappa sistemi differenti esponendo una interfaccia nota\n//     pattern_composite_ //permette operazioni su un gruppo di oggetti come se si trattasse di un singolo ogggetto(espongono interfaccia condivisa)\n//     pattern_decorator_ //wrappa e aumenta le funzionalità di funzione o metodo o oggetto\n//     pattern_facade_    //espone una api semplificata su metodi di base altrimenti complessi/verbosi\n//     pattern_flyweight_ //risparmio memoria mettendo dati comuni (intrinsicState) a un gruppo di oggetti, in un singolo oggetto separato\n//     pattern_proxy_  // lazy loading, permette di memorizzare e riutilizzare il risultato di computazioni o IO\n// Comportamentali\n//     pattern_chain_ pattern_chain_of_responsibility_ //si costruisce una catena di oggetti che gestiscono una richiesta, si passa la richiesta alla catena, la catena si interrompe se un oggetto consuma la richeiesta\n//     pattern_command_  //isolare la porzione di codice che effettua un'azione complessa(Command) dalla classe che ne richiede l'esecuzione\n//     pattern_interpreter_ //\n//     pattern_iterator_ //permette di usare un oggetto come una lista\n//     pattern_mediator_ //le entità coinvolte una iterazione di oggetti, devono fare riferimento solamente al mediatore\n//     pattern_memento_ //l'operazione di estrarre lo stato interno di un oggetto, per poterlo poi ripristinare in un secondo momento\n//     pattern_observer_ // SplObserver_ un Subject notifica gli Observer se il suo stato cambia\n//     pattern_state_ // separa comportamento (a run-time) in funzione dello stato in cui si trova l'oggetto che implementa lo stato e il cambiamento di stato\n//     pattern_strategy_ //isola in un oggetto(intercambiabile) un algoritmo\n//     pattern_template_method_ //definire la struttura di un algoritmo lasciando alle sottoclassi il compito di implementarne alcuni passi\n//     pattern_visitor_ //delega un oggetto che processerà una lista di oggetti\nsolid_
html_comment_|---
sql_replace_|REPLACE [LOW_PRIORITY | DELAYED]\n    [INTO] tbl_name\n    [PARTITION (partition_name,...)] \n    SET col_name={expr | DEFAULT}, ...
palette_tango_|/*\nButter yellow\n\t#fce94f\t#edd400\t#c4a000\nOrange\n\t#fcaf3e\t#f57900\t#ce5c00\nChocolate\n\t#e9b96e\t#c17d11\t#8f5902\nChameleon green\n\t#8ae232\t#73d216\t#4e9a06\nSky blue\n\t#729fcf\t#3465a4\t#204a87\nPlum viola\n\t#ad7fa8\t#75507b\t#5c3566\nScarlet red\n\t#ef2920\t#cc0000\t#a40000\nAluminium grigi\n\t#eeeeec\t#d3d7cf\t#babdb6\n\t#888a85\t#555753\t#2e3436\n*/\n
input_numeric_|// @see github.com/vsn4ik/jquery.spinner\n<input type="number" name="cod_customer" value="" placeholder="" \n  pattern="[0-9.]+" min="0" max="999" step="1"\n  onkeypress='return /[0-9\\.]/.test(String.fromCharCode(event.charCode || event.keyCode))'>\n\n// numeric validaton \n$('input[type="number"]').on('keypress', function(event) {\n    var charCode = (event.which) ? event.which : event.keyCode;\n    if (charCode > 31 && (charCode < 48 || charCode > 57)) {\n        return false;\n    }\n    return true;\n});\n
jq_load_|$(function(){\n    \|});
twb_form_login_|<form class="form-signin">\n        <h2 class="form-signin-heading">Please sign in</h2>\n        <input type="text" class="input-block-level" placeholder="Email address">\n        <input type="password" class="input-block-level" placeholder="Password">\n        <label class="checkbox">\n          <input type="checkbox" value="remember-me"> Remember me\n        </label>\n        <button class="btn btn-large btn-primary" type="submit">Sign in</button>\n      </form>
button_|btn_
h3_|<h3>\|</h3>
img_|<!-- alternative: https://picsum.photos/200/300?grayscale -->\n<img src="http://via.placeholder.com/350x150" \| border="0" alt="" onerror="this.src='/img/NA.png'"/ class=" img-responsive" loading="lazy">\n<script>\n    export function set_default_img(el_img: HTMLImageElement, w=750, h=450, msg = 'Image Not Found' ) {\n        let canvas = document.createElement('canvas');\n        // browser check\n        if (typeof canvas.getContext == 'function') {\n            canvas.width = w; // set the width\n            canvas.height = h; // set the height\n            let context = canvas.getContext('2d');\n            context.font = '30px Arial';\n            let x = Math.ceil( (canvas.width - 200) / 2 );\n            let y = Math.ceil( (canvas.height - 40) / 2 );\n            context.fillText(msg, x , y );\n            let url = canvas.toDataURL('image/png');\n            el_img.src = url;\n            $(el_img).css({ 'background-color': '#dddddd' });\n        }\n    }\n</script>\n@see img_lazyload_
p_|<p>\|</p>
phpo_|<?=\|?>
sql_select_|SELECT \nFROM       \nWHERE\nORDER BY
twb_modal_|<div id="myModal" class="modal fade">\n <div class="modal-dialog">\n  <div class="modal-content">\n   <div class="modal-header">\n    <button type="button" class="close" data-dismiss="modal">&times;</button>\n    <h4 class="modal-title">Titolo</h4>\n   </div>\n   <div class="modal-body">\n    <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt...</p>\n   </div>\n   <div class="modal-footer">\n    <button type="button" class="btn btn-default" data-dismiss="modal">Chiudi</button>\n    <button type="button" class="btn btn-primary">Invia</button>\n   </div>\n  </div>\n </div>\n</div>\n\n<a href="#" data-toggle="modal" data-target="#myModal">Apri il box</a>\n \n<button class="btn btn-primary" data-toggle="modal" data-target="#myModal">Apri il box</button>\n\n\n
eval_|$str = 'This is a $string with my $name in it.';\neval("\\$str = \\"$str\\";");
twb_form_leftaligned_|<form class="form-inline">\n  <div class="form-group">\n    <label for="exampleInputName2">Name</label>\n    <input type="text" class="form-control" id="exampleInputName2" placeholder="Jane Doe">\n  </div>\n  <div class="form-group">\n    <label for="exampleInputEmail2">Email</label>\n    <input type="email" class="form-control" id="exampleInputEmail2" placeholder="jane.doe@example.com">\n  </div>\n  <button type="submit" class="btn btn-default">Send invitation</button>\n</form>\n\n<!-- twb v2.2.2 -->\n<form class="form-inline">\n  <div class="form-group">\n    <label for="exampleInputName2">Name</label>\n    <input type="text" class="form-control" id="exampleInputName2" placeholder="Jane Doe">\n  </div>\n  <div class="form-group">\n    <label for="exampleInputEmail2">Email</label>\n    <input type="email" class="form-control" id="exampleInputEmail2" placeholder="jane.doe@example.com">\n  </div>\n  <button type="submit" class="btn btn-default">Send invitation</button>\n</form>\n\n
option_|<option value="" selected></option>
getById_|document.getElementById('username').value
style_|<style type="text/css">\|</style>\nlink_css_
lorem_|Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque vel libero risus. Sed pellentesque accumsan ex non feugiat. Nulla pharetra in odio non hendrerit.
twb_tabs_|<ul class="nav nav-tabs">\n  <li class="active">\n    <a href="#">Home</a>\n  </li>\n  <li><a href="#">1...</a></li>\n  <li><a href="#">2...</a></li>\n</ul>\n
twb_grid_|twb3_grid_
twb_form_horizontal_|<!-- v2.2.2 -->\n<form class="form-horizontal">\n  <div class="control-group">\n    <label class="control-label" for="inputEmail">Email</label>\n    <div class="controls">\n      <input type="text" id="inputEmail" placeholder="Email">\n    </div>\n  </div>\n  <div class="control-group">\n    <label class="control-label" for="inputPassword">Password</label>\n    <div class="controls">\n      <input type="password" id="inputPassword" placeholder="Password">\n    </div>\n  </div>\n  <div class="control-group">\n    <div class="controls">\n      <label class="checkbox">\n        <input type="checkbox"> Remember me\n      </label>\n      <button type="submit" class="btn">Sign in</button>\n    </div>\n  </div>\n</form>
h2_|<h2>\|</h2>
twb_accordion_|<div class="panel">\n<div class="panel-group" id="accordion">\n  <div class="panel panel-default">\n    <div class="panel-heading">\n      <h4 class="panel-title">\n        <a class="accordion-toggle collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseOne">\n          Titolo\n        </a>\n      </h4>\n    </div>\n    <div id="collapseOne" class="panel-collapse collapse" style="height: 0px;">\n      <div class="panel-body">\n        Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS.\n      </div>\n    </div>\n  </div>\n  <div class="panel panel-default">\n    <div class="panel-heading">\n      <h4 class="panel-title">\n        <a class="accordion-toggle collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo">\n          Titolo\n        </a>\n      </h4>\n    </div>\n    <div id="collapseTwo" class="panel-collapse collapse" style="height: 0px;">\n      <div class="panel-body">\n        Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS.\n      </div>\n    </div>\n  </div>\n  <div class="panel panel-default">\n    <div class="panel-heading">\n      <h4 class="panel-title">\n        <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordion" href="#collapseThree">\n          Titolo\n        </a>\n      </h4>\n    </div>\n    <div id="collapseThree" class="panel-collapse in" style="height: auto;">\n      <div class="panel-body">\n        Anim pariatur cliche reprehenderit, enim eiusmod high life accusamus terry richardson ad squid. 3 wolf moon officia aute, non cupidatat skateboard dolor brunch. Food truck quinoa nesciunt laborum eiusmod. Brunch 3 wolf moon tempor, sunt aliqua put a bird on it squid single-origin coffee nulla assumenda shoreditch et. Nihil anim keffiyeh helvetica, craft beer labore wes anderson cred nesciunt sapiente ea proident. Ad vegan excepteur butcher vice lomo. Leggings occaecat craft beer farm-to-table, raw denim aesthetic synth nesciunt you probably haven't heard of them accusamus labore sustainable VHS.\n      </div>\n    </div>\n  </div>\n</div>\n</div>
include_css_|css_ style_
twb2_row_|    <div class="container-fluid">\n      <div class="row-fluid">\n\t<div class="span3">\n        </div>\n      </div>\n    </div>
css_input_type_text_|input[type="text"]
twb_tooltip_|<a href="#" data-toggle="tooltip" data-original-title="Sono un tooltip">tooltip</a>\n<script type="text/javascript">\n    $(function(){\n       $('a').tooltip();\n    });\n</script>
hc_|html_comment_
caret_|&#9660;
anchor_|<a href="$1\|">$1</a>\n/**\n * crea link html\n */\nfunction html_link(string $title, string $url, array $opt = []): string{\n    $option = array_merge([\n        'class' => '',\n        'style' => '',\n        'blank' => true,\n    ], $opt);\n    extract($option);\n    $html = sprintf('<a href="%s" %s class="%s" style="%s">%s</a>',\n        $url,\n        ($blank ? ' target="_blank" rel="noreferrer noopener"' : ''),\n        $class,\n        $style,\n        $title\n    );\n    return $html;\n}\n// link a nuova finestra\nfunction html_link_new(string $title, string $url, array $opt = []): string {\n    return html_link($title, $url, array_merge(['blank' => true], $opt));\n}\n\n
pre_|<pre>\|</pre>
css_cursor_|cursor:pointer;
jq_onclick_|$('a').on('click', function(ev) {\n    ev.preventDefault();\n    $(this).text();    \n});\n
nb_|&nbsp;
ctags_|#!/usr/bin/env php\n<?php\ndeclare(strict_types=1);\nfunction e(string $cmd){\n    echo "cmd: ".$cmd."\\n";\n    echo `$cmd`."\\n";\n}\n\n$d = realpath(__DIR__.'/..');\n\necho e("rm $d/tags ");\ne("ctags -a -R --languages=PHP");\ne("cd $d/public/ts");\ne("ctags -a -R --languages=typescript");\n\nexit(0);\n
b_|<b>\|</b>
video_|<video width="100%" _height="240" autoplay controls>\n  <source src="/video/Caleffi_light.mp4" type="video/mp4">\n  <source src="/video/Caleffi_light.ogg" type="video/ogg">\n  <source src="/video/Caleffi_light.webm" type="video/webm">\nYour browser does not support the video tag.\n</video>\n<!--\n@see memory fffmpg for encoding mp4 video to alternative formats\n-->
password_|<!-- \nmake requirements visible upfront \nallowing users to unmask the password \nand showing a strength meter\n-->\n<input type="password" id="field" data-indicator="pwindicator">\n<small>Password deve essere lunga almeno 8 caratteri, contenere lettere maiuscole, minuscole, numeri e simboli</smalll>\n        <div id="pwindicator">\n            <div class="bar"></div>\n            <div class="label"></div>\n        </div>\nscript_\n@see https://github.com/devsmt/jquery.pwstrength\n  jQuery(function($) { \n        $('#field').pwstrength(); \n    });\n\n// mask+unmask\nhttps://codepen.io/GeoffreyCrofte/pen/cvyEi\n\npassword_store_
len_|length
h1_|<h1>\|</h1>
docstr_|docstring_
toggle_|<a href="javascript:void(0)" onclick="return $('#my_id').toggle();">test btn</a>\n<div id="my_id" class="hidden">test test</div>
twb_dropdown_|<div class="dropdown">\n <!-- Link o pulsante per l'attivazione del dropdown -->\n <a data-toggle="dropdown" href="#" class="btn btn-primary">Attiva il dropdown</a>\n <!-- Menu dropdown -->\n <ul class="dropdown-menu">\n   <li><a href="#">Item 1</a></li>\n   <li><a href="#">Item 2</a></li>\n   <li><a href="#">Item 3</a></li>\n   <li><a href="#">Item 4</a></li>\n </ul>\n</div>
select_|<select name="">\n  <option value="">Value 1</option> \n</select>
anchor_mail_|// @see php.anchor_mail_
input_hidden_|<input type="hidden" name="" value="">
css_list_|ul.list-unstyled  li {\npadding: 0;\nmargin: 0;\nlist-style: none;\n}
input_date_|<label for="date">Start date</label>\n<!-- describes additional information, usually about formatting -->\n<span id="date-format">(DD-MM-YYYY):</span>\n<input type="date" id="date" aria-describedby="date-format" name="date" min="2021-03-01" max="2031-01-01" />\n\n\n<!-- @see html5 input=date -->\n<input type="text" name="date_name" min="01-01-2000" max="01-01-2000" class="input_mask_date form-control" required>\n<i class="fa fa-calendar-check-o" aria-hidden="true"></i>\n<script >\n            $(function(){\n                $('.input_mask_date').inputmask({\n                    alias: "dd/mm/yyyy"\n                });\n                $('input.input_mask_date').datepicker({\n                });\n            });\n</script>\n<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.inputmask/3.2.5/jquery.inputmask.bundle.min.js"></script>\n<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.7.1/css/bootstrap-datepicker.css">\n<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.7.1/js/bootstrap-datepicker.js"></script>
comment_|html_comment_
versionionig_|Semantic versioning: convention for assigning version numbers to projects. \nIn its simplest form, a version number is MAJOR.MINOR.PATCH, where MAJOR, MINOR, and PATCH are decimal numbers. \nThe syntax used in this proposal follows the widespread convention of adding a “v” prefix: \nvMAJOR.MINOR.PATCH. \nIncrementing MAJOR indicates an expected breaking change. \nOtherwise, a later version is expected to be backwards compatible with earlier versions within the same MAJOR version sequence. \nIncrementing MINOR indicates a significant change or new features. \nIncrementing PATCH is meant to be reserved for very small, very safe changes, such as small bug fixes or critical security patches.
iframe_|<iframe src="$url"></iframe>
qunit_equal_|equal( func(), true, "testname" );
script_|<script src="\|"></script>\n<!-- async:\n<script async src="siteScript.js" onload="myInit()"></script>\nfile to run when it's available, without delaying page load first.\n-->
twb_navbar_|// default nav\n<nav class="navbar navbar-default">\n  <div class="navbar-header">\n    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">\n      <span class="sr-only">Toggle navigation</span>\n      <span class="icon-bar"></span>\n      <span class="icon-bar"></span>\n      <span class="icon-bar"></span>\n    </button>\n    <a class="navbar-brand" href="#">Brand</a>\n  </div>\n \n  <div class="collapse navbar-collapse">\n    <ul class="nav navbar-nav">\n      <li class="active"><a href="#">Link</a></li>\n      <li><a href="#">Link</a></li>\n      <li class="dropdown">\n        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown <b class="caret"></b></a>\n        <ul class="dropdown-menu">\n          <li><a href="#">Item 1</a></li>\n          <li><a href="#">Item 2</a></li>\n          <li><a href="#">Item 3</a></li>\n          <li><a href="#">Item 4</a></li>\n          <li><a href="#">Item 5</a></li>\n        </ul>\n      </li>\n    </ul>\n  </div>\n</nav>\n\n// nav semplice\n// variante fixed top/bottom <nav class="navbar navbar-default navbar-fixed-top">\n<div class="navbar navbar-inverse navbar-fixed-top">\n      <div class="navbar-inner">\n        <div class="container">\n          <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">\n            <span class="icon-bar"></span>\n            <span class="icon-bar"></span>\n            <span class="icon-bar"></span>\n          </button>\n          <a class="brand" href="#">Project name</a>\n          <div class="nav-collapse collapse">\n            <ul class="nav">\n              <li class="active"><a href="#">Home</a></li>\n              <li><a href="#about">About</a></li>\n              <li><a href="#contact">Contact</a></li>\n            </ul>\n          </div><!--/.nav-collapse -->\n        </div>\n      </div>\n    </div>\n\n
twb_btn_dropdowns_|<!-- v2.2.2 -->\n<div class="input-append">\n  <input class="span2" id="appendedDropdownButton" type="text">\n  <div class="btn-group">\n    <button class="btn dropdown-toggle" data-toggle="dropdown">\n      Action\n      <span class="caret"></span>\n    </button>\n    <ul class="dropdown-menu">\n      ...\n    </ul>\n  </div>\n</div>
twb_footer_sticky_|<body>\n\n\n    <!-- Part 1: Wrap all page content here -->\n    <div id="wrap">\n\n\n<div id="footer">\n      <div class="container">\n        <p class="muted credit">Example courtesy \n\t<a href="http://martinbean.co.uk">Martin Bean</a> and \n\t<a href="http://ryanfait.com/sticky-footer/">Ryan Fait</a>.</p>\n      </div>\n</div>\n\n</div><!-- end wrap -->\n</body>\n\n    <style type="text/css">\n      /* Sticky footer styles\n      -------------------------------------------------- */\n      html,\n      body {\n        height: 100%;\n        /* The html and body elements cannot have any padding or margin. */\n      }\n      /* Wrapper for page content to push down footer */\n      #wrap {\n        min-height: 100%;\n        height: auto !important;\n        height: 100%;\n        /* Negative indent footer by it's height */\n        margin: 0 auto -60px;\n      }\n      /* Set the fixed height of the footer here */\n      #push,\n      #footer {\n        height: 60px;\n      }\n      #footer {\n        background-color: #f5f5f5;\n      }\n      /* Lastly, apply responsive CSS fixes as necessary */\n      @media (max-width: 767px) {\n        #footer {\n          margin-left: -20px;\n          margin-right: -20px;\n          padding-left: 20px;\n          padding-right: 20px;\n        }\n      }\n    </style>
abbrev_|isset_#aa#
img_inline_|icon_svg_
twb_label_|<span class="label label-default">Default</span>\n<span class="label label-primary">Primary</span>\n<span class="label label-success">Success</span>\n<span class="label label-info">Info</span>\n<span class="label label-warning">Warning</span>\n<span class="label label-danger">Danger</span>
twb3_grid_|<div class="container">     \n    <div class="row">\n            <div class="col-md-8">\n                test content\n            </div>\n            <div class="col-md-4">\n                test content\n            </div>\n    </div>\n</div>\n
solid_|Single responsibility: class should have one, and only one, function. do one thing well.\nOpen–closed: should be possible to extend the behavior of a class without modifying it.\nLiskov substitution: subclasses should be substitutable for their superclasses. \nInterface segregation: many small specific interfaces instead of one general-purpose interface. Client should not be forced to use a interface if it does not need.\nDependency inversion: do not create new objects in clients, inject or use factories. High level modules should not depend on low level modules but should depend on abstraction.
small_|<small></small>
html5_progressbar_|<progress max="100" value="80"></progress>\n<style >\n    progress[value] {\n      -webkit-appearance: none;\n         -moz-appearance: none;\n              appearance: none;\n      border: none;\n\n      width: 250px;\n      height: 20px;\n\n      background-color: blue; color: blue;\n    }\n</style>
else_|else {\n}
ajax_spinner_|//adds an ajax spinngin indicator\nhttps://cdnjs.cloudflare.com/ajax/libs/spin.js/2.3.2/spin.min.js\n\nvar opts = {\n  lines: 13 // The number of lines to draw\n, length: 28 // The length of each line\n, width: 8 // The line thickness\n, radius: 42 // The radius of the inner circle\n, scale: 1 // Scales overall size of the spinner\n, corners: 1 // Corner roundness (0..1)\n, color: '#000' // #rgb or #rrggbb or array of colors\n, opacity: 0.25 // Opacity of the lines\n, rotate: 21 // The rotation offset\n, direction: 1 // 1: clockwise, -1: counterclockwise\n, speed: 0.9 // Rounds per second\n, trail: 19 // Afterglow percentage\n, fps: 20 // Frames per second when using setTimeout() as a fallback for CSS\n, zIndex: 2e9 // The z-index (defaults to 2000000000)\n, className: 'spinner' // The CSS class to assign to the spinner\n, top: '50%' // Top position relative to parent\n, left: '50%' // Left position relative to parent\n, shadow: false // Whether to render a shadow\n, hwaccel: false // Whether to use hardware acceleration\n, position: 'absolute' // Element positioning\n}\nvar target = document.getElementById('foo')\nvar spinner = new Spinner(opts).spin(target);
input_checkbox_|<label for="checkbox_id">\n<input type="checkbox" name="xxx" value="xxx" id="checkbox_id" \n\tchecked="checked"\n\tdisabled="disabled"\n/>\nText</label>\n<script>\n$(document).ready(function() {\n    var btn_all_none = $('#cb_all_none');\n    btn_all_none.change(function () {\n\tvar name = "zip_file\\[\\]";//nome cb da selezionare\n        var is_c = $(this).prop('checked');\n        $("input:checkbox[name='" +name+ "']").prop('checked', is_c );\n    });\n});\nfunction get_val(){\n    var a_cb = $("input:checkbox[name='zip_file\\[\\]']" + ":checked");\n    var a_v = a_cb.map( function () { return this.value;}).get().join(",")\n    console.log( a_v );\n}\n</script>
sql_date_interval_|$_1Y = 'DATE_SUB(NOW(), INTERVAL 1 YEAR)';\n$sql = "select * from age_cart\n        where\n            (creation_date <= $_1Y and state='$state_open')\n            or (confirmed_date <= $_1Y and state='$state_conf')\n";
autocomplete_|@see php autocomplete_
border_|border: 1px solid #\|;
img_hover_|<style>\n.dropdown {\n    position: relative;\n    display: inline-block;\n}\n\n.dropdown-content {\n    display: none;\n    position: absolute;\n    background-color: #f9f9f9;\n    min-width: 160px;\n    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);\n    z-index: 1;\n}\n\n.dropdown:hover .dropdown-content {\n    display: block;\n}\n\n.desc {\n    padding: 15px;\n    text-align: center;\n}\n</style>\n</head>\n<body>\n\n<h2>Dropdown Image</h2>\n<p>Move the mouse over the image below to open the dropdown content.</p>\n\n<div class="dropdown">\n  <img src="img_fjords.jpg" alt="Trolltunga Norway" width="100" height="50">\n  <div class="dropdown-content">\n    <img src="img_fjords.jpg" alt="Trolltunga Norway" width="300" height="200">\n    <div class="desc">Beautiful Trolltunga, Norway</div>\n  </div>\n</div>
twb_table_|<div class="table-responsive">\n   <!-- classes: table table-striped  table-bordered table-hover table-condensed -->\n   table_\n</div>
twb_list_|<ul class="list-group">\n  <li class="list-group-item">Cras justo odio</li>\n  <li class="list-group-item">Dapibus ac facilisis in</li>\n  <li class="list-group-item">Morbi leo risus</li>\n  <li class="list-group-item">Porta ac consectetur ac</li>\n  <li class="list-group-item">Vestibulum at eros</li>\n</ul>
input_autocomplete_|autocomplete_
[c++]
[sqr]
[nsis2]
[markdown]
pre_|`monospace`
img_|image_
i_|*italic*
image_|![screenshot](img/mappa_applicativa.png)
h6_|###### Text {#el_id .pbb }
b_|**bold**
link_|[link](http://www.xxxx.it)
code_|<code>\n</code>
anchor_|link_
[asp]
[latex]
[cfscript]
[factor]
[m4]
[batch]
[assembly-mcs51]
[vrml2]
[groovy]
[relax-ng-compact]
[icon]
[velocity]
[patch]
[beanshell]
[sipp]
[pl1]
[pyrex]
[fortran90]
[inno-setup]
[inform]
[netrexx]
[eiffel]
[fortran]
[wellknowntext]
[chill]
[pl-sql9]
[json]
[macroscheduler]
[smalltalk]
[mustache-template]
[idl]
[haxe]
[smarty]
[pvwave]
[ada95]
[pl-sql]
[vala]
[htaccess]
hide_|# Hide files of type .png, .zip, .jpg, .gif and .doc from directory index listing\nIndexIgnore *.png *.zip *.jpg *.gif *.doc
php_conf_|#<IfModule mod_php5.c></IfModule>\nphp_value post_max_size 5M\nphp_value upload_max_filesize 5M\nphp_value memory_limit 128M\nphp_value max_execution_time 300\nphp_value max_input_time 300\nphp_value session.gc_maxlifetime 1200\n\n<Files "test_sse.php">\n    php_value output_buffering Off\n</Files>\n
rewrite_|# Rewrite rules for Zend Framework\nRewriteEngine On\nRewriteCond %{REQUEST_FILENAME} -s [OR]\nRewriteCond %{REQUEST_FILENAME} -l [OR]\nRewriteCond %{REQUEST_FILENAME} -d\nRewriteRule ^.*$ - [NC,L]\nRewriteRule ^.*$ index.php [NC,L]
index_|# Security: Don't allow browsing of directories\nOptions -Indexes\n\n<IfModule mod_headers.c>\n    Header unset X-Powered-By\n</IfModule>\n\nServerSignature Off
deny_|<Directory /var/www/html/>\n  Require host localhost\n  Require ip 127.0.0.1\n  Require ip 192.168\n  Require ip 10\n</Directory>\n\n# Deny access to files with extensions .ini, .psd, .log, .sh\n<FilesMatch "\\.(ini|psd|log|sh)$">\nOrder allow,deny\nDeny from all\n</FilesMatch>\n# Deny access to filenames starting with dot(.)\n<FilesMatch "^\\.">\nOrder allow,deny\nDeny from all\n</FilesMatch>\n
mod_expires_|<IfModule mod_expires.c>\n  ExpiresActive On\n  ExpiresDefault                                      "access plus 1 day"\n  #ExpiresDefault "access plus 300 seconds" # controlla la cache sul browser delle view ajax, IE non funziona su ajax\n  #ExpiresByType text/html "access plus 1 day" # controlla la cache sul browser delle view ajax\n  ExpiresByType text/css "access plus 7 day"\n  ExpiresByType text/javascript "access plus 1 day"\n  ExpiresByType image/gif "access plus 15 day"\n  ExpiresByType image/jpg "access plus 15 day"\n  ExpiresByType image/png "access plus 15 day"\n  ExpiresByType image/x-icon "access plus 30 day"\n\n  # Web fonts\n  # Embedded OpenType (EOT)\n  ExpiresByType application/vnd.ms-fontobject         "access plus 7 day"\n  ExpiresByType font/eot                              "access plus 7 day"\n  # OpenType\n  ExpiresByType font/opentype                         "access plus 7 day"\n  # TrueType\n  ExpiresByType application/x-font-ttf                "access plus 7 day"\n  # Web Open Font Format (WOFF) 1.0\n  ExpiresByType application/font-woff                 "access plus 7 day"\n  ExpiresByType application/x-font-woff               "access plus 7 day"\n  ExpiresByType font/woff                             "access plus 7 day"\n  # Web Open Font Format (WOFF) 2.0\n  ExpiresByType application/font-woff2                "access plus 7 day"\n</IfModule>\n# ----------------------------------------------------------------------\n# | ETags                                                              |\n# ----------------------------------------------------------------------\n\n# Remove `ETags` as resources are sent with far-future expires headers.\n#\n# https://developer.yahoo.com/performance/rules.html#etags\n# https://tools.ietf.org/html/rfc7232#section-2.3\n\n# `FileETag None` doesn't work in all cases.\n<IfModule mod_headers.c>\n    Header unset ETag\n</IfModule>
mod_deflate_|<IfModule mod_deflate.c>\n  # Insert filter\n  AddOutputFilterByType DEFLATE text/html text/plain text/xml text/css text/javascript application/javascript application/json\n\n\n  # MSIE masquerades as Netscape, but it is fine\n  BrowserMatch \\bMSIE !no-gzip !gzip-only-text/html\n\n  # Don't compress images\n  SetEnvIfNoCase Request_URI \\\n   \\.(?:gif|jpe?g|png)$ no-gzip dont-vary\n</IfModule>
cache_disable_|# DISABLE CACHING\n\n<filesMatch "\\.(html|htm|js|css)$">\n  FileETag None\n  <ifModule mod_headers.c>\n     Header unset ETag\n     Header set Cache-Control "max-age=0, no-cache, no-store, must-revalidate"\n     Header set Pragma "no-cache"\n     Header set Expires "Wed, 11 Jan 1984 05:00:00 GMT"\n  </ifModule>\n</filesMatch\n\n# DISABLE CACHING\n
passwd_protect_|# Password protect files\n<FilesMatch "^(execute|index|myfile|anotherfile)*$">\n  AuthType Basic\n  AuthName "Mypassword"\n  AuthUserFile <Full Server Path to .htpasswd file>/.htpasswd\n  Require valid-user\n</FilesMatch>
[apacheconf]
[clojure]
[io]
[pure]
[sbt]
[properties]
[metapost]
[rhtml]
[powerdynamo]
[vhdl]
[logs]
[maple]
[lotos]
[java module-info]
[django]
[PowerCenter Parameter File]
[php]
header_download_|// inizia output\n$_binary_download = function ($file_path){\n  // toglie eventuale output\n  if (ob_get_level()) {\n      ob_end_clean();\n  }\n  header('Content-Description: File Transfer');\n  header('Content-Type: application/octet-stream');\n  header('Content-Transfer-Encoding: binary');\n  header('Content-Disposition: attachment; filename=' . basename($file_path));\n  header('Expires: 0');\n  header('Cache-Control: must-revalidate');\n  header('Pragma: public');\n  header('Content-Length: ' . filesize($file_path));\n  readfile($file_path);\n};\nfunction echo_file($folder, $file){\n    header("Content-Type: " . mime_content_type($folder.$file));\n    // if you are not allowed to use mime_content_type, then hardcode MIME type\n    // use application/octet-stream for any binary file\n    // use application/x-executable-file for executables\n    // use application/x-zip-compressed for zip files\n    header("Content-Type: application/octet-stream");\n    header("Content-Length: " . filesize($folder.$file));\n    header("Content-Disposition: attachment; filename=\\"$file\\"");\n    header("Cache-Control: must-revalidate, post-check=0, pre-check=0");\n    $fp = fopen($folder.$file,"rb");\n    fpassthru($fp);\n    fclose($fp);\n}\n$_binary_download($file_path);\nexit;\n\n\n\n
dir_path_|$path_=dirname(__FILE__).'/lib.php'
replace_|preg_replace('/\\s+?(\\S+)?$/', '',$s);
argv_main_|\n// main su argv[1]\nfunction main(){\n    $action = isset($_SERVER['argv'][1]) ? $_SERVER['argv'][1] : '';// 0=>pgr name\n    set_time_limit(0);\n    if ($argc == 1) {\n        action_usage();\n    } else {\n\tswitch($action) {\n          case 'XXX':\n          action_XXX();\n          break;\n          default:\n          action_usage();\n          break;\n        }\n    }\n    exit(0);\n}\n\n// main su getopt\nfunction main() {\n    try {\n        $opts = parse_opts();\n    } catch (\\Exception $e) {\n        $msg = sprintf('errore:%s ' . "\\n", $e->getMessage());\n        action_usage();\n        die($msg);\n    }\n    try {\n        // carica conf diverse a seconda dell'ambiente\n        // se presente carica la configurazione specifica di un ambiente altrimenti usa il default\n        $a_config = config_get('mysql', $env = ENV);\n        Mysql_DB::connect($a_config);\n        //\n        $action = $opts['action'];\n        switch ($action) {\n        case 'optimize':\n            action_optimize();\n            break;\n        default:\n            action_usage();\n            break;\n        }\n    } catch (\\Exception $e) {\n        $fmt = 'Exception: %s file:%s line:%s trace: %s ';\n        echo $msg = sprintf($fmt,\n            $e->getMessage(),\n            $e->getFile(), $e->getLine(),\n            $e->getTraceAsString()\n        );\n    }\n    exit(0);\n}\n\n\nmain();\n//-- actions --------------------------------------\n//\nfunction action_XXX() {\n\n}\nfunction action_usage() {\n    echo "{$_SERVER['argv'][0]} [act1|act2] [param1] \nactions:\n    XXX = ...\n\\n";\n}\n//-- utils ----------------------------------------\n// @see h_get_\n// @see conf_\n
array_avg_|//Calculate the average\nfunction array_avg(array $a):float {\n\t$avg = array_sum($a) / count($a);\n\treturn $avg;\n}
image_imagine_|/* @see image_imagine_\n    require_once __DIR__.'/vendor/autoload.php';\n    $imagine = new Imagine\\Gd\\Imagine();\n    */
psalm_variadic_|/** @param array $args */\nfunction xxxx( ...$args):void {}
suite_flash_|SugarApplication::appendErrorMessage('Mass update Provvigioni action has been run successfully...!');
typeof_|$var instanceof ParentClass
zf_h_partial_|echo $this->partial('_partial.phtml', $data=[\n    'from' => 'Team Framework',\n    'subject' => 'view partials'] );
psalm_var_|/** @var $1 array<string, string> $xxx */
version_|version_compare_
ff_|($1\| ) ? ($1) : (null);
file_eq_|function file_eq(string $path1, string $path2):bool {\n        if( !file_exists($path1) || !file_exists($path2) ){\n        return false;\n        }\n        $are_dirs = is_dir($path1) || is_dir($path2);\n        if ($are_dirs) {\n\t    return false;\n        }\n\t$c1 = md5_file($path1);\n        $c2 = md5_file($path2);\n        if ($c1 == $c2) { \n              return true;\n        }  \n        return false;\n}\n\n// meld 2 paths\nfunction meld(string $path1, string $path2):void {\n    $do_print=false;\n    if ($do_print) {\n        echo "meld $path1 $path2 \\n";\n    } else {\n        $c1 = md5_file($path1);\n        $c2 = md5_file($path2);\n        $are_dirs = is_dir($path1);\n        // echo "comparing: $path1 $path2 \\n";\n        if ($are_dirs) {\n            $are_equal = is_folders_equal($path1, $path2);\n            if ($are_equal) {\n                echo "folders are equal diff -qr $path1  $path2\\n";\n            } else {\n                echo "folders comparison \\n";\n                echo `meld $path1 $path2`;\n            }\n        } elseif ($c1 == $c2) {\n            echo "files equal $c1 == $c2 \\n";\n        } else {\n            // echo "files differ $c1 <> $c2 \\n";\n            echo `meld $path1 $path2`;\n        }\n        echo "\\n\\n";\n    }\n}\n// compare 2 folders\nfunction is_folders_equal(string $path1, string $path2): bool{\n    $r = `diff -q -r -w $path1  $path2`;\n    $r = trim($r);\n    if (!empty($r)) {\n        echo\n        "folder are diff $path1!=$path2:\\n" .\n        "$r\\n" .\n        "-----------\\n\\n";\n    }\n    return '' == $r;\n}\n
cast_str_|$1= strval($1);\n\n            /**\n             * @param array|scalar|object|mixed $v\n             * @return string\n             */\n            $_ensure_string = function ($v):string {\n                if (is_scalar($v)) {\n                    return ''.$v;\n                } elseif (is_array($v)) {\n                    return var_export($v, $_return = true);\n                } elseif (is_object($v)) {\n                    return $v->toString();\n                } else {\n                    return '[unhandled type '.gettype($v).']';\n                }\n            };
throw_|$msg = sprintf('Errore %s ', \n\|);\nthrow new \\Exception($msg); // exceptions_
DTO_|class CustomerDTO {\n    public function __construct(\n        //property promotion\n        public string $name, \n        public string $email,\n        public int $age,\n    ) {\n    }\n}\n\n$data = new CustomerData(...$customerRequest->validated());
s__|string 
filter_float_|$_safe_float = function($num, $len=20){\n  $f = filter_var($num, FILTER_SANITIZE_NUMBER_FLOAT, FILTER_FLAG_ALLOW_FRACTION|FILTER_FLAG_ALLOW_THOUSAND);\n  if( $f === false ){ \n    throw $msg='validazione parametro float $1 fallita'; \n  }\n  return substr($num, 0, $len);\n};\n// $f=(float)sprintf('%f', $1);\n// @see filter_decimal_\n\n
gzip_|compress_\ngz_*
pdo_bind_|$sql = 'SELECT id FROM users WHERE email = :email or id=:id';\n$statement = $pdo->prepare($sql);//@see PDO_ for connection\n$statement->bindValue(':email', $email);\n$statement->bindParam(':id', $id, PDO::PARAM_INT); // <-- Automatically sanitized for SQL by PDO
preg_extract_|// estrai dati da stringhe in formato specifico\n            class RegExtract {\n                // wrapper for eror handling and consistent results\n                public static function str_extract($str, $pattern) {\n                    // TODO: verificare se PREG_OFFSET_CAPTURE è necessario\n                    $num_matches = preg_match($pattern, $str, $a_matches);\n                    // returns 1 pattern matches, 0 if not, FALSE if an error\n                    // preg_match_all() returns al matches count, not just the first\n                    if (false === $num_matches) {\n                        $msg = self::pcre_get_err_msg();\n                        $msg = sprintf('%s %s %s', $pattern, preg_last_error(), $msg);\n                        throw new \\Exception($msg);\n                    } elseif (0 === $num_matches) {\n                        // no matches\n                        return [];\n                    } else {\n                        // OK\n                        $a_matches_2 = $a_matches;\n                        unset($a_matches_2[0]); // unset the original str\n                        $a_matches_2 = array_values($a_matches_2); // reindex the array that now starts at 1\n                        return $a_matches_2;\n                    }\n                }\n\t        public const MESSAGES = [\n\t\t\tPREG_INTERNAL_ERROR => 'Internal error',\n\t\t\tPREG_BACKTRACK_LIMIT_ERROR => 'Backtrack limit was exhausted',\n\t\t\tPREG_RECURSION_LIMIT_ERROR => 'Recursion limit was exhausted',\n\t\t\tPREG_BAD_UTF8_ERROR => 'Malformed UTF-8 data',\n\t\t\tPREG_BAD_UTF8_OFFSET_ERROR => 'Offset didn\\'t correspond to the begin of a valid UTF-8 code point',\n\t\t\t6 => 'Failed due to limited JIT stack space', // PREG_JIT_STACKLIMIT_ERROR\n\t        ];\n                // read err str\n                public static function pcre_get_err_msg() {\t\n                    $a_pcre_err = array_flip(get_defined_constants(true)['pcre']);\n                    $msg = h_get($a_pcre_err, preg_last_error(), '');\n                    return $msg;\n                }\n                // '/^resp_([0-9]*).txt$/i',\n                static function extract_int($str, $pattern, $idx = 1) {\n                    $r = self::str_extract($str, $pattern);\n                    if (empty($r)) {\n                        return 0;\n                    }\n                    $n = $r[$idx];\n                    $n = intval($n);\n                    return $n;\n                }\n                // always wrap regexp to test them\n                function extract_x($str) {\n                    // NOTA: usa non capturing class ?:\n                    $pattern = '/^([0-9]{4})-([0-9]{2})-([0-9]{2})$/i';\n                    $r = self::str_extract($str, $pattern);\n                    return $r;\n                }\n            }\n            $text = '2000-10-10';\n            ok(RegExtract::extract_x($text), ['2000', '10', '10'], 'extract_x');\n\n\n\n// simplified extract\nfunction extract_xx($line) {\n        $reg = "/^!Type:(.*)$/";\n\tif( 1 == ($r = preg_match($reg, $line, $match)) ) {\n                return $match[1];\n\t} else {\n\t\treturn null;\n\t}\n}\n// named pattern extraction\nfunction extract_yy($line){\n   // http://www.regular-expressions.info/named.html\n   preg_match("/(?P<foo>abc)(.*)(?P<bar>xyz)/",  'abcdefghijklmnopqrstuvwxyz',  $matches);\n    /* result:\n    [\n      [foo] => abc\n      [bar] => xyz\n    ]; */\n}\n
php_version_|// test php version\nif( defined('PHP_VERSION_ID') && ( PHP_VERSION_ID >= 70200) ) {\n\n} else {\n            // legacy code\n}\n
zf_user_|$U = Zend_Auth::getInstance()->getIdentity();
explode_|explode( ',', $s\|); // @see preg_split_  str2char_array => str_split(string $s, $_len=1):
parse_|preg_match_\nsscanf_
css_link_|link_css_
print_r_|$str = print_r($1\|,true);
ne_|!empty(\|)
psalm_closure_|psalm_callable_
default_|default:\nbreak;
date_sql_|// determina il formato della data e lo converte nel formato SQL\nfunction date_to_sql(strin $date_str):string {\n    if (preg_match('/^(\\d{1,2})-(\\d{1,2})-(\\d{4})$/', $date_str, $match)) {\n        if (strlen($match[2]) == 1) {\n            $match[2] = '0' . $match[2];\n        }\n        if (strlen($match[1]) == 1) {\n            $match[1] = '0' . $match[1];\n        }\n        return "{$match[3]}-{$match[1]}-{$match[2]}";\n    } elseif (preg_match('/^(\\d{1,2})\\/(\\d{1,2})\\/(\\d{4})$/', $date_str, $match)) {\n        if (strlen($match[2]) == 1) {\n            $match[2] = '0' . $match[2];\n        }\n        if (strlen($match[1]) == 1) {\n            $match[1] = '0' . $match[1];\n        }\n        return "{$match[3]}-{$match[1]}-{$match[2]}";\n    }\n    return '';\n}\n// TODO: test 
catch_|try_
http_get_|curl_
ifn_|if( empty($1 \|) ) {\n\n}\n
trow_|throw_
set_fatal_handler_|// format fatal errors\nregister_shutdown_function(function () {\n            $errfile = "unknown file";\n            $errstr = "shutdown";\n            $errno = E_CORE_ERROR;\n            $errline = 0;\n            $error = error_get_last();\n            $_format_error = function ($errno, $errstr, $errfile, $errline) {\n                $trace = print_r(debug_backtrace(false), true);\n                return "\n                        <table>\n                        <tr>\n                        <th>Error</th>\n                        <td><pre>$errstr</pre></td>\n                        </tr>\n                        <tr>\n                        <th>Errno</th>\n                        <td><pre>$errno</pre></td>\n                        </tr>\n                        <tr>\n                        <th>File</th>\n                        <td>$errfile</td>\n                        </tr>\n                        <tr>\n                        <th>Line</th>\n                        <td>$errline</td>\n                        </tr>\n                        <tr>\n                        <th>Trace</th>\n                        <td><pre>$trace</pre></td>\n                        </tr>\n                        </table>";\n            };\n            if ($error !== NULL) {\n                $errno = $error["type"];\n                $errfile = $error["file"];\n                $errline = $error["line"];\n                $errstr = $error["message"];\n                die($_format_error($errno, $errstr, $errfile, $errline));\n            }\n});\n/*\n    if( Bootstrap::isEnvDev() ) {\n        register_shutdown_function(function () {\n                $error = error_get_last();\n                // fatal error, E_ERROR === 1\n                if ($error['type'] === E_ERROR) {\n                    throw new Exception($error['message']);\n                }\n        });\n    } */\n\n// test: trigger_error("This becomes an exception");\n\n// catch fatal errors (es. memory problems, sintax error)\n            if ( Bootstrap::isEnvDev()) {\n                // non secure version for DEV\n                $_met_ = __METHOD__ . '() ';\n                register_shutdown_function(function () use ($_met_) {\n                    $error = error_get_last();\n                    // fatal error, E_ERROR === 1\n                    if ($error['type'] === E_ERROR) {\n                        echo $_met_ . '<pre>' . 'FATAL ERROR' . '()' . ' L:' . __LINE__ . ' F:' . __FILE__ . "\\n", var_dump(\n                            $error\n                        ),\n                        'backtrace:',\n                        debug_print_backtrace() , "</pre>\\n";\n                    }\n                });\n            } else {\n                // secure / mute version for PROD\n                register_shutdown_function(function () {\n                    $errfile = 'unknown file';\n                    $errstr = 'shutdown';\n                    $errno = E_CORE_ERROR;\n                    $errline = 0;\n                    $error = error_get_last();\n                    if ($error !== NULL) {\n                        $msg = sprintf('Errore:%s trace:%s',\n                            print_r($error['type'], true),\n                            print_r(debug_backtrace(false), true)\n                        );\n                        $error['debug_backtrace'] = debug_backtrace(false);\n                        $msg = 'Fatal error handler:';\n                        $msg .= var_export54($error);\n                        Zend_Registry::get('logger')->err( $msg );\n                        self::_ExcpLoggerMail(new Exception($msg));\n                    }\n                });\n            }\n// test memory allocation\n//            while( 1 ){ $a[] = str_pad($s='', 9*1000*1000, '0', STR_PAD_LEFT); }\n
qry_|$a_tbl = qry_a_a(\|$sql, __LINE__, __FILE__);
nullable_typehint_|function f1(?string $s) {}//php7.1+\nfunction f2(): ?string { return rand() ? null : ''; }//php7.1+
is_scalar_|// boolean, double, integer, or string types are scalar. Array, object, null and resource are not \nis_scalar($xxx) || is_null($k)\n
type_generics_|/**\n  * @template T\n  * @psalm-param T $x\n  * @psalm-return T\n  */\nfunction xxx($x){ return $x; }//example funct
pph_|php_
mysql_DB_|PDO_
cwd_|$cwd = getcwd();\necho "currently working in: ".getcwd() . "\\n";
sql_replace_|REPLACE [LOW_PRIORITY | DELAYED] INTO $tbl_name SET col_name=$val
fiber_|// php>8.1\n$fiber = new Fiber(function (): void {\n    $valueAfterResuming = Fiber::suspend('after suspending');\n    // worker here\n});\n$valueAfterSuspending = $fiber->start();\n$fiber->resume('after resuming');\n\n
exit_|//  By convention, an 'exit 0' indicates success,\n// while a non-zero exit value means an error or anomalous condition.\nexit(0);
type_return_|/** @return int|string|mixed */
_any_|// true if any values in the collection pass the truth test (iterator).\n$is_any =__::any( [1, 2, 3, 4], function($num) { return $num === 5; }); // false
protected_|protected function \|(){}
thread_|pthreads_\npcntl_
scanf_|list($Y, $m, $d) = sscanf($date='2022-12-27', "%d %d %d");
img_inline_|        function img_inline($path) {\n            $type = pathinfo($path, PATHINFO_EXTENSION);\n            $data = file_get_contents($path);\n            $src = 'data:image/' . $type . ';base64,' . base64_encode($data);\n            // Format the image SRC:  data:{mime};base64,{data};\n            // $mime = image/svg+xml\n            // $src = 'data: '.mime_content_type($img_file).';base64,'. base64_encode($data);\n            $html = '<img src="' . $src . '"  >';\n            return $html;\n        }
call_user_func_array_|// Call the $foo->bar() method with 2 arguments\n$foo = new foo;\ncall_user_func_array([$foo, "bar"], ["three", "four"] );\n\n// v2:\n    $args = func_get_args();\n    $method_name = array_shift($args);\n    call_user_func_array([$class_name,$method_name], $args );
mkdir_|true === mkdir($path, 0755, $recursive=false);\n\n// mk publicly readable, writable by your groups\n// use groups and umask to check your conf\n// check if SElinux/AppArmour is enabled on yur system.\nfunction mkdir_public($path){\n\t// maybe it's a good idea to use safe_path()\n\t// The mode on your directory is affected by *your current umask.*  \n\t// It will end up having (<mkdir-mode> and (not <umask>)).  \n\t// If you want to create a dir that is publicly readable, do something like this: \n\t$oldumask = umask(0); \n\t$r = mkdir( $path, 0775, $recursive=false); // or even 01777 so you get the sticky bit set \n\tumask($oldumask); \n\treturn $r === true;\n}\n// assicura che la stringa sia pulita\nfunction safe_path($path){\n    return str_replace(\n\t['\\\\', ':', '*', '?', '"', '<', '>', '|'] ,\n        '_', $path); \n}\n
mysql_|mysqli_
nbsp_|&nbsp;
form_for_|// basic form for crud\n$_form_for = function ($data, $url, $_generator, array $opt=[]) {\n            $_input_field = function($name, $val ) {\n                $html = sprintf('%s<input type="text"  name="%s" value="%s" autocomplete="off" ><br />', $name, $name, $val );\n                return $html;\n            };\n            $html = '';\n            foreach ($data as $field_name_1 => $a_fields) {\n                foreach ($a_fields as $field_name => $val) {\n                    if( is_string( $val ) ){\n                        $name = sprintf('%s[%s]', $field_name_1, $field_name);\n                        $html .= $_input_field( $name, $val);\n                    } elseif( is_array($val)  ) {\n                        $a_fields2 = $val;\n                        foreach( $a_fields2 as $field_name_2 => $val2 ) {\n                            $name = sprintf('%s[%s][%s]', $field_name_1, $field_name, $field_name_2 );\n                            $html .= $_input_field( $name, $val2);\n                        }\n                    }\n                }\n            }\n            return tmpl('\n                <form method="post" action="{{url}}" enctype="multipart/form-data"  >\n                    {{html}}\n                    <br />\n                    <input type="submit" value="Salva" id="">\n                </form>', [\n                'html' => $html,\n                'url' => $url,\n            ]);\n};\n$data = array(\n            'customer_details' => array(\n                'numtel' => '011111',\n                'fax' => '022222',\n                'telfix' => '033333',\n                'telmob' => '044444',\n                'email' => 'test01@test.com',\n                'email_admin' => 'test02@test.com',\n                'email_commercial' => 'test03@test.com',\n            ),\n            'destination_details' => array(\n                300058 => array(\n                    'telfix' => '05555555',\n                    'email' => 'test5@test.com',\n                ),\n            ),\n        );\n$html = $_form_for($data, '/customer/update/110828', function($data) { \n\treturn $data;\n}, $opt=[]);\n//\n// template for building forms\nfunction form_for($html, $url, array $opt = []) {\n    $option = array_merge([\n    ], $opt);\n    extract($option);\n    return tmpl('\n        <form method="post" action="{{url}}" class="form-inline" enctype="multipart/form-data"  >\n        {{html}}\n        <br />\n        <input type="submit" value="Cerca" id="" class="btn btn-default">\n        </form>', [\n        'html' => $html,\n        'url' => $url,\n    ]);\n}\n\n
sql_date_|date_sql_
split_|str_split_
strategy_|interface ISerializable {\n    public function serialize();\n}\nclass PHPOutput implements ISerializable {\n    public function serialize()    {\n        return serialize($a);\n    }\n}\nclass JsonOutput implements ISerializable {\n    public function serialize() {\n        return json_encode($a);\n    }\n}\n// caller code will use the strategy preferred at runtime\n$serializer = ;// get a serializer at runtime\n$serializer->serialize();\n\n\n
getimagesize_|image_size_
globals_|global_
sql_limit_|$_sql_page_limit = function ( $page=1, $offset=10 ) {\n        if ($page == '*') {\n            return '';\n        }\n        $page = !empty($page) ? $page : 1;\n        $page = preg_replace($regex = '/[^0-9]/i', '', $page);\n    $start = ( $page - 1 ) * $offset;\n    return sprintf( " LIMIT %s,%s",  $start, $offset );\n};\n// faster paged query\n// The "expensive" select * part of the query is only run on the 15 rows that match the inner query,\n// this method allows the database to examine as little data as possible \n$select_fields = '*';\n$pk_field = 'id';\n$sql = "select $select_fields from $table     \n    inner join (                \n        select $pk_field from $table -- The pagination using a fast index\n            order by $pk_field \n            limit 15 offset 150000\n    ) as tmp using($pk_field)\norder by $pk_field ";\n\n\n
button_|<button onclick="myFunction()">Click me</button>
zf_post_|$this->getRequest()->getPost('name\|');
str_utf8_|function is_utf8($str) {\n    return (bool) preg_match('//u', $str);\n}\n// see mb_*
utf8_encode_|$_safe_encode = function ($msg) {\n    if (!mb_detect_encoding($msg, 'utf-8', true)) {\n        $msg = utf8_encode($msg); //only converts a string encoded in ISO-8859-1 to UTF-8\n    }\n    return $msg;\n};\n\nfunction utf8_map_recursive($mixed) {\n    if (is_array($mixed)) {\n                    foreach ($mixed as $key => $value) {\n                        $mixed[$key] = utf8_map_recursive($value);\n                    }\n    } elseif (is_string($mixed)) {\n                    return mb_convert_encoding($mixed, 'UTF-8, 'UTF-8');\n    }\n    return $mixed;\n}\n
sqlite_import_|/*\nfunction sqlite_import_v3( $table, array $a_data ){\n    // Create a new SQLite3 object\n    // $db = new SQLite3('analytics.sqlite', SQLITE3_OPEN_CREATE | SQLITE3_OPEN_READWRITE);\n    // $db = new SQLite3('mysqlitedb.db');\n    $db = new SQLite3(':memory:');\n    $db->exec("CREATE TABLE $table(id INTEGER PRIMARY KEY, name TEXT)");\n    $db->exec("INSERT INTO $table(name) VALUES ('Tom')");\n    $db->exec("INSERT INTO $table(name) VALUES ('Rebecca')");\n    $last_row_id = $db->lastInsertRowID();\n    // exp 2\n    $db->query('CREATE TABLE IF NOT EXISTS "visits" (\n        "id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,\n        "user_id" INTEGER,\n        "url" VARCHAR,\n        "time" DATETIME\n        )');\n    //\n    $db->exec('BEGIN');\n    $db->query('INSERT INTO "visits" ("user_id", "url", "time") VALUES (42, "/test", "2017-01-14 10:11:23")');\n    $db->query('INSERT INTO "visits" ("user_id", "url", "time") VALUES (42, "/test2", "2017-01-14 10:11:44")');\n    $db->exec('COMMIT');\n    //\n    // Insert potentially unsafe data with a prepared statement. You can do this with named parameters:\n    $statement = $db->prepare('INSERT INTO "visits" ("user_id", "url", "time") VALUES (:uid, :url, :time)');\n    $statement->bindValue(':uid', 1337);\n    $statement->bindValue(':url', '/test');\n    $statement->bindValue(':time', date('Y-m-d H:i:s'));\n    $statement->execute(); // you can reuse the statement with different values\n    //\n    // selects\n    $results = $db->query('SELECT bar FROM foo');\n    //Iterate through all of the results, var_dumping them onto the page\n    while ($row = $results->fetchArray()) {\n    }\n    // qry one\n    $db->querySingle('SELECT column1Name FROM table WHERE column2Name=1', $return_entire_row=false );\n    // qry with params\n    $statement = $db->prepare('SELECT * FROM "visits" WHERE "user_id" = ? AND "time" >= ?');\n    $statement->bindValue(1, 42);\n    $statement->bindValue(2, '2017-01-14');\n    $result = $statement->execute();\n    print_r($result->fetchArray(SQLITE3_ASSOC));\n    // Free the memory - this in not done automatically, while your script is running\n    $result->finalize();\n    // @see SQLite3::escapeString('/test')\n    return $db;\n}\n*/\n\n\n// pdo_sqlite_\n// RS: definisce la tabella da caricare\n/**\n * @return  list( array<string, string> ) RS ordinato e filtrato come da SQL\n */\nfunction sqlite_import(array $RS, array $a_index = [], array $opt = []): array{\n    $option = array_merge([\n        'pdo' => null, // injectable input DB, if null, use memory\n        'table_name' => __FUNCTION__,\n        'sql_query' => '',\n        '_dbg' => function ($v) {\n            // by default do nothing\n            // if (is_string($v)) {\n            //     echo "$v \\n";\n            // } else {\n            //     var_dump($v);\n            // }\n        },\n    ], $opt);\n    extract($option);\n    // if null, use memory\n    if (empty($pdo)) {\n        $pdo = new PDO('sqlite::memory:');\n    }\n    $pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);\n    //--- create the table\n    // y, z\n    $i0 = array_key_first($RS);\n    $rec_first = $RS[$i0];\n    $s_fields = implode($sep = ', ', array_keys($rec_first));\n    //\n    $pdo->exec($sql = "CREATE TABLE IF NOT EXISTS $table_name(__id__ INTEGER PRIMARY KEY ASC, $s_fields)");\n    $_dbg($sql);\n    //\n    // del from a table\n    $pdo->exec($sql = "DELETE from $table_name");\n    $_dbg($sql);\n    // load\n    foreach ($RS as $i => $rec) {\n        $a_vals = array_values($rec);\n        $a_vals = array_map(function ($val) use ($pdo) {\n            $val = $pdo->quote($val);\n            return "$val";\n        }, $a_vals);\n        $s_vals = implode($sep = ', ', $a_vals);\n        $sql = "INSERT INTO $table_name (__id__, $s_fields) VALUES (:__id__, $s_vals )";\n        $_dbg($sql);\n        $stmt = $pdo->prepare($sql);\n        $stmt->bindParam(':__id__', $i);\n        $stmt->execute();\n    }\n    // index  table on each of the relevant columns\n    if (!empty($a_index)) {\n        foreach ($a_index as $index_field) {\n            $sql_index = "CREATE INDEX IF NOT EXISTS `{$table_name}_{$index_field}_idx` ON $table_name (`$index_field`);";\n            $_dbg($sql_index);\n            $pdo->exec($sql_index);\n        }\n    }\n    // Querying for the result\n    if (empty($sql_query)) {\n        $index_field = $str = implode($sep = ', ', $a_index);\n        $sql_query = "SELECT * FROM $table_name ORDER BY $index_field";\n        $_dbg($sql_query);\n    }\n    $stmt = $pdo->prepare($sql_query);\n    $stmt->execute();\n    $rs_result = $stmt->fetchAll(\\PDO::FETCH_ASSOC);\n    $_dbg($rs_result);\n    return $rs_result;\n}\n//----------------------------------------------------------------------------\n//  test\n//----------------------------------------------------------------------------\n$RS = [\n    ['aa' => "d'antonio ", 'bb' => '`"'],\n];\n$c = 50;\nfor ($i = 0; $i < $c; $i++) {\n    $RS[] = ['aa' => $i, 'bb' => 'ss' . $i];\n}\nsqlite_import($RS, ['aa'], [\n    // 'pdo' => new PDO('sqlite:' . __DIR__ . '/sqlite_import.sqlite'),\n    '_dbg' => function ($v) {\n        if (is_string($v)) {\n            echo "$v \\n";\n        } else {\n            echo var_export54($v);\n        }\n    },\n]);\n\n\n
suite_beans_|//----------------------------------\n//For example a new account bean:\n$accountBean = BeanFactory::newBean('Accounts');\n// retrieve  account by id\n$account_x = BeanFactory::getBean('Accounts', $beanId);\n$account_x->get_list( // paginated\n    $order_by = "",\n    $where = "",\n    $row_offset = 0,\n    $limit=-1,\n    $max=-1,\n    $show_deleted = 0);\n$beanList = $accountBean->get_full_list(\n    $order_by='name',\n    $where = "accounts.industry = 'Media'"\n    );\n//Get the Name field on account bean\n$accountBean->name;\n//Get a custom field on a case\n$caseBean->third_party_code_c;\n//Set the name of a case\n$caseBean->name = 'New Case name';\n$accountBean->save();\n// linked beans\n$accountBean->get_linked_beans(..)\n//Load the relationship\n$accountBean->load_relationships();\n$accountBean->load_relationship('contacts');\n//Can now call methods on the relationship object:\n$contactIds = $accountBean->contacts->get();\n\n\n//saving a related bean\n$accountBean->load_relationship('contacts');\n//Create a new demo contact\n$contactBean = BeanFactory::newBean();\n$contactBean->first_name = 'Jim';\n$contactBean->last_name = 'Mackin';\n$contactBean->save();\n//Link the bean to $accountBean\n$accountBean->contacts->add($contactBean);\n// delete the relationship\n$accountBean->contacts->delete($accountBean->id, $contactBean);\n// \n// ottenere oggetti linkati\n$contractsBeans = $bean->get_linked_beans('crm_richieste_mandanti_aos_contracts', 'AOS_Contracts');\n// il nome della relationship è in obj->field_name_map , type=link,relate\n$a_Account_mandante = $RaM_ref->get_linked_beans('crm_richieste_mandanti_accounts');\n\n//----------------------------------
web_config_|Env::config()->app_name
sleep_|sleep(10);// int seconds, do not work with floats! \nsleep(2 ^ ($num_hit - 1));\n\n/* \n accept integer or a decimal.\n  msleep(1.5); // delay for 1.5 seconds\n  msleep(.1); // delay for 100 milliseconds\n*/\nfunction msleep($time) {    usleep($time * 1000000);}
str_eq_|// str compare case insensitive, ATTENZIONE non multibyte safe\n$_str_ieq = function (string $a, string $b):bool {\n    return strtolower($a) === strtolower($b);\n};\n// case insensitive equal\nfunction str_eq(string $s1, string $s2): bool {\n    if (is_mb($s1) || is_mb($s2)) {\n        return mb_eq($str1, $str2);\n    }\n    return strcasecmp($s1, $s2) == 0;\n}\n// A simple multibyte-safe case-insensitive string comparison\nfunction mb_eq($str1, $str2, $encoding = null) {\n    if (null === $encoding) {$encoding = mb_internal_encoding();}\n    return strcmp(mb_strtoupper($str1, $encoding), mb_strtoupper($str2, $encoding));\n}\n// To determine if something is multibyte or not you need to be specific about which character set you're using.\n// If your character set is Latin1, for example, no strings will be multibyte.\n// If your character set is UTF-16, every string is multibyte.\n// That said, if you only care about a specific character set, say utf-8,\n// you can use a mb_strlen < strlen test if you specify the encoding parameter explicitly.\nfunction is_mb(string $s): bool {\n    return mb_strlen($s, 'utf-8') < strlen($s);\n}\n
for_reverse_|for ( $i = count($bt) ; $i-- ; $i > 0 ) { }
array_filter_|// array_values() to discard the non consecutive index\n$1_f = array_values(array_filter($1, function ($v){ \n    return empty($v) ? false : true; // filter out if empty // true retained, false skipped\n}));\n// elimina i valori vuoti\nfunction array_filter_empty(array $a): array{\n    return array_filter($a, function ($s) {\n            return !empty($s); // true retained, false skipped\n    });\n} \n// removes all NULL, FALSE and Empty Strings but leaves 0 (zero) values\n// $result = array_filter( $array, 'strlen' );\n// removes all NULL, FALSE and Empty Strings but leaves 0 (zero) values\n// function coalesce() { return current( array_filter(func_get_args(), 'strlen') ); }\n// for keys see array_filter_assoc_\n// filter keys: array_filter($arr, function($v, $k) { return $k == 'b' || $v == 4; }, ARRAY_FILTER_USE_BOTH);\n\n
filter_input_|// list of sanitize filters: http://php.net/manual/en/filter.filters.sanitize.php\n// notably:\n//   FILTER_SANITIZE_EMAIL\n//   FILTER_SANITIZE_URL\npublic static function gets($k, $d, $max_len=null) {\n        $flg = FILTER_FLAG_STRIP_LOW | FILTER_FLAG_STRIP_HIGH | FILTER_FLAG_STRIP_BACKTICK \n               | FILTER_SANITIZE_SPECIAL_CHARS | FILTER_SANITIZE_ENCODED;\n        $v = filter_input(INPUT_GET, $k, FILTER_SANITIZE_STRING, $flg );\n        if( !empty($max_len)  ) {\n             $v = substr($v, 0, $max_len);\n        }\n        return coalesce($v,$d);\n}
input_autocomplete_|autocomplete_
jq_ready_|$(function(){\n    // DOM ready\n\|\n});
eol_|PHP_EOL
array_flatten_|// array_flatten( [1,[2,3,[4,5,[6,7]]]] ) => [1,2,3,4,5,6,7]\nfunction array_flatten(array $array ) {\n    $result = [];\n    if (!is_array($array)) {\n        $array = func_get_args();\n    }\n    foreach ($array as $key => $value) {\n        if (is_array($value)) {\n            $result = array_merge($result, array_flatten($value));\n        } else {\n            $result = array_merge($result, [$key => $value] );\n        }\n    }\n    return $result;\n}
sequence_|range_
htmlspecialchars_|$safe_html = htmlspecialchars( (string) $1, ENT_QUOTES, 'UTF-8' );// always use it on input variables
pdo_quote_|$str = PDO::quote($str);
out_|echo htmlspecialchars($s, ENT_QUOTES);
xml_indent_|// formatta XML\nfunction xml_indent($xml) {\n    return tidy_repair_string($xml, ['input-xml' => 1, 'indent' => 1, 'wrap' => 0]);\n}
curl_|curl_get_\ncurl_post_\n//@see curl_* for more recipes
array_map_|$1_m = array_map(function($val) {\n    return trim($val);\n}, $1 );\n// array_map([__CLASS__, 'quote_regex'], $a_xxx);// methods syntax\n\n
array_map_assoc_|$a_err = array_map(function($k, $v) {\n    return "$k => $v";\n}, array_keys($a_err), array_values($a_err) );\n// @see array_map_keys_
pthread_|threads_\npthreads_
dir_grep_|/**\n * retrieve all file names of matching pattern in a directory (and it's subdirectories)\n * example: getFiles($arr, './modules', '.+/EditView.php/'); // grabs all EditView.phps\n * @param array $arr return array to populate matches\n * @param string $dir directory to look in [ USE ./ in front of the $dir! ]\n * @param regex $pattern optional pattern to match against\n */\nfunction dir_grep(array &$arr, string $dir, string $pattern = '/(.+).log/'): void {\n    if (!is_dir($dir)) {\n        return;\n    }\n    $d = dir($dir);\n    while ($e = $d->read()) {\n        if (substr($e, 0, 1) == '.') {\n            continue;\n        }\n        $file = $dir . '/' . $e;\n        if (is_dir($file)) {\n            $self = __FUNCTION__;\n            $self($arr, $file, $pattern);\n        } else {\n            if (empty($pattern)) {\n                $arr[] = $file;\n            } elseif (preg_match($pattern, $file)) {\n                $arr[] = $file;\n            }\n        }\n    }\n}\n
beanstalk_|// https://github.com/pda/pheanstalk email worker:\n// composer require pda/pheanstalk\n\nuse Beanstalk\\Client;\n$msg=json_encode(["dest_email","email_subject","from_email","email_body"]);\n\n$beanstalk = new Client(); \n$beanstalk->connect();\n$beanstalk->useTube($pipe='flux'); // Begin to use tube `'flux'`.\n$beanstalk->put(\n    23,  // Give the job a priority of 23.\n    0,   // Do not wait to put job into the ready queue.\n    60,  // Give the job 1 minute to run.\n    $msg // job body\n);\n$beanstalk->disconnect();\n\n\n// sender.php\n// this does the job:\n// php /path/to/sender/sender.php &\n\nuse Beanstalk\\Client;\n$do=true;\ntry {\n    $beanstalk = new Client();\n    $beanstalk->connect();\n    $beanstalk->watch($pipe='flux');\n} catch (Exception $e ) {\n    echo $e->getMessage();\n    echo $e->getTraceAsString();\n    $do = false;\n}\nwhile ($do) {\n    $job = $beanstalk->reserve(); // Block until job is available.\n    $emailParts = json_decode( $job['body'] );\n\n    // process here\n    $result = true;\n\n    if ($result) {\n        $beanstalk->delete($job['id']);\n    } else {\n        $beanstalk->bury($job['id'], 20);\n    }\n}\n$beanstalk->disconnect();\n\n//\n// If you don't need advanced queueing stuff (like having re-configurable routing of queue items) then I'd recommend seriously looking \n// at just rolling your own queue in redis. It's incredibly simple, you just need to serialize (or json_encode) the data for the call, \n// push it into redis, and then every worker just sits waiting for a job via blpop. \n// Or you could use https://github.com/chrisboulton/php-resque to avoid having to write that bit.\n// \n\n\n\n\n
rand_array_|// @see rand_ for php5.3 support\n$_rand_pick = function(array $a_str) {\n    $rand_i = random_int(0, count($a_str) - 1);\n    return $a_str[$rand_i];\n};\n$_rand_str = function($len, $cs='ABCDEFGHILMNPQRSTUVZWYJKX'.'0123456789') use($_rand_pick) { // no O for readability\n    $a_cs = str_split($cs);\n    $res = '';\n    for( $i=0; $i < $len; $i++) {\n        $res .= $_rand_pick($a_cs);\n    }\n    return $res;\n};\n$_rand_num = function($len) use($_rand_str) {\n    return $_rand_txt($len, '1234567890');\n};\n/*\n$cs_A = 'ABCDEFGHILMNPQRSTUVZWYJKX';\n$cs_L = strtolower($cs_A);\n$cs_n = '0123456789';\n$cs_S = '!$%&/()=?^*+@,.;:-_';\n$str = $_rand_str(8,$cs_A).$_rand_str(2,$cs_S).$_rand_str(4,$cs_n);\n*/\n\n\n\n\n\n\n
file_tmp_dir_|function get_temp_dir()\n{\n    $K=ini_get("upload_tmp_dir");\n    if(!$K) {\n        if(function_exists('sys_get_temp_dir'))\n            $K=sys_get_temp_dir();\n        else {\n            $sc=@tempnam("","");\n            if(!$sc)\n                return false;\n            $K=dirname($sc);\n            unlink($sc);\n        }\n    }\n    return $K;\n}
sql_bd2_fetch_|fetch FIRST 100 ROWS ONLY
ctype_digit_|if( !ctype_digit($p_iva)  ) {\n                $a_res[$p_iva] = 'invalid PIVA:'.$p_iva;\n                continue;\n}\n// ctype_digit str è solo 0-9, nessun altro char\n            $_is_digit = function ($val) {\n                $val = trim($val);\n                if (1 == preg_match('/^([0-9\\.\\,]*)$/i', $val)) {\n                    // digits and . or ,\n                    return true;\n                }\n                return false;\n            };
sort_|ksort($a);//  for keys! in place returns bool\nasort($a, SORT_STRING);// &$a;  sort values! returns bool\n\n// sort vals of dict, maintain index association\nfunction h_sort($dict){\n  uasort( $dict, function($a, $b) {\n    if ($a == $b) {\n        return 0;\n    }\n    return ($a < $b) ? -1 : 1;//ASC\n  });\n    return $dict;\n}\n/*\nFunction name     Sorts by    Maintains key association    Order of sort                  Related functions\nasort()           value        yes                         low to high                    arsort()\narsort()          value        yes                         high to low                    asort()\nkrsort()          key          yes                         high to low                    ksort()\nksort()           key          yes                         low to high                    asort()\nnatcasesort()     value        yes                         natural, case insensitive      natsort()\nnatsort()         value        yes                         natural                        natcasesort()\nrsort()           value        no                          high to low                    sort()\nshuffle()         value        no                          random                         array_rand()\nsort()            value        no                          low to high                    rsort()\nuasort()          value        yes                         user defined                   uksort()\nuksort()          key          yes                         user defined                   uasort()\nusort()           value        no                          user defined                   uasort()\narray_multisort() value        depends                     first array or sort options    array_walk()\n*/\n// usort($rs, function($left, $right) { \n//   return strcmp($left['message'], $right['message']);\n// spaceship operator can almost compare anything 7.0+\n// return $a <=> $b; // ascending, or descenting: -($a <=> $b);\n// });\n\n\n\n\n\nsort_records_\n\n\n
sql_insert_|// SQL generation\n$sql = SQL::insert($table= 'WEB_DAT.MATPF00F', $h_input);\n// SQL_\n\n-- sql update_insert()\n-- mysql only, very efficient\n-- insert if not found or update\n$sql="\nINSERT INTO users (email, name) \n    VALUES\n        ('support@inspector.dev', 'Valerio'),\n        ('support@inspector.dev', 'Valerio Barbera'),\n        ('frank@gmail.com', 'Frank'),\n        ('seb@gmail.com', 'Sebastian')\nON DUPLICATE KEY \n    UPDATE users SET name = VALUES(name)\n";\n//\nSQL::update_insert($table, $rows=[\n    ['email' => 'support@inspector.dev', 'name' => 'Valerio', 'age' => 25],\n    ['email' => 'support@inspector.dev', 'name' => 'Valerio Barbera', 'age' => 35]\n], $h_update=['name']);\n\n\n
tostr_|__toString()
cli_opt_|<?php\n//@see cli_getopt_\nclass CLI {\n    public static function hasFlag($flag, $argv = null) {\n        if (empty($argv)) {\n            if (isset($_SERVER['argv']) && !empty($_SERVER['argv'])) {\n                $argv = $_SERVER['argv'];\n            }\n        }\n        $s_argv = implode(" ", $argv) . " ";\n        $substr = " --" . $flag . " ";\n        return strpos($s_argv, $substr) !== false;\n    }\n    public static $h_args = [];\n    // get a single flag\n    public static function getFlag($flag, $def = '', $argv = null) {\n        if (empty(self::$h_args)) {\n            self::$h_args = self::getConsoleArgs($argv);\n        }\n        return h_get($h_args, $flag, $def);\n    }\n    //\n    // parsing argomenti con dato e flags\n    //\n    // @param   $argv\n    // @return hash [ param => val ]\n    //\n    public static function getConsoleArgs($argv = null) {\n        if (empty($argv)) {\n            if (isset($_SERVER['argv']) && !empty($_SERVER['argv'])) {\n                $argv = $_SERVER['argv'];\n            } else {\n                return; // invalid env\n            }\n        }\n        $a_args = [];\n        foreach ($argv as $arg) {\n            if (preg_match('/--([^=]+)="(.*)"/', $arg, $match)) {\n                // "" enclosed args\n                $k = $match[1];\n                $v = $match[2];\n                $v = trim($v, $charlist = '"');\n                $a_args[$k] = $v;\n            } elseif (preg_match('/--([^=]+)=(.*)/', $arg, $match)) {\n                $k = $match[1];\n                $v = $match[2];\n                $a_args[$k] = $v;\n            } elseif (preg_match('/-([a-zA-Z0-9])/', $arg, $match)) {\n                $a_args[$match[1]] = true;\n            } else {\n                // what's that?\n            }\n        }\n        return $a_args;\n    }\n}\n// testing\nfunction test_args_parse() {\n    // test str: php myscript.php --user=nobody --password=secret -p --access="host=127.0.0.1 port=456"\n    $t_argv = [\n        'xxx',\n        '--user=nobody',\n        '--password=secret',\n        '-p',\n        '--access="host=127.0.0.1 port=456"',\n    ];\n    $a = CLI::getConsoleArgs($t_argv);\n    echo print_r($a, true);\n    ok($a['user'], $expected = 'nobody', 1);\n    ok($a['password'], $expected = 'secret', 2);\n    ok($a['access'], $expected = "host=127.0.0.1 port=456", 3);\n    ok($a['p'], true, 4);\n}\n\n// the simplest possible flags parser\n// es. --data=LA|CT\nfunction flag_val(string $flag, string $def='', array $argv=null) :string {\n    $reg = '/\\-\\-'.$flag.'=(.*)/';\n    if( is_null($argv) ) {\n        $argv = $GLOBALS['argv'];\n    }\n    foreach( $argv as $s_arg) {\n        $matches = [];\n        if (preg_match($reg, $s_arg, $matches)) {\n            // sovrascrivere anche la configurazione\n            $val = $matches[1];\n            return $val;\n        }\n    }\n    return $def;\n}\n\n\n\n\n/* alterative methods:\n// manual parsing\nfunction cli_parse_options(array $opts, $argv = null, $argc = null) {\n$argv = !empty($argv) ? $argv : $_SERVER['argv'];\n$argc = !empty($argc) ? $argc : $_SERVER['argc'];\n$i = 1;\n$_fail_for_no_value = function ($i) use ($argv) {\nif (!isset($argv[$i + 1])) {\necho ("switch $i requires a value  \\n");\nexit(1);\n}\n};\nwhile ($i < $argc) {\nswitch ($argv[$i]) {\n// multi options  bool flags\n// case '--help':\n// case '-h':\n//     $opts['h'] = true;\n//     $i++;\n//     break;\ncase '-s':\ncase '--subject':\n$_fail_for_no_value($i);\n$opts['subject'] = $argv[$i + 1];\n$i += 2;\nbreak;\ncase '-t':\ncase '--to':\n$_fail_for_no_value($i);\n$opts['to'] = $argv[$i + 1];\n$i += 2;\nbreak;\ncase '-m':\ncase '--message':\n$_fail_for_no_value($i);\n$opts['message'] = $argv[$i + 1];\n$i += 2;\nbreak;\ncase '--html':\n$_fail_for_no_value($i);\n$opts['html'] = $argv[$i + 1];\n$i += 2;\nbreak;\ncase '--html_stdin':\n$opts['html_stdin'] = true;\n$i++;\nbreak;\ncase '-f':\ncase '--file_path':\n$_fail_for_no_value($i);\n$opts['file_path'] = $argv[$i + 1];\n$i += 2;\nbreak;\n}\n}\nreturn $opts;\n}\n// lib alternative\n$options = new Zend_Console_Getopt(array(\n'drop|d' => 'Drop the database',\n'create|c' => 'Create the database',\n));\n$options->parse();\n */\n
jedit_abbr_|// example using jedit abbreviations\nif_#$x#
assert_int_|if( !is_numeric($num) ) {\n    throw new Exception("num deve essere in formato numerico, '$num' ricevuto");\n}\n\n
str_starts_with_|function str_starts_with($str, $substr) {\n    $str_start = mb_substr($str, 0, mb_strlen($substr));\n    return $str_start === $substr;\n}\n
do_|do_while_
filter_xss_|//ENT_COMPAT     Converte gli apici doppi e lascia inalterati gli apici singoli.\n//ENT_QUOTES     Converte sia gli apici doppi sia gli apici singoli.\n//ENT_NOQUOTES   Lascia entrambi i tipi di apici inalterati.\nfunction xss_safe($str){\n  return htmlentities($str, ENT_QUOTES, 'UTF-8');\n}\n\n//ENT_COMPAT     Converte gli apici doppi e lascia inalterati gli apici singoli.\n//ENT_QUOTES     Converte sia gli apici doppi sia gli apici singoli.\n//ENT_NOQUOTES   Lascia entrambi i tipi di apici inalterati.\nfunction e($str) {\n    $encoding='UTF-8';\n    // se in input arrivano entities, le tolgo\n    $str = html_entity_decode($str, ENT_QUOTES| ENT_HTML401, $encoding );\n    $str = htmlentities($str,  ENT_IGNORE | ENT_QUOTES | ENT_HTML401, $encoding );\n    return $str;\n}\n// oppure:\n// xss mitigation functions\nfunction xss_safe($str, $encoding='UTF-8') {\n   // Certain characters have special significance in HTML, and should be represented by HTML entities if they are to preserve their meanings. \n   // This function returns a string with these conversions made. \n   // If you require **all** input substrings that have associated named entities to be translated, use htmlentities() instead.\n   return htmlspecialchars($str, ENT_QUOTES | ENT_HTML401, $encoding);\n}\n// for complex output use HTTMLPurifier\nfunction safe_html($html){\n    static $purifier = null;\n    if( !$purifier ) {\n      // Include the HTML Purifier library\n      require_once( LIB_PATH. 'htmlpurifier-4.6.0/HTMLPurifier.auto.php');\n      // default configuration \n      $c = HTMLPurifier_Config::createDefault();\n      $purifier = new HTMLPurifier( $c );\n    }\n    $safeHtml = $purifier->purify($html); // $safeHtml is now sanitized.  You can output $safeHtml to your users without fear!\n    return $safeHtml ;\n} \n\n
zf_action_|public function __Action(){\n    $this->view->myval = null;\n}
array_pop_|$_last_removed = array_pop($a_); // Deleting last array item\n// es.\n$a_stack = ['orange', 'banana', 'apple', 'raspberry'];\n$_last_removed = array_pop($a_stack);// deletes "raspberry"\n
get_object_vars_|$a_v = get_object_vars( new self() );// all properties accessible from the context and default
Iterator_|// Interface to detect if a class is traversable using foreach.\n// @see SPL iterators\nclass myIterator implements Iterator {\n    private $position = 0;\n    private $array = array(\n        "firstelement",\n        "secondelement",\n        "lastelement",\n    );  \n    public function __construct() {\n        $this->position = 0;\n    }\n    public function rewind() {\n        var_dump(__METHOD__);\n        $this->position = 0;\n    }\n    public function current() {\n        var_dump(__METHOD__);\n        return $this->array[$this->position];\n    }\n    public function key() {\n        var_dump(__METHOD__);\n        return $this->position;\n    }\n    public function next() {\n        var_dump(__METHOD__);\n        ++$this->position;\n    }\n    public function valid() {\n        var_dump(__METHOD__);\n        return isset($this->array[$this->position]);\n    }\n}\n$list = new myIterator();\nforeach($list as $key => $value) {\n    var_dump($key, $value);\n    echo "\\n";\n}
zf_session_|// manual setup, in bootstrap\nZend_Session::rememberMe($lifetime=5*24*60*60);\n            $app_namespace = 'mirabello';\n            $session = new Zend_Session_Namespace($app_namespace);\n            Zend_Registry::set('session', $session);\n// uso\n$session = Zend_Registry::get('session');\n//$session = new Zend_Session_Namespace('_l10n_');\n$session->var = '';
twb_button_split_|<!-- Split button -->\n<div class="btn-group">\n  <button type="button" class="btn btn-danger">Action</button>\n  <button type="button" class="btn btn-danger dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n    <span class="caret"></span>\n    <span class="sr-only">Toggle Dropdown</span>\n  </button>\n  <ul class="dropdown-menu">\n    <li><a href="#">Action</a></li>\n    <li><a href="#">Another action</a></li>\n    <li><a href="#">Something else here</a></li>\n    <li role="separator" class="divider"></li>\n    <li><a href="#">Separated link</a></li>\n  </ul>\n</div>
twb_tab_|twb_tabs_
html_modal_|// genera una finestra modale in html+css3 senza alcun js di supporto\nfunction html_modal($content) {\n    // css, non è necessario ripeterlo\n    static $c = 0;\n    if ($c > 0) {\n        $css = '';\n    } else { $c++;\n        $css = <<<__END__\n        <style>\n        body {\n            font-family: Arial, Helvetica, sans-serif;\n        }\n        input[type="checkbox"] {\n            display:none;\n        }\n        input[type="checkbox"]:checked ~ .modal,\n        input[type="checkbox"]:checked ~ .modal-background {\n            display: block;\n        }\n        .modal-background {\n            width: 100%;\n            height: 100%;\n            background-color: rgba(0,0,0,0.5);\n            position: fixed;\n            top: 0;\n            left: 0;\n            display: none;\n            z-index: 9998;\n        }\n        .modal {\n            position: fixed;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            margin: auto;\n            display: none;\n            width: 300px;\n            height: 300px;\n            background-color: #fff;\n            box-sizing: border-box;\n            z-index: 9999;\n        }\n        .modal > p {\n            padding: 15px;\n            margin: 0;\n        }\n        .modal-header {\n            background-color: #f9f9f9;\n            border-bottom: 1px solid #dddddd;\n            box-sizing: border-box;\n            height: 50px;\n        }\n        .modal-header h3 {\n            margin: 0;\n            box-sizing: border-box;\n            padding-left: 15px;\n            line-height: 50px;\n            color: #4d4d4d;\n            font-size: 16px;\n            display: inline-block;\n        }\n        .modal-header label {\n            box-sizing: border-box;\n            border-left: 1px solid #dddddd;\n            float: right;\n            line-height: 50px;\n            padding: 0 15px 0 15px;\n            cursor: pointer;\n        }\n        .modal-header label:hover img {\n            opacity: 0.6;\n        }\n        /* below is optional, it is just an example for the blue button */\n        .example-label {\n            box-sizing: border-box;\n            display: inline-block;\n            padding: 10px;\n            background-color: #375d91;\n            color: #f9f9f9;\n            font-size: 12px;\n            font-weight: bold;\n            cursor: pointer;\n        }\n        .example-label:hover {\n            background-color: #3c669f;\n        }\n        </style>\n__END__;\n    }\n    //TODO:gestire ID e classi per essere ripetibile\n    $html = $html = <<<__END__\n        <input type="checkbox" id="modal">\n        <label for="modal" class="example-label">Open Modal</label>\n        <label for="modal" class="modal-background"></label>\n        <div class="modal">\n            <div class="modal-header">\n                <h3>Modal Title</h3>\n                <label for="modal">\n                    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAdVBMVEUAAABNTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1NTU0N3NIOAAAAJnRSTlMAAQIDBAUGBwgRFRYZGiEjQ3l7hYaqtLm8vsDFx87a4uvv8fP1+bbY9ZEAAAB8SURBVBhXXY5LFoJAAMOCIP4VBRXEv5j7H9HFDOizu2TRFljedgCQHeocWHVaAWStXnKyl2oVWI+kd1XLvFV1D7Ng3qrWKYMZ+MdEhk3gbhw59KvlH0eTnf2mgiRwvQ7NW6aqNmncukKhnvo/zzlQ2PR/HgsAJkncH6XwAcr0FUY5BVeFAAAAAElFTkSuQmCC" width="16" height="16" alt="">\n                </label>\n            </div>\n            <p>Content for the modal</p>\n        </div>\n__END__;\n    return $css . $html;\n}
ifk_|if( array_key_exists($k, $1) ) {\|\n}
suite_log_|$GLOBALS['log']->error($msg);\n// debug  info  warn deprecated  error  fatal  security\n\n
date_format_|$_date_fmt = function($s_date, $fmt_from='Y-m-d', $fmt_to='d/m/Y' ) {\n    if( empty($s_date) ) return '';\n    try {\n        $date = DateTime::createFromFormat($fmt_from, $s_date );\n        return $date->format($fmt_to);\n    } catch (Exception $e) {\n        echo implode('', [$e->getMessage(), print_r(DateTime::getLastErrors(), 1),\n\t\t$s_date, $fmt_from, $fmt_to ]);\n    }\n};\n/* $_date_fmt_old = function($comp_date, $fmt_from="%d-%d-%d", $fmt_to='m/y') {\n    if (empty($comp_date)) { return ''; }\n    $n = sscanf($comp_date, $fmt_from, $Y, $M, $D);\n    return date($fmt_to, mktime($h=0, $m=0, $s=0, $M, $D, $Y));\n}; */\nfunction fmt_date($date, $t="d/m/Y") {\n    return date($t, strtotime($date));// strtotime parses DB standard formats\n}\n// fmt data da IT(con '-' o '/') a format 'd-m-Y'\nfunction date_to_SQL(string $date_str):string {\n    $_pad = function($s){\n        if (strlen($s) == 1) {\n            $s = '0' . $s;\n        }\n\treturn $s;\n    }; \n    if (\n      preg_match('/^(\\d{1,2})-(\\d{1,2})-(\\d{4})$/', $date_str, $match) ||\n      preg_match('/^(\\d{1,2})\\/(\\d{1,2})\\/(\\d{4})$/', $date_str, $match)\n    ) {\n        $match[2] = $_pad( $match[2]);\n        $match[1] = $_pad( $match[1]);\n        return "{$match[3]}-{$match[1]}-{$match[2]}";\n    } else { \n       die("wrong format $date_str"); \n    }\n    return '';\n}\n\n\n
array_pad_|$a = array_pad($a_input, 20, '0' );
psalm_return_hash_|/**\n * @return array<array-key, mixed> \n */
sql_db2_update_|$sql_now = sprintf("TIMESTAMP_FORMAT('%s', 'YYYY-MM-DD HH24:MI:SS')", date('Y-m-d H:i:s') );\n$sql = "UPDATE " . DB2Liblist::qualify('ZNTCT00F') . "\n        SET\n            TT_TIPRE = 'A',\n            TT_STAOR = 'WA',\n            TT_DUPD  = $sql_now\n        WHERE (1=1)\n            and TT_STAOR in ('WA','SL')\n            and TT_NUORD = $order_id\n            and TT_DAORD = $order_date \\n";
in_array_|$is_present = in_array( $str, $a_ );\n\n/**\n * case insensitive in_array\n * @param list<string>  $haystack\n */\nfunction in_arrayi(string $needle, array $haystack): bool {\n    return in_array(strtolower($needle), array_map('strtolower', $haystack));\n}
array_max_lenght_|// the max str lengh of items\n$maxlen = max(array_map('strlen', $array));
jq_form_validate2_|button.on('click', function(){\n// plugin form validate\n    $('#contact-form').validate({\n        rules: {\n            nome: "required",\n            cognome: "required",\n            azienda: "required",\n            telefono: "required",\n            settore: "required",\n            email: {\n                required: true,\n                // Specify that email should be validated\n                // by the built-in "email" rule\n                email: true\n              },\n        },\n        messages: {\n            nome: "Inserici il tuo nome",\n            cognome: "Inserici il tuo cognome",\n            azienda: "Inserisci la tua ragione sociale",\n            telefono: "Inserisci un recapito telefonico",\n            settore: "Inserici il settore della tua azienda (es Auto, Moto ...)",\n            email: "Inserisci l'indirizzo email"\n        },\n        submitHandler: function(form) {\n            form.submit();\n        }\n    });\n});
strict_types_|types_
chdir_|chdir($dir_path);
is_function_|is_callable($f)
trigger_error_|trigger_error(\n    'Undefined property via __get(): ' . $name='aaa' .\n    ' in ' . $trace[0]['file'] .\n    ' on line ' . $trace[0]['line'],\n    E_USER_NOTICE);
model_|// accesso ai dati\nclass $1 {\n\n}\n// selezione records $1\nclass $1List {\n    public static getAll(){}\n    public static getOne(){}\n}
twb_button_group_|twb3_button_group_
jq_submit_|$( "#target" ).submit(function( event ) {\n  alert( "Handler for .submit() called." );\n  event.preventDefault();\n});
zf_env_|// 'DEVELOPMENT'|'PRODUCTION' == strtoupper(APPLICATION_ENV)\nBootstrap::isEnvProd() ||  Bootstrap::isEnvDev()
header_|header("Location: $url");\n//\nheader('Content-Type: text/html; charset=UTF-8');
construct_|public function __construct(){\n   parent::__construct();\n\|}
file_backup_|// fa una copia di sicurezza su un file per poter modificare il file senza rischiare di perderlo\nfunction file_backup($file, $do_compress=false, $add_datetime=false):void {\n    $file2 = $file . '-tmp';\n    $oldchmod = fileperms($file);\n    // make exact copy\n    file_put_contents($file2, $file_content=file_get_contents($file) );//makes a copy +tmp ext\n    chmod($file2, $oldchmod);\n    //\n    // rename($file . '-tmp', $file);//restore the backup\n}
unicode_|echo "\\u{9999}";
array_min_|$min = min($n1, $n2 ...);\n$min = min($a_num);
strong_|b_
json_decode_safe_|//\n// simplified wrapper\n//\nlist($is_valid, $err_msg, $data) = JSON_decode_safe($json_str);\nvar_dump($is_valid, $err_msg, $data);\n\n// try to iron out some of the quirks on legacy versions\nfunction json_decode_safe($json) {\n    $assoc = true;\n    $options = JSON_BIGINT_AS_STRING | JSON_OBJECT_AS_ARRAY;\n    $depth = 512;\n    /// PHP 7.3+\n    if (version_compare(phpversion(), '7.3.0', '>=')) {\n        try {\n            $data = json_decode($json_str, $use_assoc = true, $recursion_depth = 512, \n               JSON_BIGINT_AS_STRING | JSON_OBJECT_AS_ARRAY | JSON_THROW_ON_ERROR);\n        } catch (\\JsonException $exception) {\n            echo $exception->getMessage();\n        }\n    } elseif (version_compare(phpversion(), '5.4.0', '>=')) {\n        $data = json_decode($json, $assoc, $depth, $options);\n        $err_msg = JSON_get_error();\n    } elseif (version_compare(phpversion(), '5.3.0', '>=')) {\n        $data = json_decode($json, $assoc, $depth);\n        $err_msg = JSON_get_error();\n    } else {\n        $data = json_decode($json, $assoc);\n        $err_msg = JSON_get_error();\n    }\n    $is_valid = json_last_error() === JSON_ERROR_NONE;\n    return [$is_valid, $err_msg, $data];\n}\n\n// interpreta un errore\nfunction JSON_get_error() {\n    // when parse error, $data is NULL\n    if (json_last_error()) {\n        // get errors\n        $constants = get_defined_constants(true);\n        $json_errors = [];\n        foreach ($constants["json"] as $name => $value) {\n            if (!strncmp($name, "JSON_ERROR_", 11)) {\n                $json_errors[$value] = $name;\n            }\n        }\n        return 'JSON DECODE error: ' . $json_errors[json_last_error()] . ':' . json_last_error_msg();\n        // throw new \\RuntimeException(json_last_error_msg());\n    }\n    return '';\n}\n// handling semi valid input\n//\n// note: Make sure you pass in utf8 content, or json_decode may error out and just return a null value\n// note: The JSON spec is not JavaScript, but a subset of JavaScript.\n// "{'Organization': 'PHP Documentation Team'}"; gli apici anziché le virgolette, in JSON è un errore di sintassi\n// NOTA: // $json_str = utf8_encode($json_str);\n// pulisce JSON invalido formalmente, provabilmente prodotto concatenando stringhe a mano in un linguaggio che non possiede un encoder\n// NOTA: control characters including tabs and newlines in the JSON input are incorrect JSON\nfunction json_decode_human_readable($json, $assoc = FALSE) {\n    // search and remove comments like /* */ and //\n    $json = preg_replace("#(/\\*([^*]|[\\r\\n]|(\\*+([^*/]|[\\r\\n])))*\\*+/)|([\\s\\t]//.*)|(^//.*)#", '', $json);\n    //\n    $json = str_replace(array("\\n", "\\r"), "", $json);\n    $json = preg_replace('/([{,]+)(\\s*)([^"]+?)\\s*:/', '$1"$3":', $json);\n    $json = preg_replace('/(,)\\s*}$/', '}', $json);\n    // removeTrailingCommas\n    $json = preg_replace('/,\\s*([\\]}])/m', '$1', $json);\n    return json_decode($json, $assoc);\n}\n\n///--------------------------------------------------- test\n\n$dat_json = <<<EOF\n/* test comment */\n{\n    "foo"    : "bam",\n    "bar"    : "baz",\n}\nEOF;\n$dat_array = json_decode_human_readable($dat_json);\n// var_dump( $dat_array );
tmp_file_|file_tmp_
array_sort_|sort_
magic_methods_| \n__destruct()\t \n__call($fun_Name, $arguments)\t        //The __call() method will be called when an undefined or inaccessible method is called.\n__callStatic($fun_Name, $arguments)\t//The __callStatic() method will be called when an undefined or inaccessible static method is called.\n__get($property_Name)\t                //The __get() method will be called when getting a member variable of a class.\n__set($property, $value)                //The __set() method will be called when setting a member variable of a class.\n__isset($content)                       //The __isset() method will be called when calling isset()  or empty() for an undefined or inaccessible member.\n__unset($content)                       //The __unset() method will be called when calling reset() for an undefined or inaccessible member.\n__sleep()                               //The __sleep() method will be called first when executing serialize().\n__wakeup()                              //The __wakeup() method will be called first when deserialization() is executed.\n__toString()                            //The __toString() method will be called when using echo method to print an object directly.\n__invoke()                              //The __invoke() method will be called when trying to call an object in a way of calling function.\n__set_state($an_array)                  //The __set_state() method will be called when calling var_export().\n__clone()                               //The __clone() method will be called when the object is copied.\n__autoload($class_Name)                 //Try to load an undefined class.\n__debugInfo()                           //Print debug information.\n\n// auto magic getter-setter\nclass GenericObj {  \n      function __call($method, $args) {  \n            $var = strtolower(substr($method, 4, 1)) . substr($method, 5);  \n            switch (substr($method, 0, 4)) {  \n                  case "pull": return $this->{$var}; break;  \n                  case "push": $this->{$var} = $args[0]; break;  \n            } // switch  \n      } // call  \n} // GenericObj
sort_records_|// Sort the multidimensional array\nusort($RS, function (array $a, array $b):int {\n    // Define the custom sort function\n    return $a['some_sub_var'] > $b['some_sub_var'];\n});\n\n// $a_sorted = array_sort_by( $rs, function( $rec ) { return $rec['score']; });\nfunction array_sort_by(array $rs, callable $_fn, string $ord = 'ASC'): array{\n    $ord = strtolower($ord);\n    $s_rs = $rs;\n    uasort($s_rs, function (array $a, array $b) use ($_fn, $ord) :int {\n            if ($_fn($a) == $_fn($b)) {\n                return 0;\n            }\n            if ($ord === 'asc') {\n                return ($_fn($a) < $_fn($b)) ? -1 : 1; //ASC\n            } elseif ($ord === 'desc') {\n                return ($_fn($a) < $_fn($b)) ? 1 : -1; //DESC\n            } else {\n                die(implode('/', [__FUNCTION__, __METHOD__, __LINE__]) . ' > error ' . $ord);\n            }\n    });\n    return $s_rs;\n}\n     \n/**\n * Sort RS by Column\n *\n * @param mixed ... &$array1 [, mixed $array1_sort_order = SORT_ASC [, mixed $array1_sort_flags = SORT_REGULAR [, mixed $... ]]]\n * @see http://php.net/manual/en/function.array-multisort.php\n * @return array\n *\n * Example: $array = array_csort($array,'town','age',SORT_DESC,'name');\n *\n * $array is the array you want to sort, 'col1' is the name of the column\n * you want to sort, SORT_FLAGS are : SORT_ASC, SORT_DESC, SORT_REGULAR, SORT_NUMERIC, SORT_STRING\n * you can repeat the 'col',FLAG,FLAG, as often you want, the highest priority is given to\n * the first - so the array is sorted by the last given column first, then the one before ...\n *  268: $open_activity_list = array_col_sort($open_activity_list, 'date_due', SORT_DESC);\n */\nfunction array_col_sort() {\n    $args = func_get_args();\n    $RS = array_shift($args);\n    $arrayMultiSortParameters = [];\n    $sorting = [];\n    for ($i = 0, $size = count($args); $i < $size; $i++) {\n        if (is_string($args[$i])) {\n            foreach ($RS as $row) {\n                $sorting[$i][] = $row[$args[$i]];\n            }\n        } else {\n            $sorting[$i] = $args[$i];\n        }\n        $arrayMultiSortParameters[] = $sorting[$i];\n    }\n    $arrayMultiSortParameters[] = $RS;\n    call_user_func_array('array_multisort', $arrayMultiSortParameters);\n    return end($arrayMultiSortParameters);\n}
shmop_|// ATTENZIONE: To use shmop you will need to compile PHP with the --enable-shmop parameter in your configure line.\n\n// Shared memory allows multiple processes to access the same data in memory. You can use it to share data among running PHP scripts. data is lost after reboot.\n\n// Race conditions can be prevented by using a mutex, @see file_lock_\n$sem = sem_get(1234, 1);\nif (sem_acquire($sem)) {\n    //successful lock, go ahead\n    sem_release($sem);\n} else {\n    //Something went wrong...\n}\n\n\n// example form the manual\n// Create 100 byte shared memory block with system id of 0xff3\n$shm_id = shmop_open( $shmop_id= ftok(__FILE__, chr(time() & 255)), "c", 0644, $sh_size=100);\nif (!$shm_id) {\n    echo "Couldn't create shared memory segment\\n";\n}\n// Get shared memory block's size\n$shm_size = shmop_size($shm_id);\necho "SHM Block Size: " . $shm_size . " has been created.\\n";\n// Lets write a test string into shared memory\n$shm_bytes_written = shmop_write($shm_id, "my shared memory block", 0);\nif ($shm_bytes_written != strlen("my shared memory block")) {\n    echo "Couldn't write the entire length of data\\n";\n}\n// Now lets read the string back\n$my_string = shmop_read($shm_id, 0, $shm_size);\nif (!$my_string) {\n    echo "Couldn't read from shared memory block\\n";\n}\necho "The data inside shared memory was: " . $my_string . "\\n";\n//Now lets delete the block and close the shared memory segment\nif (!shmop_delete($shm_id)) {\n    echo "Couldn't mark shared memory block for deletion.";\n}\nshmop_close($shm_id);
Serializable_|// esempio PHP internal Serail. interface\nclass Obj implements Serializable {\n    private $data;\n    public function __construct() {\n        $this->data = "My private data";\n    }\n    public function serialize() {\n        return serialize($this->data);\n    }\n    public function unserialize($data) {\n        $this->data = unserialize($data);\n    }\n    public function getData() {\n        return $this->data;\n    }\n}
suite_logic_hook_|// where to store it? module hohoks in:\ncustom/modules/$mod_name/logic_hooks.php\n// but there are application hooks also, see docs\n\n// register:\n$hook_version = 1;// actually unused \n$hook_array = []; \n$hook_array['after_save'][] = [\n    1, // sort order, 1 to 99, low num is executed before\n    'Authorise the Segnalatori', // label\n    'custom/modules/CRM_segnalatori/logic_hooks_implementations.php', // path to impl. file\n    'SegnalatoriLogicHook', // class to load\n    'authorizeSegnalatori' // method to fire\n];\n\n// what available hooks are there?\n\n// Module Hooks are called on various record actions for a specific module.\n\nafter_delete // Fired when a record is deleted.\n\nafter_relationship_add //Fired after a relationship is added between two records. Note that this may be called twice, once for each side of the relationship.\n\nafter_relationship_delete //Fired after a relationship between two records is deleted.\n\nafter_restore //Fired after a record is undeleted.\n\nafter_retrieve // Fired after a record is retrieved from the DB.\n\nafter_save // after a record is saved. Note that due to some peculiarities some related modules may not be persisted to the database. The logic hook is fired within the SugarBean classes save method. Some implementing classes may save related beans after this method returns. A notable example of this is the saving of email addresses in Company modules.\n\nbefore_delete //Fired before a record is deleted.\n\nbefore_relationship_add\nFired before a relationship is added between two records. Note that this may be called twice, once for each side of the relationship.\n\nbefore_relationship_delete  //Fired before a relationship between two records is deleted. Note that this may be called twice, once for each side of the relationship.\n\nbefore_restore //Fired before a record is undeleted.\n\nbefore_save //Fired before a record is saved.\n\nhandle_exception //Fired when an exception occurs in a record.\n\nprocess_record //Fired when a record is processed ready to be displayed in list views or dashlets.\n\n\n\n\n// implementation parameters\nclass SomeClass {\n         function someMethod($bean, $event, $arguments) {\n           //Custom Logic\n         }\n}\n\n\n\n// is possible to listen beans?\n$GLOBALS['logic_hook']->call_custom_logic('', 'after_ui_footer');
void_|:void //7.1
touch_|// chenge access time of file, or create it\ntouch($file_path, $time = time() - 3600 );
dir_|glob_
zf_helper_|// minimal helper struct\nclass Zend_View_Helper_{{name}} extends Zend_View_Helper_Abstract {\n    public function {{name}} ($msg, $class = 'success', $opt=[]) {\n        return "";\n    }\n}
dir_size_|// controlli che non si intasi il disco con i files temp, in MB\nfunction check_dir_size($dir) {\n    $c = 0;\n    foreach (glob($dir . '/*.*') as $file_path) {\n        $c += filesize($file_path);\n    }\n    return floor($c / SIZE_MB);\n}
phpt_|<?php \| ?>
number_format_|number_format($number, 2, ',', '.');
zf_mail_|/* smtp: $c->mailer = function ($c) {\n  $mailer_transport = new Zend_Mail_Transport_Smtp(\n    'smtp.gmail.com',\n    array(\n      'auth'     => 'login',\n      'username' => $c->mailer_username,\n      'password' => $c->mailer_password,\n      'ssl'      => 'ssl',\n      'port'     => 465,\n    )\n  );\n  $obj = new Zend_Mail();\n  $obj->setDefaultTransport($mailer_transport);\n  return $obj;\n}; */\n$mail = new Zend_Mail();\n$mail->setFrom(Zend_Registry::get('config')->email->support);\n$mail->addTo($form->getValue('email'));\n$mail->setSubject("subject");\n// Retrieve the e-mail message text\ninclude "_email_template.phtml";\n$mail->setBodyText($email);\n$mail->send();\n\nfunction _zf_mail($to, $subject, $msg, /*Zend_Mime_Part|string*/ $attachment=null, array $opt=array() ) {\n    $mail = new Zend_Mail('UTF-8');\n    $mail->addTo($to);\n    $mail->setSubject($subject);\n    $mail->setBodyHtml($msg);\n    $mail->setFrom('backoffice@xxxx.it');\n    if( !empty($attachment) ) {\n        if( is_string( $attachment ) ){\n            $file_path = $attachment;\n            $attachment = new Zend_Mime_Part(file_get_contents($file_path));\n            $attachment->filename = basename($file_path);\n            $attachment->disposition = Zend_Mime::DISPOSITION_ATTACHMENT;\n        }\n        $mail->addAttachment($attachment);\n    }\n    $r = $mail->send();\n    return $r;\n}\n
psalm_throws_|* @throws ODBCException
sf_execute_|public function executeSpese(sfWebRequest $request) {\n    return $this->renderText('da implementare');\n}
method_|protected function \|(hint $v){ \nreturn ; \n}
cache_mem_|// momo func\npublic static function getCached() {\n        static $__cached_data = null;\n        if (null === $__cached_data) {\n            $__cached_data = self::_getCached();\n        }\n        return $__cached_data;\n}\n\n// 7.4+ With the null coalescing assignment operator \npublic function getCached() {\n\treturn $this->cache[$input] ??= $this->resolve($input);\n}\n\n// memo func param\n// il cliente è abilitato al DS?\npublic static function getCached($customer_id) {\n        static $__cached_data = [];\n        if (!array_key_exists($customer_id, $__cached_data)) {\n            $__cached_data[$customer_id] = self::_generator($customer_id);\n        }\n        return $__cached_data[$customer_id];\n}\n\n// momo func parametrica\npublic static function getCached( $cart_id ) {\n        $CK = json_encode(func_get_args());\n        static $C = [];\n        if( !array_key_exists($CK, $C ) ) {\n        $result = self::_getFunc($param);\n        $C[$CK] = $result;\n        }\n        return $C[$CK];\n}\n// _memoize_
zf_render_view_|// Render 'foo' instead of current action script\n        $this->_helper->viewRenderer('index');
sql_delete_old_|$days = 30*12;//12 mesi\n$sql = "DELETE FROM ws_log where date_time < (CURDATE() - INTERVAL :days DAY) ";\n$n = $db->query($sql, array( 'days' => $days ));\n\n\n// version 2\n$sql_clean = 'DELETE FROM mobile_log WHERE date_time < DATE_SUB(NOW(), INTERVAL 180 DAY)';
ini_|// parse ini file\n// Parse with sections\n$ini_array = parse_ini_file("sample.ini", $use_sections=true);\nprint_r($ini_array);
jq_tree_|\n// simplistic implementation\npublic static function render_tree() {\n        $_link = function($page, $id, $title ) {\n            $url = URL::append($page, ['action'=>'edit' , 'ID'=>$id]);\n            return sprintf('%s <a href="%s">%s</a>', $title, $url, '[edit]');\n        };\n        $html_tree = '';\n        $a_cat = DocumentList::getCategorieDocumenti();\n        foreach( $a_cat as $id_cat => $title ) {\n            $a_subcat = DocumentList::getSubCategorie($id_cat);\n            $html_sub_cat = '';\n            foreach( $a_subcat as $id_sub_cat => $sub_title ) {\n                $a_docs = DocumentList::getDocumenti($id_cat, $id_sub_cat);\n                $html_doc='';\n                if( count($a_docs) ){\n                    foreach( $a_docs as $doc_id => $rec_doc ) {\n                        $doc_title= $rec_doc['TITLE'];\n                        $html_doc .= sprintf('<li>%s  </li>',  $_link( 'documenti.php', $doc_id, $doc_title ) );\n                    }\n                    $html_doc="<ul id='doc'>$html_doc</ul>";\n                } else {\n                    $html_doc='vuoto!';\n                }\n                $html_sub_cat .= sprintf('<li>%s   %s</li>', $_link('sub_categs.php', $id_sub_cat, $sub_title ), $html_doc);\n            }\n            $html_sub_cat = "<ul id='sub_cat'> $html_sub_cat </ul>";\n\n            $html_tree .= sprintf('<li>%s  %s</li>',  $_link('categorie.php', $id_cat, $title ), $html_sub_cat);\n        }\n        $html_tree = "<ul id=doc_tree >$html_tree</ul>";\n$html_tree.=  <<<__END__\n<script >\n$(function(){\n    $('#doc_tree li>ul').hide();\n    $('#doc_tree > li').click(function(e) {\n        var parent_id = $(e.target).parent('ul').attr('id');\n        console.log( 'c1:', parent_id );\n        e.stopPropagation();\n        if( parent_id == 'doc_tree' ){\n            // $('#doc_tree > li > ul')\n            $(this).find(' > ul').slideToggle('fast');\n        } else if( parent_id == 'sub_cat' ) {\n            $(e.target).find(' > ul ').slideToggle('fast');\n            console.log( 'c2:', $(e.target) );\n        } else if( parent_id == 'doc' ) {\n        }\n    });\n    var el_btn = $( '#tree_collapse' );\n    var on_tgl = function() {\n        $('#doc_tree').find('ul').toggle('fast');\n        var is1 = "open all" == $(this).html().trim().toLowerCase();\n        var txt = is1 ? "close all" :  "open all" ;\n        $(this).html(txt);\n    };\n    el_btn.toggle(on_tgl, on_tgl);\n});\n</script>\n__END__;\n        return $html_tree ;\n    }\n// basato su plugin jqtree\nfunction jq_tree(){\n        // link al documento\n        $_link = function ($id, array $rec_doc) {\n            $doc_title = $rec_doc['TITLE'];\n            $doc_url = $rec_doc['URL'];\n            if (empty($doc_url)) {\n                return $doc_title;\n            }\n            $page = 'priv_document.php';\n            $url = URL::append($page, ['action' => 'download', 'ID' => $id]);\n            return sprintf('%s <a href="%s" target="blank" style="float:right;">%s</a>', $doc_title, $url, '[download]');\n        };\n        $tree_data = [ ];\n        $a_cat = PrivateDocumentList::getCategorieDocumenti(['cache' => false]);\n        foreach ($a_cat as $id_cat => $title) {\n            $a_L2 = PrivateDocumentList::getSubCategorie($id_cat, ['cache' => false]);\n            $children_L2 = [];\n            foreach ($a_L2 as $id_sub_cat => $sub_title) {\n                $a_L3 = PrivateDocumentList::getL3($id_sub_cat, ['cache' => false]);\n                $children_L3 = [];\n                foreach ($a_L3 as $id_sub_cat_L3 => $sub_title_L3) {\n                    $a_docs = PrivateDocumentList::getDocumenti(0, $id_sub_cat_L3, ['cache' => false]);\n                    $children_L4 = [];\n                    if (count($a_docs)) {\n                        foreach ($a_docs as $doc_id => $rec_doc) {\n                            $doc_title = $rec_doc['TITLE'];\n                            $children_L4[] = ['name' => $_link($doc_id, $rec_doc)  , 'id' => $doc_id];\n                        }\n                    }\n                    $children_L3[] = ['name' => $sub_title_L3, 'id' => $id_sub_cat_L3, 'children' => $children_L4];\n                }\n                $children_L2[] = ['name' => $sub_title, 'id' => $id_sub_cat, 'children' => $children_L3];\n            }\n            $tree_data[] = ['name' => $title, 'id' => $id_cat, 'children' => $children_L2];\n        }\n        $json_data = json_encode($tree_data, JSON_UNESCAPED_UNICODE | JSON_UNESCAPED_SLASHES | JSON_PRETTY_PRINT);\n        // npm i jqtree --save\n        $html_tree = <<<__END__\n        <div id="tree1" class=""> </div>\n        <!--\n        <link rel=stylesheet href="https://cdnjs.cloudflare.com/ajax/libs/jqtree/1.4.7/jqtree.css" type="text/css">\n        <script src="https://cdnjs.cloudflare.com/ajax/libs/jqtree/1.4.7/tree.jquery.debug.js"  ></script>\n        -->\n        <link rel=stylesheet href="/node_modules/jqtree/jqtree.css" type="text/css">\n        <script src="/node_modules/jqtree/tree.jquery.js"  ></script>\n        <script >\n        // test data\n        // var data = [\n        //     {\n        //         name: 'node1', id: 1,\n        //         children: [\n        //         { name: 'child1', id: 2 },\n        //         { name: 'child2', id: 3 }\n        //         ]\n        //     },\n        //     {\n        //         name: 'node2', id: 4,\n        //         children: [\n        //         { name: 'child3', id: 5 }\n        //         ]\n        //     }\n        // ];\n        var data = $json_data;\n        $(function(){\n            $('#tree1').tree({\n                data: data,\n                autoOpen: true,\n                slide: false,\n                // closedIcon: '+',\n                // openedIcon: '-',\n                autoEscape: false, // consente HTML nella label\n            });\n            // $('#tree1').on( 'tree.click', function(event) {\n            //     // The clicked node is 'event.node'\n            //     var node = event.node;\n            //     console.log(node.name);\n            // } );\n        });\n        </script>\n        <style type="text/css">\n        #content ul li {\n            list-style: none;\n            list-style-type: none;\n        }\n        ul.jqtree-tree li.jqtree-selected > .jqtree-element, ul.jqtree-tree li.jqtree-selected > .jqtree-element:hover {\n            background: none;\n            background-color: #d9e1f1;\n            text-shadow: none;\n        }\n        </style>\n__END__;\n        return $html_tree;\n    }\n\n\n
table_a_cli_|// funzione: formatta un RS per terminale\nclass Term {\n    public static function table(array $a, array $option =[]) {\n        $result = '';\n        $head = '';\n        $_opt = [];\n        // delegates\n        $_opt['delegates'] = [];\n        // a_labels\n        $option = array_merge($_opt, $option);\n        extract($option);\n        if( empty($a) ) {\n            return '';\n        }\n        $_pad = function($s, $col_max_len ) {\n            if( strlen($s) <= $col_max_len ){\n                $sp = str_pad($s, $col_max_len, ' ', STR_PAD_RIGHT);\n            } else {\n                $sp = substr($s, 0, $col_max_len);\n            }\n            return sprintf('%s | ', $sp );\n        };\n        $_trim_data = function(array $a) {\n            $a2 = [];\n            for ($i = 0; $i < count($a); $i++) {\n                // intestazione\n                foreach( $a[$i] as $k => $v ) {\n                    $k = trim($k);\n                    $a2[$i][$k] = trim( $a[$i][$k] );\n                }\n            }\n            return $a2;\n        };\n        // trim data lenght\n        $a2 = $_trim_data($a);\n        //\n        // calc max lenght\n        $a_keys = array_keys($a2[0]);\n        $a_max_len = [];\n        $max_len_avl=ceil(330/count($a_keys));\n\n        foreach( $a_keys as $k ) {\n            $a_max_len[ $k ] = strlen($k);\n            for ($i = 0;$i < count($a2);$i++) {\n                $cur_val = $a2[$i][$k];\n                $cur_len = strlen($cur_val);\n                $max_len = max([ $a_max_len[ $k ], $cur_len]);\n                // non superare una soglia data dalla larghezza del terminale\n                $a_max_len[ $k ] = min( $max_len, $max_len_avl  );\n            }\n        }\n        // stampa righe\n        for ($i = 0; $i < count($a2); $i++) {\n            // intestazione\n            if ($i == 0) {\n                foreach( $a2[$i] as $k => $v ) {\n                    $col_name = isset($a_labels[$k]) ? $a_labels[$k] : $k;\n                    $col_name = $col_name;\n                    $head .= $_pad( $col_name , $a_max_len[$col_name] );\n                }\n                $head = $head."\\n";\n            }\n            $tds = '';\n            foreach ($a2[$i] as $k => $v) {\n                $tds .= $_pad( $v , $a_max_len[$k] );\n            }\n            $result .= $tds ."\\n";\n        }\n        $result = $head.$result ;\n        return $result;\n    }\n}
psalm_mixed_|/**\n * @param mixed $val\n */\n
form_file_upload_|// https://cdnjs.com/libraries/dropzone\n<link href="css/dropzone.css" type="text/css" rel="stylesheet" />\n<script src="dropzone.min.js"></script> \n<form action="upload.php" class="dropzone"></form>\n<?php\n$ds          = DIRECTORY_SEPARATOR; \n$storeFolder = 'uploads';  \nif (!empty($_FILES)) {\n     \n    $tempFile = $_FILES['file']['tmp_name']; \n      \n    $targetPath = dirname( __FILE__ ) . $ds. $storeFolder . $ds;  \n     \n    $targetFile =  $targetPath. $_FILES['file']['name'];  \n    // @see move_file_upload_\n    move_uploaded_file($tempFile, $targetFile); \n}\n
str_contains_|str_pos_\nstr_contains_any_\n
include_all_|require_all_
f_closure_|$_do_xxx = function (?int $1): ?int { return 0; };\n\n\n
domdocument_|@see xml_process_\n\n$html = '<html><body>\n    <span id="text">Hello, World!</span>\n    <span class="test_class">text by class</span>\n</body></html>';\n$doc = new DOMDocument();\n/*\nPHP will emit warnings aboutproblems with the HTML, especially if you are importing a document fragment.\nTo avoid these warnings, tell the DOM library (libxml) to handle its own errors by calling libxml_use_internal_errors() before importing your HTML.\nYou can then use libxml_get_errors() to handle errors if needed.\n*/\nlibxml_use_internal_errors(true);//ignore fomatting errors\n$doc->loadHTML($html);\n// $a_err = libxml_get_errors(); foreach($a_err as $err){ echo "$err \\n";}\n$txt = $doc->getElementById('text')->textContent;\necho $txt; // => Hello, World!\n\n\n\n\n// error handling:\n$previousErrorReporting = libxml_use_internal_errors(true);\nlibxml_clear_errors();\n$result = $doc->loadXML('<invalid>');\n$errors = libxml_get_errors();\nlibxml_clear_errors();\nlibxml_use_internal_errors($previousErrorReporting);\nif (!$result) {\n    // Do something with the errors and break execution\n}\n\n\n\n// Using XPath\n$doc = new DOMDocument();\n$doc->loadHTML($html);\n$xpath = new DOMXPath($doc);\n$span = $xpath->query("//span[@class='test_class']")->item(0);\n$txt = $span->textContent;\necho $txt;
round_|round($f, 2);
is_working_h_|$is_working_h = function () {\n        $h = intval(date('H'));\n        $is_domenica = date('D') == 'Sun'; // Una rappresentazione testuale di un giorno, tre lettere    Mon a Sun\n        $is_working_h = $h >= 7 && $h <= 24 && !$is_domenica;\n        return $is_working_h;\n    };
image_resize_|// resize di una immagine con diversi metodi\nclass ImgTool {\n    // image magic cmd line\n    public static function im_resize($in_path, $out_path, $w = 200, $h = null) {\n        //be careful fo filter the input\n        // @see http://imagine.readthedocs.io\n        if (!file_exists($in_path)) {\n            return null;\n        }\n        if (file_exists($out_path)) {\n            return $out_path;\n        }\n        // h in proporzione\n        if (empty($h)) {\n            list($img_width, $img_height) = getimagesize($in_path);\n            $r = $img_width / $img_height; //1300 / 900;\n            $h = $w / $r;\n            $h = floor($h);\n        }\n        // convert $in_path -resize 200x100 myfigure.jpg\n        $cmd = "convert $in_path -resize {$w}x{$h} $out_path";\n        $res = `$cmd`;\n        return $out_path; // @see image_imagine_\n    }\n    //----------------------------------------------------------------------------\n    //  GD resize\n    //----------------------------------------------------------------------------\n    public static function gd_resize($path_in, $path_out, $w, &$new_h) {\n        if (!file_exists($path_in)) {\n            return null;\n        }\n        if (file_exists($path_out)) {\n            return $path_out;\n        }\n        $im_php = imagecreatefromjpeg($path_in);\n        $im_php = imagescale($im_php, $w, $new_h = -1, $mode = IMG_BILINEAR_FIXED);\n        $new_h = imagesy($im_php);\n        imagejpeg($im_php, $path_out, 100);\n        return $path_out; // return H of scaled img\n    }\n    // resize specificando $w e $h\n    // img_resize2($path_in = "input.jpg", $path_out="output.jpg", function($w, $h){\n    //     return [ $new_w = $w/5,  $new_h = $h/5  ];\n    // } );\n    public static function gd_resize2($path_in, $path_out, $_calc_new_dim) {\n        if (!file_exists($path_in)) {\n            return null;\n        }\n        if (file_exists($path_out)) {\n            return $path_out;\n        }\n        $source = imagecreatefromjpeg($path_in);\n        list($w, $h) = getimagesize($path_in);\n        list($new_w, $new_h) = $_calc_new_dim($w, $h);\n        $destination = imagecreatetruecolor($new_w, $new_h);\n        imagecopyresampled($destination, $source, 0, 0, 0, 0, $new_w, $new_h, $w, $h);\n        imagejpeg($destination, $path_out, 100);\n    }\n}\n    $in_path = '';//be careful fo filter the input\n    $w=71; $h=100;\n    $out_path = str_replace($sub='.jpg', $re="{$w}x{$h}.jpg", $output_p1);\n    $output_p2 = img::resize($output_p1, $out_path, $w , $h );
obj_dump_|var_obj_
if_|if( $1\| ){\n\n}
apc_store_|cache_
or_|/**\n * @param mixed $a\n * @param mixed $b\n * @return mixed\n */\nfunction or_($a, $b) {\n    if (!empty($a)) {\n        return $a;\n    } else {\n        if (is_callable($b)) {\n            $b = $b();\n        }\n        return $b;\n    }\n}
array_prepend_|array_unshift_
PDO_|<?php\n\n// minimal\n$pdo = new PDO('mysql:host=$host;dbname=$dbname', $user='', $pass='', [\n    PDO::ATTR_PERSISTENT => true\n]);\n$pdo->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);\n$statement = $pdo->query( 'SELECT id, message FROM Fortune' );\n$a_result = $statement->fetchAll(PDO::FETCH_KEY_PAIR); // or PDO::FETCH_ASSOC\n// or\n$res = $pdo->prepare('SELECT randomNumber FROM World WHERE id = ?', [PDO::ATTR_CURSOR => PDO::CURSOR_FWDONLY]);\n$res->execute( [$id] );\n// or\n$sql = 'SELECT name, colour, calories    FROM fruit    WHERE calories < :calories AND colour = :colour';\n$sth = $pdo->prepare($sql, [PDO::ATTR_CURSOR => PDO::CURSOR_FWDONLY] );\n$sth->execute( [':calories' => 150, ':colour' => 'red'] );\n// or \n$users = $pdo->query('SELECT name FROM users')->fetchAll(PDO::FETCH_CLASS, 'User');\n--------------------------------\n\n  \n      \n      \n   \n \n----------------------------------------------------------------------------------------\n/* get the configuration from somewhere\nfunction get_db_conf(){\n$settings = [\n'host' => '127.0.0.1',\n'port' => '3306',\n'name' => 'books',\n'username' => 'root',\n'password' => 'apassword',\n'charset' => 'utf8'\n];\n// $settings = include(__DIR__.'/settings.php');\nreturn $settings;\n}\n// get configuration\n$registry = Zend_Registry::getInstance();\n$C = $registry->config->dbauto;\n// get configuration\n$settings = get_db_conf();\n$settings = new Configuration();\n */\n//\n// connessione al DB\n// DB::open( $settings = IR_ENV::config() )  // get configuration\nclass DB {\n    protected static $DBH = null;\n    public static function open(Config $settings = null) {\n        if ($settings == null) {\n            $settings = Env::config();\n        }\n        try {\n            if (self::$DBH == null) {\n                // 'port=%s;',\n                self::$DBH = new PDO(\n                    $dsn=sprintf('mysql:host=%s;dbname=%s;charset=%s',\n                        $settings->host,\n                        $settings->dbname,\n                        $settings->charset),\n                    $settings->username,\n                    $settings->password,\n                    [\n                      // PDO::MYSQL_ATTR_INIT_COMMAND => 'SET NAMES \\'UTF8\\'',\n                    ]\n                );\n                //------- sqlite\n                // self::$DBH = new PDO('sqlite:/path/db/users.db');\n                self::$DBH->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);\n\n\n\n            }\n        } catch (PDOException $e) {\n            echo "DB2 PDO error '" . $e->getMessage() . "'";\n        }\n    }\n    /*\n    // /var/www/xxxx_agenti_v4/application/models/Mysql/DB.php\n    static $DBH = null;\n    protected static function open() {\n    // la connessione viene aperta solo se necessario\n    // @see http://framework.zend.com/manual/1.12/en/zend.db.adapter.html\n    if (empty(self::$DBH)) {\n    self::$DBH = new Zend_Db_Adapter_Pdo_Mysql([\n    'host' => Zend_Registry::get('config')->resources->db->params->host,\n    'dbname' => Zend_Registry::get('config')->resources->db->params->dbname,\n    'username' => Zend_Registry::get('config')->resources->db->params->username,\n    'password' => Zend_Registry::get('config')->resources->db->params->password,\n    'charset'  => 'utf8'\n    ]);\n    }\n    }\n     */\n\n    //----------------------------------------------------------------------------\n    //  lower level query\n    //----------------------------------------------------------------------------\n    // gestice query di più tipi\n    public static function query($sql, array $params = []) {\n        $is_select = self::isSelect($sql);\n        if ($is_select) {\n            return self::qry($sql, $params);\n        } else {\n            return self::exec($sql, $params);\n        }\n    }\n    // permette di lanciare una query diretta sul db, ritorna array records\n    //   SQL: WHERE calories < :calories AND colour = :colour\n    //   $params = [':calories' => $calories, ':colour' => $colour ]\n    public static function qry_1($sql, array $params = []) {\n        if (!self::isSelect($sql)) {\n            $msg = sprintf('Errore %s ', 'query() è da usare per select');\n            throw new SqlException($msg);\n        }\n        $data = [];\n        self::open();\n        if (self::$DBH) {\n            $stmt = self::$DBH->prepare($sql);\n            $res = $stmt->execute($params);\n            //$sql = 'SELECT id FROM users WHERE email = :email or id=:id';\n            //$statement = $pdo->prepare($sql);\n            //$statement->bindValue(':email', $email);\n            //$stmt->bindParam(':id', $id, PDO::PARAM_INT); // <-- Automatically sanitized for SQL by PDO\n            if ($res) {\n                while ($oRow = $stmt->fetch(PDO::FETCH_ASSOC)) {\n                    $data[] = $oRow;\n                }\n            }\n            $stmt->closeCursor();\n        } else {\n            die(__FUNCTION__ . ' errore connessione mysql');\n        }\n        return $data;\n    }\n/* prepare+param binding:\n$sql ="SELECT * FROM user WHERE id = :id";\nif (!($st = $pdo->prepare($sql))) {\n        die( "Can't prepare the statement :(" );\n}\n$st->execute([ ':id' => $id ] );\nwhile ($row = $st->fetch(PDO::FETCH_ASSOC)) {\n}\n*/\n\n\n    // da usare con sql SELECT\n    // $rs = Mysql_DB::qryc($sql, [':category_id' => $category_id]);\n    public static function qry_2($sql, array $a_params = []) {\n        self::open();\n        self::$DBH->setFetchMode(Zend_Db::FETCH_ASSOC);\n        $time_start = microtime(true);\n        try {\n            $result_set = self::$DBH->fetchAll($sql, $a_params);\n        } catch (\\Exception $e) { // Throwable $e in php7\n            $msg = sprintf('%s > %s > %s', $e->getMessage(), $sql, json_encode($a_params));\n            throw new \\Exception($msg);\n        }\n        $time_result = round(microtime(true) - $time_start, 4);\n        // query logging per debug\n        if (bootstrap::isEnvDev()) {\n            $path_log = realpath(dirname(__FILE__) . '/../../../var/logs');\n            if (false === $path_log) {\n                die('dir log mysql non essite ' . $path_log);\n            }\n            $path = sprintf('%s/mysql_%s.log', $path_log, date('Y-m'));\n            file_put_contents($path, date('Y-m-d H:i:s >> ') . $sql . ' t:' . $time_result . "\\n", FILE_APPEND);\n        }\n        return $result_set;\n    }\n\n    // da usare con sql non SELECT\n    public static function exec_1($sql, $params = []) {\n        self::open();\n        // query logging per debug\n        if (bootstrap::isEnvDev()) {\n            $path_log = realpath(dirname(__FILE__) . '/../../../var/logs');\n            if (false === $path_log) {\n                die('dir log mysql non essite ' . $path_log);\n            }\n            $path = sprintf('%s/mysql_%s.log', $path_log, date('Y-m'));\n            file_put_contents($path, date('Y-m-d H:i:s>>') . $sql . ' ' . json_encode($params) . "\\n", FILE_APPEND);\n        }\n        if (empty($params)) {\n            return self::$DBH->exec($sql);\n        } else {\n            // fa binding parametri se prefissati con ":"\n            // ritorna  \\Zend_Db_Statement_Pdo\n            return self::$DBH->query($sql, $params);\n        }\n    }\n    //\n    // esegue stmt diversi da select, es insert update delete\n    //\n    public static function exec_2($sql, array $params = []) {\n        if (self::isSelect($sql)) {\n            $msg = sprintf('Errore %s ', 'exec() sql è un statement select, usare per insert');\n            throw new SqlException($msg);\n        }\n        // assicura che ci sia la connessione aperta\n        self::ensureConnection();\n        if (empty($params)) {\n            $ret = self::$conn->exec($sql);\n            return $ret;\n        } else {\n            // 'SELECT bar FROM foo WHERE id=:id'\n            $stmt = self::$conn->prepare($sql);\n            foreach ($params as $key => $val) {\n                // $key like ':id'\n                $stmt->bindValue($key, $val, self::getArgType($val));\n            }\n            $ret1 = $stmt->execute();\n            $ret2 = self::$conn->lastInsertRowID();\n            return [$ret1, $ret2];\n        }\n        if (!$ret) {\n            $msg = sprintf('Errore %s %s', self::$conn->lastErrorMsg(), $sql);\n            throw new \\Exception($msg);\n        }\n    }\n    //----------------------------------------------------------------------------\n    //  utils\n    //----------------------------------------------------------------------------\n    // determina se una string è un select stmt\n    public static function isSelect($sql) {\n        $_begin_with = function ($str, $substr) {\n            $str = trim(mb_strtolower($str));\n            $substr = trim(mb_strtolower($substr));\n            return mb_substr($str, 0, $l = mb_strlen($substr)) == $substr;\n        };\n        return $is_select = $_begin_with(trim($sql), 'SELECT');\n        // return 'select' == $sql_begin = strtolower(substr($sql = trim($sql), 0, $l = strlen('select')));\n    }\n    // ultmo autoincrement generato\n    public static function getLastInsertedID() {\n        return self::$DBH->lastInsertId();\n    }\n    // quote a value\n    public static function quote($val) {\n        return self::$DBH->quote($val);\n    }\n    //----------------------------------------------------------------------------\n    //  higher level query\n    //----------------------------------------------------------------------------\n    public static function qry_one($sql, array $a_params = []) {\n        $all = self::qry($sql, $a_params);\n        return empty($all) ? [] : $all[0];\n    }\n    public static function qryc_one($sql, array $a_params = []) {\n        $all = self::qryc($sql, $a_params);\n        return empty($all) ? [] : $all[0];\n    }\n    // perform select qry with cache\n    public static function qryc($sql, array $a_params = []) {\n        $cacheEngine = Zend_Registry::get('cache');\n        $c_key = 'QRYC_' . md5($sql . json_encode($a_params));\n        if ((($c_result = $cacheEngine->load($c_key)) === false)) {\n            $c_result = self::qry($sql, $a_params);\n            $cacheEngine->save($c_result, $c_key);\n            return $c_result;\n        } else {\n            return $c_result;\n        }\n    }\n    public static function qry_records($sql) {\n        return self::queryc($sql);\n    }\n    //! return array associativo della prima riga trovata\n    //! da usare con le qry che non restituiscono n righe ma soltanto una\n    public static function qry_record($sql, array $params = []) {\n        $a = self::query($sql, $params);\n        if (isset($a[0])) {\n            return $a[0];\n        }\n        return array();\n    }\n    public static function qry_retrieve($sql, $class) {\n        die('unimplemented ' . __METHOD__);\n    }\n    // cached query\n    public static function queryc($sql, array $params = [], $ttl_secs = TTL_8H) {\n        $a_call = debug_backtrace(DEBUG_BACKTRACE_IGNORE_ARGS)[1];\n        $method = $str = sprintf('%s::%s', $a_call['class'], $a_call['function']);\n        $_clean = function ($s) {return str_replace('__', '_', preg_replace('/[^a-z0-9]/i', '_', $s));};\n        $key = sprintf('%s_%s_%s_%s', 'CA_IR', $_clean($method), md5($sql), md5(json_encode($params)));\n        //\n        $debug = IR_ENV::is_DEV();\n        if (!$debug) {\n            return self::cache($key, function () use ($sql, $params) {\n                return self::query($sql, $params);\n            }, $ttl_secs);\n        } else {\n            // echo "<pre>$sql</pre>";\n            return self::query($sql, $params);\n        }\n    }\n\n    // mette in cache una query\n    public static function cache($cache_key, \\Closure $generator, $ttl_secs = TTL_8H) {\n        // APC does serialization/deserialization during store/fetch operations\n        $val = apc_fetch($cache_key);\n        if (false === $val) {\n            $val = $generator();\n            // echo "!from cache $cache_key \\n";\n            apc_store($cache_key, $val, $ttl_secs); //secs, 0=forever\n        } else {\n            // from cache\n            //echo "from cache $cache_key \\n";\n        }\n        return $val;\n    }\n    //------------------------------------------------------------------------------\n    // higher level insert+update\n    //------------------------------------------------------------------------------\n    // $field_data deve contenere solo field presenti nella tabella, togliere tutto il resto prima di usare questo automatismo\n    // ritorna il record inserito\n    public static function insert($table, $pk_field, $field_data) {\n        $sql = SQL::insert($table, $field_data);\n        if (DB::exec($sql)) {\n            $field_data[$pk_field] = mysqli_insert_id(self::$link);\n            return $field_data;\n        } else {\n            return false;\n        }\n    }\n    // aggiorna una tabella di db\n    public static function update($table, $data, $sql_where) {\n        // get key=>val pairs && implode\n        $_sql_set_fields = function ($a_fields_f) {\n            $a_fields_pair = array_map(function ($k, $v) {\n                return "$k = '$v'";\n            }, array_keys($a_fields_f), array_values($a_fields_f));\n            $sql_fields = implode($sep = ',' . PHP_EOL, $a_fields_pair);\n            return $sql_fields;\n        };\n        $sql_fields = $_sql_set_fields($data);\n        $sql = "update $table set\n        $sql_fields\n        where (1=1)\n        $sql_where\n        ";\n        return self::exec($sql);\n    }\n    //----------------------------------------------------------------------------\n    //  mysql SQL\n    //----------------------------------------------------------------------------\n    // sql limit\n    public static function sql_page_limit($page, $offset = 20) {\n        if ($page == '*') {\n            return '';\n        }\n        $page = !empty($page) ? $page : 1;\n        $page = preg_replace($regex = '/[^0-9]/i', '', $page);\n        $start = ($page - 1) * $offset;\n        return sprintf(" LIMIT %s,%s", $start, $offset);\n    }\n    //----------------------------------------------------------------------------\n    // bulk insert support\n    //----------------------------------------------------------------------------\n    //\n    public static function exists($table) {\n        // Try a select statement against the table\n        // Run it in try/catch in case PDO is in ERRMODE_EXCEPTION.\n        try {\n            $c = self::qryc_one($sql = "select 1 from $table LIMIT 1");\n            return true;\n        } catch (Exception $e) {\n            // We got an exception == table not found\n            return false;\n        }\n        // Result is either boolean FALSE (no table found) or PDOStatement Object (table found)\n        return $result !== false;\n    }\n    //\n    public static function truncate($table) {\n        try {\n            $c = self::exists($table);\n            if ($c) {\n                $sql = "TRUNCATE TABLE $table ";\n                return self::exec($sql);\n            }\n        } catch (\\Exception $e) {\n        }\n    }\n    // crea un stmt insert bulk and exec it\n    public static function bulk_insert($table, array $data) {\n        if (count($data) == 0) {\n            return;\n        }\n        $first_k = array_keys($data)[0];\n        $first_rec = $data[$first_k];\n        $labels = implode(', ', array_keys($first_rec));\n        // build sql\n        $sql = "INSERT INTO $table ($labels) VALUES ";\n        $i = 0;\n        foreach ($data as $_k => $a_row) {\n            $i++;\n            $a_row = array_values($a_row);\n            $a_row = array_map('addslashes', $a_row);\n            $a_row = array_map(function ($v) {return "'$v'";}, $a_row);\n            $sql_val = implode(', ', $a_row);\n            $is_last = $i == count($data);\n            $sql .= sprintf("(%s)%s", $sql_val, (!$is_last ? ', ' : ''));\n        }\n        // file_put_contents("/tmp/$table.sql", $sql);\n        return self::exec($sql);\n    }\n    /*\n// ALWAYS SET THE CORRECT TYPE OF VARS:\n// For example:\n// $st = $db->prepare('SELECT * FROM test WHERE (a+1) = ?');\n// $st->bindValue(1, 2);\n// Will never return any result as it is treated by SQLite as if the query was\n// 'SELECT * FROM test WHERE (a+1) = "2"'.\n//\n// Instead you have to set the type manually:\n// $st = $db->prepare('SELECT * FROM test WHERE (a+1) = ?');\n// $st->bindValue(1, 2, \\SQLITE3_INTEGER);\n// will work.\n//\n// SQLITE3_INTEGER: The value is a signed integer, stored in 1, 2, 3, 4, 6, or 8 bytes depending on the magnitude of the value.\n// SQLITE3_FLOAT: The value is a floating point value, stored as an 8-byte IEEE floating point number.\n// SQLITE3_TEXT: The value is a text string, stored using the database encoding (UTF-8, UTF-16BE or UTF-16-LE).\n// SQLITE3_BLOB: The value is a blob of data, stored exactly as it was input.\n// SQLITE3_NULL: The value is a NULL value.\npublic static function getArgType($arg) {\nswitch (gettype($arg)) {\ncase 'double': return SQLITE3_FLOAT;\ncase 'integer': return SQLITE3_INTEGER;\ncase 'boolean': return SQLITE3_INTEGER;\ncase 'NULL': return SQLITE3_NULL;\ncase 'string': return SQLITE3_TEXT;\ndefault:\nthrow new \\InvalidArgumentException('Argument is of invalid type '.gettype($arg));\n}\n}\n */\n}\n
empty_| empty($1)
array_map_keys_|$h_data2 = array_map_keys($h_data,\n        $f_k_mapper = function ($k, $v) {return $k;},\n        $f_v_mapper = function ($v, $k) {return $v;} );\n/*\n// map both keys and values\n/**\n * @psalm-suppress MissingClosureReturnType\n * @psalm-suppress MissingClosureParamType\n * @psalm-suppress MixedAssignment\n */\nfunction array_map_keys(array $a1, \\Closure $f_k_mapper = null, \\Closure $f_v_mapper = null): array{\n    $f_k_mapper = $f_k_mapper ?? function (string $k, $v): string {return $k;};\n    $f_v_mapper = $f_v_mapper ?? function ($v, string $k) {return $v;};\n    $a2 = [];\n    foreach ($a1 as $k => $v) {\n        $k2 = (string) $f_k_mapper((string) $k, $v);\n        $a2[$k2] = $f_v_mapper($v, (string) $k);\n    }\n    return $a2;\n}\n*/\n\n
jq_select_disable_|$('#id').attr('disabled', 'disabled');\n$('#id').removeAttr('disabled');
microtime_|$time_from_begin = round(microtime(true) - $_SERVER['REQUEST_TIME_FLOAT'], 4);\n$time_start = microtime(true);\nregister_shutdown_function(function (){\n            println(sprintf('total time:%F ms ', round(microtime(true) - $_SERVER['REQUEST_TIME_FLOAT'], 4)));\n});\n// long operation here\nvar_dump( microtime(true) - $time_start );\nfunction format_time($me){\n    return\n    sprintf('%.3f s',max(0,microtime(true)-$me));\n}\nprofile_
cli_server_name_|function get_server_name() {\n    static $server_name = null;\n    if(null === $server_name){\n        $server_name = `uname -n`;\n        echo "defining get_server_name() \\n\\n\\n";\n    }\n    $server_name = str_replace("\\n", "", $server_name);\n    $server_name = str_replace(".", "_", $server_name);\n    return trim($server_name);\n}
call_user_func_|call_user_func($_f, $arg1)
is_file_|is_file( $path )
clojure_|closure_
dl_|function dl_all(){\n    // works only in CLI, if enabled, on Linux like\n    $enable_dl = ini_get('enable_dl');\n    if( !empty($enable_dl) ) {\n        $dir = ini_get("extension_dir");\n        foreach (glob($dir . '/*.so') as $file_path) {\n            echo $file_path . "\\n";\n            $m = str_replace('.so', '', basename($file_path));\n            if (extension_loaded($m)) {\n                echo "ext loaded $file_path " . "\\n";\n            } else {\n                if (!dl($file_path)) {\n                    die("unable to load $file_path \\n");\n                }\n            }\n        }\n    }\n}
twb3_tabs_|<ul class="nav nav-tabs" id="tab_details_{$a_rec['id']}" role="tablist">\n                <li role="presentation" class="active">\n                    <a href="#a_{$a_rec['id']}" id="tab-a_{$a_rec['id']}" role="tab" data-toggle="tab"  >\n                        {$content['0']['title']}\n                    </a>\n                </li>\n                <li role="presentation">\n                    <a href="#b_{$a_rec['id']}" id="tab-b_{$a_rec['id']}" role="tab"  data-toggle="tab"  >\n                        {$content['1']['title']}\n                    </a>\n                </li>\n\n            </ul>\n            <div class="tab-content" id="tab_deatils_content_{$a_rec['id']}">\n                <div class="tab-pane fade in active" role="tabpanel" id="a_{$a_rec['id']}"  >\n                    {$content['0']['content']}\n                </div>\n                <div class="tab-pane fade" role="tabpanel" id="b_{$a_rec['id']}"  >\n                    {$content['1']['content']}\n                </div>\n            </div>
defines_|// includono sia quelle create dalle estensioni sia quelle create con la funzione define()\necho '<pre>',print_r(get_defined_constants());\ndie();\n\n\n// check che tutti i path esistano\n$a_paths = get_defined_constants(true)['user'];\n$a_paths = array_filter($a_paths, function ($v){\n    $is_path = mb_strpos($v, '_PATH' ) !== false;\n    // false will be skipped\n    return $is_path;\n},  ARRAY_FILTER_USE_KEY  );\n//\nforeach( $a_paths as $name => $path) {\n    if (false === $path ) {\n        $msg = sprintf('Errore Dir Path not readable %s ', $name );\n        throw new \\Exception($msg);\n    }\n}
conf_|# /etc/configuration.php\n// dati di configurazione\nreturn [\n    'TEST' => [\n    ],\n    'PROD' => [\n    ],\n];\n\n# Conf.php\nclass Conf {\n        public static $a_config = [];\n        // carica la configurazione del servizio\n        public static function load() {\n            $conf_name = ENV::getConf();\n            $settings = include __DIR__.'/../configuration.php';\n            self::$a_config = array_merge( $settings['default'], $settings[$conf_name] );\n        }\n\n        // cerca un valore nella configurazione\n        public static function get($k) {\n            if( !isset(self::$a_config[$k]) ) {\n                $msg = sprintf('Errore %s %s not found ',  __METHOD__, $k );\n                throw new \\Exception($msg);\n            }\n            return self::$a_config[$k];\n        }\n\n        // recuperac configurazione connessione db\n        public static function getDBConf():array {\n            $conf = [\n                $username = self::get('USER'),\n                $password = self::get('PASSWORD'),\n                self::get('ODBC')\n            ];\n            return $conf;\n        }\n\n        public static function getEmailConf():array {\n            return [];\n        }\n    }\n# alternative implementation \n// get the configuration for this env or defaults\nfunction config_get($key, $def = null, $env = null) {\n    $env = !empty($env) ? $env : ENV; // we depends from ENV\n    static $h_conf = null; // mem cache\n    if ($h_conf === null) {\n        $h_conf = [\n            'ALL' => [\n                'backup_path' => '/tmp/mysql_backup',\n                'zip_file_path' => sprintf(\n                    "%s/mysql_backup_%s.tar.gz",\n                    $backup_path = $h_conf['ALL']['backup_path'],\n                    get_server_name()\n                ),\n            ],\n            'DEV' => [\n\n            ],\n            'PROD' => [\n                'ftp_username' => '',\n                'ftp_password' => '',\n                'ftp_host' => '',\n                'ftp_remote_dir' => '',\n            ],\n        ];\n    }\n    $env_conf = h_get($h_conf, $env, []);\n    // get from ENV or from ALL\n    return h_get($env_conf, $key,\n        $def_all = h_get($h_conf['ALL'], $key, null)\n    );\n}\n//\n// get the configuration for this env\nfunction config_get($key, $env = ENV) {\n    static $h_conf = [];\n    if (empty($h_conf)) {\n        $h_conf = require_once __DIR__ . '/../config/config.php';\n    }\n    $env_conf = h_get($h_conf, $env, []);\n    $def = h_get(h_get($h_conf, 'ALL', []), $key, null);// prende default per la key\n    $v = h_get($env_conf, $key, $def);\n    return $v; \n}\n\n\n\n
chr_|// all ASCII: for ($i=0;$i<255;$i++) echo sprintf( '%s => %s'.PHP_EOL, $i, chr($i) );\n// @see ord_\n$s = chr($i);\n// notable const\n$c = chr(ord('0') + $r );//numeric\n$c = chr(ord('a') + $r );//alpha\n$c = chr(ord('A') + $r );//upper alpha\n
scp_download_|\n    // preleva un file da un server remoto con scp\n    function scp_download(\n        $server_password,\n        $server_username,\n        $server_host,\n        $server_path,\n        $local_download_dir\n    ) {\n        // download\n        // -o  StrictHostKeyChecking=no => nn chiedere conferma del cambio chiave dell'host target\n        $cmd = "sshpass -p $server_password  scp -o StrictHostKeyChecking=no $server_username@$server_host:$server_path $local_download_dir";\n        $res = ex($cmd, $server_password);\n        if( $res == "Host key verification failed." ){\n            // scp chiede\n            // ECDSA key fingerprint is xxxxx\n            // Are you sure you want to continue connecting (yes/no)?\n            $msg = sprintf("Errore: '%s' user: %s ",\n                $res,\n                `whoami`\n            );\n            throw new \\Exception($msg);\n        }\n        return $res;\n    }
class_has_method_|method_exists_
str_toupper_|strtoupper($str)
str_compare_|str_eq_
settimelimit_|set_time_limit_\n
_find_|// Return the value of the first item in the collection that passes the truth test (iterator)\n$v = __::find( [1, 2, 3, 4], function($num) { return $num % 2 === 0; }); \n// => 2
str_extension_|file_ext_
type_int_|/** @param int $iiii */
method_exists_|method_exists($obj, 'method')
lock_|file_lock_
filter_email_|$_safe_email = function($email){\n  return filter_var($email, FILTER_ SANITIZE? _EMAIL) ;\n};\n$email = $_safe_email($email);\n$_is_email = function($email){ return filter_var($email, FILTER_VALIDATE_EMAIL) !== false; };\n
is_a_|is_a($object, 'parentClass')
ifh_|if( array_key_exists($k, $a) ){}
zf_route_regex_|$router->addRoute('fornitori_genlabel', new Zend_Controller_Router_Route_Regex(\n        'fornitori/genlabel/Etichette_federe_(\\d+)_(\\d+)\\.pdf',\n        [\n            'controller' => 'Fornitori',\n            'action' => 'genlabel'\n        ],\n        $mappings=[\n            1 => 'ord_num'  ,\n            2 => 'ord_date' ,\n        ],\n        'fornitori/genlabel/Etichette_federe_%d_%d.pdf'\n));
html_list_|list_a_
object_to_array_|// Coverting object to an associative array \n$h_bag = (array) $o_bag; 
f__|/** */\n$do_xxx = function(){ return null; };\n\nf_arrow_#$1#\nf_closure_#$1#\n\n
csv_decode_|\n\n// prende un file o un buffer e lo parsa in un array di valori\nfunction csv_decode(string $csv_file): array{\n    if (empty($csv_file)) {\n        die('empty source'); // t_\n    } elseif (is_file($csv_file)) {\n        $csv_file = file($csv_file, FILE_IGNORE_NEW_LINES | FILE_SKIP_EMPTY_LINES);\n    } elseif (is_string($csv_file)) {\n        $csv_file = explode("\\n", $cvs_file);\n    } elseif (is_array($csv_file)) {\n        // array linee parsabili\n    }\n    // gestire header line\n    $cvs_data = [];\n    foreach ($csv_file as $line) {\n        $cvs_data[] = str_getcsv($line);\n    }\n    return $cvs_data;\n}\n// se la prima riga contine le chiavi dei campi, trasforma l'array<array<string> >\n// in un array<hash>  usando i campi della prima riga come chiavi\nfunction array_head_to_h($data) {\n    $a_first_row = array_shift($data); //first arg\n    $data2 = [];\n    foreach ($data as $i => $a_row) {\n        $h_raw = [];\n        foreach ($a_first_row as $i => $k) {\n            $h_raw[$k] = $a_row[$i];\n        }\n        $data2[] = $h_raw;\n    }\n    return $data2;\n}\n\n\n
session_set_save_handler_|// NOTA: apc non è molto testato per questo scopo potrebbe dare problemi(manca lock?)\n// è consigliato usare memcache/redis per questo scopo\nclass APCSessionHandler implements SessionHandlerInterface {\n    static function init() {\n        if (ini_get('apc.enabled')) {\n            $handler = new APCSessionHandler();\n            session_set_save_handler(\n                [$handler, 'open'], [$handler, 'close'], [$handler, 'read'], [$handler, 'write'], [$handler, 'destroy'], [$handler, 'gc']\n            );\n        }\n    }\n    function read($id) {\n        // echo "session read $id";\n        return (string) apc_fetch("sess_$id");\n    }\n    function write($id, $data) {\n        return apc_store("sess_$id", $data, ini_get("session.gc_maxlifetime"));\n    }\n    function destroy($id) {\n        return apc_delete("sess_$id");\n    }\n    // non c'è bisogno perché vien inpostato il ttl delle chiavi\n    function gc($maxlifetime) {\n        return true;\n    }\n    function open($savePath, $sessionName) {\n        return true;\n    }\n    function close() {\n        return true;\n    }\n}\n// uso:\n// APCSessionHandler::init();
_zip_|$a_recs=__::zip(\n  $a_names=['moe', 'larry', 'curly'], \n  $a_ages=[30, 40, 50], \n  $a_flags=[true, false, false]\n);\n// array(\n//   array('moe', 30, true),\n//   array('larry', 40, false),\n//   array('curly', 50, false)\n// )
php_cli_server_|#!/usr/bin/env php\n<?php\n$dir = dirname(__FILE__).'/../www';\n\n$port = getFirstOpenPort( $port=8080, $c=10 );\nif( !empty($port) ) {\n    echo "serving http://localhost:$port \\n";\n    `google-chrome http://localhost:$port`;\n    `php -S localhost:$port -t $dir`;// il comando blocca l'esecuzione successiva\n} else {\n    echo 'no port found! '.PHP_EOL;\n}\n// scan a port range and return the first open\nfunction getFirstOpenPort($port=8080, $c=10 ) {\n    $_port=0;\n    for( $i=0; $i < $c; $i++) {\n        $_port = $port + $i;\n        $is_open = portIsOpen($_port);\n        if( $is_open ) {\n            echo $str = sprintf('port:%s open:%d '.PHP_EOL, $_port, $is_open );\n            return $_port;\n        }\n    }\n    return 8080;\n}\n// verifica se una porta locale è aperta o chiusa\nfunction portIsOpen($port) {\n    // '127.0.0.1'\n    $fp = @fsockopen('localhost', $port, $errno, $errstr, $timeout=5);\n    if (!$fp) {\n        // If you're getting a connection refused then the (TCP) port is firewalled.\n        echo $str = sprintf('port:%s ern:%d err:%s'.PHP_EOL, $port, $errno, $errstr);\n        // port is closed or blocked\n        return true;\n    } else {\n        echo("opened $port \\n");\n        // port is open and available\n        fclose($fp);\n        return false;\n    }\n}
unset_|unset( $a_[0] );//if isset, delete\n$a_=array_values($a_ );//rewrite indexes
md5_file_|file_is_eq_
type_hash_|/** @var array<array-key, mixed> $rec */\n
move_uploaded_file_|/*\nDefending against file upload attacks:\nthey will try to upload a php executable file with .php .phtml executable extension or containing <? tag\n\n- use a whitelist of allowed file types that can be uploaded, rejects all files that do not match it\n- use client- and server-side input validation to ensure the whitelist, test for appending a second file type to the file name (e.g. image.jpg.php) or using trailing space or dots in the file name.\n- discard the original  file name,  supplied by the user. Instead, the uploaded file should be renamed according to a predetermined convention.\n- set maximum size for the file itself\n\n- The directory to which files are uploaded should be outside of the website root, or at least protected by htaccess\n\n- To make sure the file uploaded to your site is in fact an image, re-process it using GD thubnail,  \n- warning: require 'filename.jpg'; executes php inside the image\n- better if uploaded files should be scanned by antivirus software before they are opened\n*/\n\n\n\n\n//----------------------------------------------------------------------------\n//  app specific utils\n//----------------------------------------------------------------------------\n// gestione messaggi flash\nfunction error_report($msg) {\n    die($msg);\n}\nfunction success_report($msg) {\n    echo $msg;\n}\n// test the file is not a php executable file\nfunction file_contains_executable_code($path){\n\t$content = file_get_content($path);\n\t$is_present = str_contains( $content, '<?php' );\n\treturn $is_present;\n}\n// if we accept only image, this ensure\nfunction file_is_image($path) {\n\t/*\n\tNote: getimage size doesn't attempt to validate image file formats\n\tIt is possible for malformed GIF images to contain PHP and still have valid dimensions.\n\tProgrammers need to ensure such images are validated by other tools, or never treated as PHP or other executable types (enforcing appropriate extensions, avoiding user controlled renaming, restricting uploaded images to areas of the website where PHP is not enabled).\n\t*/\n\t// Get new sizes\n\tlist($width, $height) = getimagesize($path);\n\t$newwidth = $width * 1;\n\t$newheight = $height * 1;\n\t// Load\n\t$thumb = imagecreatetruecolor($newwidth, $newheight);\n\t$source = imagecreatefromjpeg($filename=$path);\n\t// Resize\n\timagecopyresized($thumb , $source, 0, 0, 0, 0, $newwidth, $newheight, $width, $height);\n\t// ensure path is an image\n\timagejpeg($thumb, $path);\n\t//\n        $a = getimagesize($path);\n        $image_type = $a[2];\n        if(in_array($image_type , [IMAGETYPE_GIF , IMAGETYPE_JPEG ,IMAGETYPE_PNG , IMAGETYPE_BMP] )) {\n            return true;\n        }\n        return false;\n}\n//----------------------------------------------------------------------------\n//  upload utils\n//----------------------------------------------------------------------------\ndefine('SIZE_MB', (1024 * 1024), false);\n// funzione: utilities per file uploads\nfinal class Upload {\n    public static function get_ini_max() {\n        //This function transforms the php.ini notation for numbers (like '2M') to an integer (2*1024*1024 in this case)\n        $_str2Bytes = function ($sSize) {\n            if (is_numeric($sSize)) {\n                return $sSize;\n            }\n            $sSuffix = substr($sSize, -1);\n            $iValue = substr($sSize, 0, -1);\n            switch (strtoupper($sSuffix)) {\n            //case 'P':\n            //    $iValue *= 1024;\n            //case 'T':\n            //    $iValue *= 1024;\n            //case 'G':\n            //    $iValue *= 1024;\n            case 'M':\n                $iValue *= (1024 * 1024);\n                break;\n            case 'K':\n                $iValue *= 1024;\n                break;\n            }\n            return $iValue;\n        };\n        if( ini_get('file_uploads') != 1 ){\n            $msg = sprintf('Errore %s ', 'file upload non permesso sul server' );\n            throw new \\Exception($msg); // exceptions_\n        }\n        return min(\n            $_str2Bytes(ini_get('post_max_size')),\n            $_str2Bytes(ini_get('upload_max_filesize'))\n        );\n    }\n    // translate erro msg from PHP upload\n    public static function translate_error_msg($field_name) {\n        $e = $_FILES[$field_name]['error'];\n        $msg = '';\n        switch ($e) {\n        case UPLOAD_ERR_OK:\n            // file ok\n            break;\n        case UPLOAD_ERR_NO_FILE:\n            $msg = ('No file sent.');\n        case UPLOAD_ERR_INI_SIZE:\n            $msg = ('The uploaded file exceeds the upload_max_filesize directive in php.ini  ' . Upload::get_ini_max());\n            break;\n        case UPLOAD_ERR_FORM_SIZE:\n            $msg = 'file size > than MAX_FILE_SIZE directive that was specified for the form. ';\n            break;\n        case UPLOAD_ERR_PARTIAL:\n            $msg = 'The uploaded file was only partially uploaded.';\n            break;\n        case UPLOAD_ERR_NO_TMP_DIR:\n            $msg = 'Missing a temporary folder.';\n            break;\n        case UPLOAD_ERR_CANT_WRITE:\n            $msg = 'Failed to write file to disk.';\n            break;\n        case UPLOAD_ERR_EXTENSION:\n            $msg = 'A extension stopped the file upload.';\n            break;\n        default:\n            $msg = ('Unknown errors. ' . $e);\n        }\n        return $msg;\n    }\n    // custom/application upload file validation\n    public static function validate($field_name, array $a_valid_extensions, array $a_valid_mime, $MAXIMUM_FILESIZE) {\n        $mk_err = function ($validation_msg) {return [$valid_file = false, $validation_msg];};\n        $f_tmp = $_FILES[$field_name]['tmp_name'];\n        if (empty($f_tmp)) {\n            return $mk_err('invalid file');\n        }\n        if( file_contains_executable_code($path=$f_tmp) ){\n            return $mk_err('dangerous file');\n        }\n        //--------------------------------------------------------\n        // valid extension?\n        // NOTA: evita che si possano caricare files .php .phtml .py o altri eseguibili dal webserver, altrimenti basta conoscere la posizione della cartella accessibile da apache per eseguirlo\n        $f_name = $_FILES[$field_name]['name'];\n        $f_extension = pathinfo($f_name, PATHINFO_EXTENSION);\n        if (!in_array($f_extension, $a_valid_extensions)) {\n            return $mk_err(sprintf('invalid extension "%s", valid extensions are: %s', $f_extension, implode(',', $a_valid_extensions)));\n        }\n        //--------------------------------------------------------\n        // non usare $_FILES[$field_name]['type'],//proviene dalla estensione del file\n        // valid file type\n        $f_mime =  finfo_file(finfo_open(FILEINFO_MIME_TYPE), $f_tmp) ;\n        if (!in_array($f_mime, $a_valid_mime)) {\n            return $mk_err(sprintf('invalid file mime type %s, accepted: %s', $f_mime, implode(',', $a_valid_mime)));\n        }\n        //------ is an image?\n\t// if (!$img = @imagecreatefromgif($f_tmp)) {  t_ 'Not a GIF image!'; }\n        //--------------------------------------------------------\n        // valid size?\n        $f_size = $_FILES[$field_name]['size'];\n        if ($f_size > $MAXIMUM_FILESIZE) {\n            return $mk_err(spritnf('invalid size %s, accepted <= %s', $f_size, $MAXIMUM_FILESIZE));\n        }\n        return [$valid_file = true, $validation_msg = ''];\n    }\n    // sposta il file\n    public static function save($field_name, $dest_path) {\n        $f_tmp = $_FILES[$field_name]['tmp_name']; // The temporary filename of the file in which the uploaded file was stored on the server.\n        if (is_uploaded_file($f_tmp)) {\n            $b_res = move_uploaded_file($f_tmp, $dest_path);\n            if ($b_res) { // ok moved\n                return [true, $msg = "file moved to $dest_path"];\n            } else {\n                return [false, $msg = 'move error'];\n            }\n        } else {\n            // there was an error\n            return [false, $msg = 'upload error'];\n        }\n    }\n    // test form, utile per bypassare js validation complesso\n    // uso:     if (ENV::is_dev()) { $content .= Upload::test_form($field_name); }\n    public static function test_form() {\n        $html = '<hr style="" />\n        <form action="" method="post" enctype="multipart/form-data" id="cv-form">\n            TEST FORM\n            <input type="file" name="' . $field_name . '"  accept=".pdf, .png, .jpg">\n            <button type="submit"  name="submit" value="invia candidatura"  >\n                invia candidatura\n            </button>\n        </form>';\n        return $html;\n    }\n}\n//----------------------------------------------------------------------------\n// main file upload\n//----------------------------------------------------------------------------\n//define('DS', DIRECTORY_SEPARATOR, false);\n$field_name = 'file_cv';\nif (!empty(h_get($_POST, 'submit', false))) {\n    //\n    // check ineffective PHP confuguration:\n    //\n    $ini_max = Upload::get_ini_max();\n    if ($ini_max < (2 * SIZE_MB)) {\n        $msg = sprintf('Errore %s %s', 'ini max file size', $ini_max);\n        throw new \\Exception($msg);\n    }\n    if (!empty($_FILES)) {\n        // available data:\n        $f_name = $_FILES[$field_name]['name']; // UNVERIFIED: The original name of the file on the client machine.\n        $f_mime = $_FILES[$field_name]['type']; // UNVERIFIED: The mime type of the file, if the browser provided this information. An example would be "image/gif". This mime type is however not checked on the PHP side and therefore don't take its value for granted.\n        $f_size = $_FILES[$field_name]['size']; // The size, in bytes, of the uploaded file.\n        $f_tmp = $_FILES[$field_name]['tmp_name']; // The temporary filename of the file in which the uploaded file was stored on the server.\n        $php_upload_err = $_FILES[$field_name]['error']; // The error code associated with this file upload.\n        //----------------------------------------------------------------------------\n        //  PHP file validation\n        //----------------------------------------------------------------------------\n        if ($php_upload_err !== UPLOAD_ERR_OK) {\n            // translate erro msg\n            $msg = Upload::translate_error_msg($field_name);\n            error_report($msg);\n        }\n        //----------------------------------------------------------------------------\n        // logiche custom di validazione\n        //----------------------------------------------------------------------------\n        $a_valid_extensions = [\n            'doc', 'docx', 'pdf',\n        ];\n        $a_valid_mime = [\n            'application/pdf',\n            'application/msword',\n            'application/vnd.openxmlformats-officedocument.wordprocessingml.document'];\n        list($valid_file, $validation_msg) = Upload::validate($field_name, $a_valid_extensions, $a_valid_mime, $MAXIMUM_FILESIZE = (2 * SIZE_MB));\n        if (!$valid_file) {\n            error_report($validation_msg);\n        } else {\n            $dest_dir = DIR_ROOT . '/public/lavora_con_noi_cv';\n            $dest_path = $dest_dir . '/' . date('Y-m-d H:i:s') . '.tmp';\n            list($success, $msg) = Upload::save($field_name, $dest_path);\n            $success ? success_report($msg) : error_report($msg);\n        }\n    }\n}\nfunction upload_error($err)\n{\n    $max=($err==UPLOAD_ERR_INI_SIZE ? ini_get('upload_max_filesize'):0);\n    return($err?'Unable to upload a file.'.($max?" ".sprintf('Maximum allowed file size is %sB.',$max):""):'File does not exist.');\n}
htmlentities_|filter_xss_\n
SERVER_|http://php.net/manual/en/reserved.variables.server.php
obj_|new stdClass()
filter_alpha_|filter_str_
var3_|if( \\Bootstrap::isEnvDev() || \\Bootstrap::isRequestDev() ) {\n    var_\n}
now_|function mysql_now() {\n    return date('Y-m-d G:i:s');\n}
strict_|declare(strict_types=1);\nfunction sum(int $a, int $b):int {\n    return $a + $b;\n}
mail_attachment_|define('RN', "\\r\\n", false);\n// usefull for sysadmin tasks, for frontend tasks use libraries\nfunction mail_attachment($mailto, $subject, $message, $file_path, $from_mail = '', $from_name = '', $replyto = '', $is_html=false) {\n    $filename = basename($file_path);\n    $file_size = filesize($file_path);\n    $handle = fopen($file_path, 'r');\n    $content = fread($handle, $file_size);\n    fclose($handle);\n    $content = chunk_split(base64_encode($content));\n    $uid = md5(uniqid(__FUNCTION__));\n    $name = basename($file_path);\n    // header\n    $header = '';\n    if (!empty($from_name)) {\n        $header .= 'From: ' . $from_name . ' <' . $from_mail . '>' . RN;\n    }\n    // quote\n    $_q_ = function ($s) {\n        return "\\"$s\\"";\n    };\n    //$header .= 'Reply-To: '.$replyto.RN;\n    $header .= 'MIME-Version: 1.0' . RN;\n    $header .= 'Content-Type: multipart/mixed; boundary=' . $_q_($uid) . RN . RN;\n    // message & attachment\n    $nmessage = '--' . $uid . RN;\n    if( !$is_html ){\n        $nmessage .= 'Content-type:text/plain; charset=iso-8859-1' . RN;\n    } else {\n        $nmessage .= 'Content-type:text/html; charset=UTF-8' . RN;\n    }\n    $nmessage .= 'Content-Transfer-Encoding: 7bit' . RN . RN;\n    $nmessage .= ' ' . $message . RN . RN;\n    $nmessage .= '--' . $uid . RN;\n    $nmessage .= 'Content-Type: application/octet-stream; name=' . $_q_($filename) . RN;\n    $nmessage .= 'Content-Transfer-Encoding: base64' . RN;\n    $nmessage .= 'Content-Disposition: attachment; filename=' . $_q_($filename) . RN . RN;\n    $nmessage .= $content . RN . RN;\n    $nmessage .= '--' . $uid . '--';\n    if (mail($mailto, $subject, $nmessage, $header)) {\n        echo "mail attachment($name) sent at $mailto... OK\\n\\n";\n        return true;\n    } else {\n        echo "mail attachment($name) send at $mailto... ERROR!\\n\\n";\n        return false;\n    }\n}\n
csv_|$conn = mysqli_connect("localhost","someuser","secret");\n$db = mysqli_select_db("cars");\n//\n$_gen_sql = function($h_line) {\n      $table = 'xxxx';\n      return "INSERT INTO $table SET  ".json_encode($h_line);\n};\n\n// carica un file in un array associativo che viene passato alla funzione $_gen_sql\nfunction csv_load_h($file_path, $_gen_sql) {\n    $fh = fopen($file_path, 'r');\n    $i = 0;\n    while ($a_line = fgetcsv($fh, 1000, ',')) {\n        if ($i == 0) { // la prima riga contiene le chiavi\n            $h_keys = $a_line;\n            // better keys names\n            $h_keys = array_map(function ($val) {\n                return str_replace([' ', '__'], '_', strtolower(trim($val)));\n            }, $h_keys);\n        } else {\n            // use columns for h keys\n            $h_combined = array_combine($h_keys, $a_line);\n            //\n            $sql = $_gen_sql($h_combined);\n            // $result = mysqli_query($sql);\n            echo $sql . "\\n";\n        }\n        $i++;\n    }\n    fclose($fh);\n}\n\n// parse file line by line, passing array<string> to closure\nfunction csv_load($file_path, $_gen_sql){   \n   $fh = fopen($file_path, "r");\n   while ($line = fgetcsv($fh, 1000, ",")) {\n      $sql = $_gen_sql($line);\n      // $result = mysqli_query($sql);\n   }\n   fclose($fh);\n}
array_reduce_|$final_v = array_reduce($a_$1, function($carry_v, $cur_v) {\n    $carry_v += $cur_v;\n    return $carry_v;\n}, $initial_v=0);\n\n
memory_limit_|ini_set('memory_limit', '-1');// -1 unlimited, else default '256M'\n\nfunction ini_set_max($max_M) {\n  $max_B = $max_M * (1024 * 1024);\n  $memory_limit = ini_get('memory_limit');\n  // convert string to byte\n  if ( preg_match('/^(\\d+)(.)$/', $memory_limit, $matches) ) {\n    if ($matches[2] == 'M') {\n        $memory_limit = $matches[1] * 1024 * 1024; // nnnM -> nnn MB\n    } else if ($matches[2] == 'K') {\n        $memory_limit = $matches[1] * 1024; // nnnK -> nnn KB\n    }\n  }\n  $ok = ($memory_limit >= $max_B ); // at least 64M?\n  // dbg:\n    echo '<phpmem>';\n    echo '  <val>' . $memory_limit . '</val>';\n    echo '  <ok>' . ($ok ? 1 : 0) . '</ok>';\n    echo '</phpmem>';\n  if( $ok ) {\n      ini_set('memory_limit', $max_B );\n  } else {\n      // il limite atualmente impostato è già superiore a quanto richiesto, evita di sovrascriverlo\n  }\n}
<<<|$\| = <<<__END__\n__END__;
zip_|\n\n// use an abstraction over archive operations:\nclass MyZipper {\n\n\n/* //  basato su CLI\n// crea un nuovo zip file\n$cmd = sprintf("zip -9 -j -q -r %s %s/*.jpg", $zip_path, $img_path );\n$out = trim( ''. ( `$cmd` ?? '' )  );\nif( !empty($out) ) {\n    $msg = sprintf('Errore %s ', $out );\n    throw new \\Exception($msg);\n} */\n\n    function mk_archive(){\n\t$zip = new \\ZipArchive();\n\t$file_path = sprintf("/zip/test_%s.zip", date('Ymd_His') );\n        $zip_flags = \\ZipArchive::CREATE | \\ZipArchive::OVERWRITE;\n\tif ( $zip->open($file_path, $zip_flags ) !== true ) {\n\t    $msg = sprintf('Errore: impossibile aprire %s ', $zip_path );\n\t    throw new Exception($msg);\n\t}\n\t$zip->addFromString("testfile.txt" . time(), "#1 This is a test string added as testfilephp.txt.\\n");\n\t$zip->addFile($target_file_path, "/testfromfile.php");\n\t$zip->close();\n    }\n\n    // genera zip nel formato dell'applicazione\n    function archive( $dir ) {\n        $zip = new \\ZipArchive();\n        $zip_path = sprintf("%s/resp_%s.zip", $dir, $id); // @see ReqLogFile\n        // il file potrebbe già esistere ed essere riprocessato da req_diff\n        if (!file_exists($zip_path)) {\n            $zip_flags = \\ZipArchive::CREATE | \\ZipArchive::OVERWRITE;\n            if ($zip->open($zip_path, $zip_flags) !== true) {\n                $msg = sprintf('Errore: impossibile aprire %s ', $zip_path);\n                throw new Exception($msg);\n            } else {\n                echo "ZIP: $zip_path \\n";\n            }\n            $zip->addFile($file_path, basename($file_path));\n            $zip->addFile($file_path_v2, basename($file_path_v2));\n            $zip->close();\n        }\n        // unzip -t  /applications/dnaprod/oas/response/req_636612.zip\n        // if ok, remove files\n        // unlink($file_path);\n    }\n    // estrae i files log\n    // ritorna ...\n    public static function unarchive($zip_path, $v1_path, $v2_path) {\n        $zip = new \\ZipArchive();\n        $zip->open($zip_path);\n        $_2b = function ($r) {\n            return $r ? 'OK' : 'Error';\n        };\n        for ($i = 0; $i < $zip->numFiles; $i++) {\n            $file_name = $zip->getNameIndex($i);\n            $r = $zip->extractTo($v1_path, $file_name);\n            // $_2b($r)\n        }\n        $zip->close();\n    }\n}\n
use_|use My\\Full\\Classname as Another;\n// this is the same as use My\\Full\\NSname as NSname\nuse My\\Full\\NSname;\n// importing a global class\nuse ArrayObject;\n// >= 5.6\nuse const Name\\Space\\FOO;\nuse function Name\\Space\\f;\nuse function is_xxxx;
array_shift_|$args = func_get_args();\n$arg_1 = array_shift($args);//first arg\n$args // all remaininng args
apc_get_|cache_
mail_smtp_|mail_swift_\nzf_mail_\nmail_phpmailer_\nmail_ini_
memoize_|cache_
array_walk_|array_walk($data, function(&$v, $k, $param) { \n    $v = $k . $param . $v; \n}, 'myparam');
zf_alert_|$this->alert($msg, 'error');
preg_|/*\nRegex quick reference\n[abc]     A single character: a, b or c\n[^abc]     Any single character but a, b, or c\n[a-z]     Any single character in the range a-z\n[a-zA-Z]     Any single character in the range a-z or A-Z\n^     Start of line\n$     End of line\n\\A     Start of string\n\\z     End of string\n.     Any single character\n\\s     Any whitespace character\n\\S     Any non-whitespace character\n\\d     Any digit\n\\D     Any non-digit\n\\w     Any word character (letter, number, underscore)\n\\W     Any non-word character\n\\b     boundary: "/\\bweb\\b/i"  verrà riconosciuta solo "web" e non "webbing"\n(...)     Capture everything enclosed\n(:?..)  :? means *non capturing group*, skip memory allocation for captured data and it's faster\n(a|b)     a or b\na?     Zero or one of a\na*     Zero or more of a\na+     One or more of a\na{3}     Exactly 3 of a\na{3,}     3 or more of a\na{3,6}     Between 3 and 6 of a\n\noptions: i case insensitive m make dot match newlines x ignore whitespace in regex o perform #{...} substitutions only once\n\n^[0-9]+$ //match just ints\n  ^     ->   the start of a line.\n  [0-9] -> Matches any digit between 0 and -\n  +     -> Matches one or more instance of the preceding expression.\n  $     -> Signifies the end of the line.\n*/
file_remove_|unlink_
mysql_fetch_array_|while($a_ = mysql_fetch_assoc($rs) ){\n}
auth_|// http auth\ndefine('AUTH_USER' , 'xxxx', false);\ndefine('AUTH_PW'   , 'xxxx', false);\nif (!isset($_SERVER['PHP_AUTH_USER'])) {\n    header('WWW-Authenticate: Basic realm="AuthRealm"');\n    header('HTTP/1.0 401 Unauthorized');\n    echo 'user hit Cancel button: provide a valid user.';\n    exit;\n} else {\n    if( !empty($_SERVER['PHP_AUTH_USER'] ) && !empty($_SERVER['PHP_AUTH_PW'] ) ) {\n        if(\n          $_SERVER['PHP_AUTH_USER'] == AUTH_USER &&\n          $_SERVER['PHP_AUTH_PW']   == AUTH_PW\n        ) {\n            // OK!\n        } else {\n            $_SERVER['PHP_AUTH_USER']=null;\n            $_SERVER['PHP_AUTH_PW']  =null;\n            die('invalid user and pass.');\n        }\n    } else {\n        $_SERVER['PHP_AUTH_USER']=null;\n        $_SERVER['PHP_AUTH_PW']  =null;\n        die('invalid user and pass.');\n    }\n}
cli_colored_|// minimal\nfunction colored(string $str, string $foreground_color = 'green'):string {\n    static $a_fg = ['red' => '0;31', 'green' => '0;32', 'brown' => '0;33'];\n    return sprintf("\\e[%sm", $a_fg[$foreground_color]) . $str . "\\033[0m";\n}\nfunction red(string $str): string {\n    echo colored($str, 'red');\n}\nfunction green(string $str): string {\n    return colored($str, 'green');\n}\n//--------------------------------------------------------------------------------\n\n// full\nclass CLI {\n    public static function colored( $str, $foreground_color = "red", $background_color = "") {\n      if (php_sapi_name() != "cli") {\n        return $str;\n      }\n      static        $a_fg = array(\n          "black" => "0;30",\n          "red" => "0;31",\n          "green" => "0;32",\n          "brown" => "0;33",\n          "blue" => "0;34",\n          "purple" => "0;35",\n          "cyan" => "0;36",\n          "white" => "0;37",\n          "bblack" => "1;30",\n          "bred" => "1;31",\n          "bgreen" => "1;32",\n          "byellow" => "1;33",\n          "bblue" => "1;34",\n          "bpurple" => "1;35",\n          "bcyan" => "1;36",\n          "bwhite" => "1;37"\n        );\n      static        $a_bg = array(\n          "black" => "40",\n          "red" => "41",\n          "green" => "42",\n          "yellow" => "43",\n          "blue" => "44",\n          "magenta" => "45",\n          "cyan" => "46",\n          "light_gray" => "47"\n        );\n      $str_result = "";\n      if (array_key_exists($foreground_color, $a_fg)) {\n        $str_result .= sprintf("\\033[%sm", $a_fg[$foreground_color]);\n      }\n      if (array_key_exists($background_color, $a_bg)) {\n        $str_result .= sprintf("\\033[%sm", $a_bg[$background_color]);\n      }\n      $str_result .= $str."\\033[0m";\n      return $str_result;\n    }\n  }\n  function colored($str, $foreground_color = "", $background_color = "") {\n    return CLI::colored($str, $foreground_color, $background_color);\n  }\nfunction colored_ok($str) {\n    $foreground_color = "bwhite";\n    $background_color = "red";\n    return CLI::colored($str, $foreground_color, $background_color);\n}\nfunction colored_ko($str) {\n    $foreground_color = "bwhite";\n    $background_color = "green";\n    return CLI::colored($str, $foreground_color, $background_color);\n}
dir_clean_|// modo 1\narray_map('unlink', glob("some/dir/*.txt"));\n\n// elimina files vecchi\n// elimina files di log grandi e troppo vecchi per essere di interesse\nfunction cleanup($dir, $extension = 'pdf', $max_days = 180) {\n    if (file_exists($dir)) {\n        //echo "clean up dir $dir \\n";\n        // to stop waiting for output, just lunch job in nohup mode(ignore termination of parent)\n        $_exec_async = function ($cmd) {\n            // redirect both stdout and stderr to /dev/null, then background it.\n            $cmd_a = "nohup $cmd /dev/null 2>&1 & ";\n            `$cmd_a`;\n            // echo $cmd_a."\\n";\n        };\n        // echo "clean up dir $dir/*.$extension \\n";\n        $cmd = "find $dir/*.$extension -maxdepth 1 -type f -mtime +$max_days -delete ";\n        //  -size +5M\n        $_exec_async($cmd);\n    } else {\n        $msg = 'log dir dont exists!';\n        die($msg);\n    }\n}\n// elimina files vecchi\n// elimina files di log grandi e troppo vecchi per essere di interesse\nif( $_rand(0, 99 ) == 1 ) {\n    QPrintableLabel::cleanup();\n}\n// @see exec_find_\n// @see file_delete_older_\n// rm_dir_\n\n
while_|while($a=mysql_fetch_array($rs)){\|}
mysqli_async_|    //\n    public static function exec_async($sql, callable $_f) {\n        mysqli_query(self::$conn, $sql, MYSQLI_ASYNC);\n        $all_links = [self::$conn];\n        $processed = 0;\n        do {\n            $links = $errors = $reject = [];\n            foreach ($all_links as $link) {\n                $links[] = $errors[] = $reject[] = $link;\n            }\n            if (!mysqli_poll($links, $errors, $reject, 1)) {\n                continue;\n            }\n            foreach ($links as $link) {\n                if ($result = mysqli_reap_async_query($link)) {\n                    if (is_bool($result)) {\n                        $_f($result);\n                    } else {\n                        while ($row = mysqli_fetch_assoc($result)) {\n                            $rs[] = $row;\n                        }\n                        $_f($rs);\n                        if (is_object($result)) {\n                            mysqli_free_result($result);\n                        }\n                    }\n                } else {\n                    die(sprintf("MySQLi Error: %s", mysqli_error($link)));\n                }\n                $processed++;\n            }\n        } while ($processed < count($all_links));\n    }
filter_var_|filter_
var_export_|$str = var_export($data, $_return=true);\n// export with short php5.4 array syntax\nfunction var_export54($var, $indent = '') {\n    // validate, indent must be '' or spaces\n    if ($indent !== '') {\n        if (!ctype_space($indent)) {\n            die(implode('/', [__FUNCTION__ ]) . ' $indent must be space like, got: ' . var_export($indent, true));\n        }\n    }\n    switch (gettype($var)) {\n    case 'array':\n        if (empty($var)) {\n            return "$ndent" . "[]\\n";\n        }\n        $indexed = array_keys($var) === range(0, count($var) - 1);\n        $r = [];\n        foreach ($var as $key => $value) {\n            $r[] = "$indent    "\n            . ($indexed ? '' : var_export54($key) . ' => ')\n            . var_export54($value, $indent . '  ');\n        }\n        return "[\\n" . implode(",\\n", $r) . "\\n" . $indent . ']';\n    // case 'object': return obj_to_str($var); break;\n    default:\n        return var_export($var, TRUE);\n    }\n}\n
strtr_|tmpl('{{aa}}', get_defined_vars() );\n// strtr(':aa :bb',[':aa'=>'111',':bb'=>'222'])\n// template_str_
get_defined_constants_|echo '<pre>'.__FUNCTION__.'()'.' L:'.__LINE__.' F:'.__FILE__."\\n", var_dump(\n\n    get_defined_constants($category=true)["user"]\n\n),"</pre>\\n";\ndie();
head_|array_first_
fiber_cicle_|//php8.1\n// copy files async while printing UI messages\nfunction writeToLog(string $message): void {\n    echo $message . "\\n";\n}\n$files = [\n    'src/foo.png' => 'dest/foo.png',\n    'src/bar.png' => 'dest/bar.png',\n    'src/baz.png' => 'dest/baz.png',\n];\n\n$fiber = new Fiber(function(array $files): void {\n    foreach($files as $source => $destination) {\n        copy($source, $destination);\n        Fiber::suspend([$source, $destination]);\n    }\n});\n\n// Pass the files list into Fiber.\n$copied = $fiber->start($files);\n$copied_count = 1;\n$total_count  = count($files);\n\nwhile(!$fiber->isTerminated()) {\n    $percentage = round($copied_count / $total_count, 2) * 100;\n    writeToLog("[{$percentage}%]: Copied '{$copied[0]}' to '{$copied[1]}'");\n    $copied = $fiber->resume();\n    ++$copied_count;\n}\n\nwriteToLog('Completed');
proc_open_|popen_
image_size_|list($width, $height, $type, $attr) = getimagesize($file_path);\n        // da un filename ricava l'aspect ration $w/$h\n        public static function getAspectRatio($file_name) {\n            if (!file_exists($file_name)) {\n                return false;\n            }\n            $a_size = getimagesize($file_name);\n            $w = $a_size[0];\n            $h = $a_size[1];\n            if (!empty($w) && !empty($h)) {\n                return $w / $h;\n            } else {\n                return 1;\n            }\n        }
css_justify_|text-align: justify;\ntext-justify: inter-word;
ftp_pull_|// SCARICA in locale le modifiche fatte in TEST\nfunction action_sync_local() {\n    $username = 'xxx';\n    $password = 'xxx';\n    $host     = '192.168.1.xxx';\n    // vecchie classi wrapper\n    // classi wrapper sui programmi AS400, aggiornate raramente, usare un flaf cli se serve + spesso\n    if( rand(0,5) == 1 ){\n        $lcd =  realpath(__DIR__.'/../library/Orders/Classes');\n        if( false === $lcd ){ die( "error path:$lcd " ); }\n        $rcd = '/www/zend-applications/DMS_Orders/library/Orders/Classes';\n        ftp_download_dir($username, $password, $host, $lcd, $rcd);\n\n        // scarica files di frontend che sono aggioranti raramente\n        $lcd =  realpath(__DIR__.'/../public');\n        if( false === $lcd ){ die( "error path:$lcd " ); }\n        $rcd = '/www/zend-applications/DMS_Orders/public';\n        ftp_download_files($username, $password, $host, $lcd, $rcd,\n            $a_file_name=['index.php','js/main.js','css/main.css']);\n\n    }\n    //\n    $lcd =  realpath(__DIR__.'/../application');\n    if( false === $lcd ){ die( "error path:$lcd " ); }\n    $rcd = '/www/zend-applications/DMS_Orders/application';\n    ftp_download_dir($username, $password, $host, $lcd, $rcd);\n}\n\nfunction ftp_download_dir($username, $password, $host, $lcd, $rcd){\n\n    if( !is_dir($lcd) ){\n        die("$lcd path do not exists \\n");\n    }\n\n    // --delete elimina ogni file non presente\n    // --only-newer carica solo i files più recenti sul path locale\n    $cmd_options = ' --delete  --no-perms  --continue --verbose  --parallel=2 ';\n\n    // aggiunge opzione dryrun ammeno che non si dia il comando --go\n    $cmd_options .= ftp_init_dry_run();\n\n    // serve a sovrascrivere files nascosti come .htaccess\n    // set ftp:list-options -a;\n    // di default non sovrascrive files già esistenti\n    $cmd = "lftp -c \\" open ftp://$username:$password@$host; lcd $lcd; cd $rcd; mirror $cmd_options\\"";\n    echo colored_ko("cancello files locali:")."\\n";\n    echo `rm -rf $lcd/*`;\n    echo "trasferisco files \\n";\n    echo $cmd . "\\n";\n    echo `$cmd`;\n\n}\n\nfunction ftp_download_files($username, $password, $host, $lcd, $rcd, array $a_file_name){\n    if( !is_dir($lcd) ){\n        die("$lcd path do not exists \\n");\n    }\n    $cmd_options = ' ';\n    // aggiunge opzione dryrun ammeno che non si dia il comando --go\n    $cmd_options .= ftp_init_dry_run();\n    // get $file_name;\n    $a_file_name = array_map(function($file_name) {\n        return " get $file_name; ";\n    }, $a_file_name );\n    $cmd_file_name = implode(' ', $a_file_name );\n    // xfer:clobber   di default non sovrascrive files già esistenti\n    $cmd = "lftp -c \\"set xfer:clobber on; open ftp://$username:$password@$host; lcd $lcd; cd $rcd;  $cmd_file_name  bye;\\" ";\n    echo "trasferisco files \\n";\n    echo $cmd . "\\n";\n    echo `$cmd`;\n}\n\n\n\n// testa $arg_index per verificare la presenza del parametro\nfunction ftp_init_dry_run( ){\n    $argv = $GLOBALS['argv'];\n    foreach($argv as $param ) {\n        if( $param === '--go') {\n            echo colored_ko("attenzione, sto sovrascrivendo i files presenti localmente")."\\n";\n            $cmd_dry_run = '';\n            return $cmd_dry_run;\n        }\n    }\n    echo colored_ok("sync dry run.")."\\n";\n    $cmd_dry_run = '--dry-run';\n    return $cmd_dry_run;\n}\n\n\n\n
var2_|echo var_dump(\n     $1\n),"\\n"; die();\n\n
static_|//\n\tprotected static function \| $1() {\t\t\nreturn ; \n}
self_|:static //typehint since 8.0
img_resize_|// @see image_resize_\n
validate_|valid_int_\nvalid_date_\n// filter_var_
opt_|array $opt = [] \n$option = array_merge([\n], $opt );\nextract($option);
flock_|function file_open_lock($n){\n    $o=@fopen($n,"r+");\n    if(!$o){\n        $o=@fopen($n,"w");\n        if(!$o)\n            return ;\n        chmod($n,0660);\n    }\n    flock($o,LOCK_EX);\n    return $o;\n}\nfunction file_write_unlock($o,$cb){\n    rewind($o);\n    fwrite($o,$cb);\n    ftruncate($o,strlen($cb));\n    flock($o,LOCK_UN);\n    fclose($o);\n}
array_push_|$stack = ['orange', 'banana'];\narray_push($stack, 'apple', 'raspberry');\n// Array( orange, banana, apple, raspberry )\n/** @param mixed $v */\nfunction array_append_right(array $a, $v): array{\n    $count = array_push($a, $v);\n    return $a;\n}
array_distinct_|// data una chiave trova i singoli valori nel $rs\nfunction array_distinct($rs, $key) {\n    $result = [];\n    foreach ($rs as $rec) {\n        if (array_key_exists($key, $rec)) {\n            $val = $rec[$key];\n            $result[] = $val;\n        }\n    }\n    return array_unique($result);\n}\n$r_distinct = array_distinct($data, $key = 'gender');
sprintf_js_|link_
assert_s_|assert_char_
go_|fiber_
file_get_a_|// ottiene contenuto del file in array di righe da processare in successione\n$a_file_lines = file($file_path, FILE_IGNORE_NEW_LINES | FILE_SKIP_EMPTY_LINES);\n$process_line = function($line){ return $line; };\nforeach ($a_file_lines as $i => $line) {\n     $a_file_lines[$i] = process_line($line);\n}\n$s_result = implode("\\n", $a_file_lines );\n\n
exec_find_|// elimina files di log grandi e troppo vecchi per essere di interesse\n$log_regex = APPLICATION_PATH.'/../var/logs/AS400-CLI-*.log';\n$days = 180;\n$cmd = "find $log_regex -maxdepth 1 -type f -mtime +$days -exec rm -f {} \\; ";\n$s_result = `$cmd`;\n\n
whitelist_|$safe_whitelist = function($str, $a_wl, $def){\n  if( in_array $str, $a_wl ){\n    return $str;\n  } else {\n    return $def;\n  }\n};\n
twb_breadcrumb_|<p class="breadcrumb" style="background-color:transparent;  ">\n<?php\nif (!$doc_k1) {\n    echo '&nbsp;'; // segnaposto per variare le distanze nel layout\n} elseif ($doc_k1) {?>\n                        <a href="index.php" title="Home">Home</a>\n                        <i class="fa fa-caret-right divider" aria-hidden="true"></i>\n                        <a href="<?=url_ir($_GET['p']);?>"><?=$doc_k1?></a>\n                        <?php\n}\n?>\n                    <?php\nif ($doc_k2) {?>\n                        <i class="fa fa-caret-right divider" aria-hidden="true"></i>\n                        <a href="<?=url_ir($_GET['p'], $_GET['p2']);?>"><?=$doc_k2?></a>\n<?php\n}\n?>\n</p>
preg_replace_safe_|/*\n<?php\n// @see xxxx/Safe.php\n\n// processa i parametri in input prima delle query\nclass Safe {\n    // toglie caratteri pericolosi da un input che debba essere processato con SQL\n    // Safe::str($s);\n    public static function sanitize($s, $len = 0, $regexp = '/[^a-z0-9\\-\\_]/i') {\n        $s = preg_replace($regexp, '', $s);\n        $s = self::chop( $s, $len );\n        return $s;\n    }\n    //\n    public static function quote($s) {\n        $s = htmlspecialchars($s, ENT_QUOTES | ENT_HTML401, $encoding = 'UTF-8');\n        return $s;\n    }\n    // definire una lunghezza massima della stringa\n    public static function chop($str, $len=265) {\n        // opzionalmente applica troncamento per lunghezza\n        if (!empty($len)) {\n            return mb_substr($str, 0, $len);\n        } else {\n            return $str;\n        }\n    }\n    //----------------------------------------------------------------------------\n    //  strings\n    //----------------------------------------------------------------------------\n    // stringhe estese\n    public static function str($str, $len = 20, $regexp = '/[^a-z0-9\\_\\-\\+\\.,\\s]/i') {\n        return self::sanitize($str, $len, $regexp);\n    }\n    // only alpha and numeric\n    public static function alphanum($str, $len = 20, $regexp = '/[^a-z0-9\\-\\_]/i') {\n        return self::sanitize($str, $len, $regexp);\n    }\n    // richiesta: Aggiungere &euro;, apostrofo, caratteri accentati\n    /*\n    test cases:\n    includere sconto 50%\n    come ordine del'altra volta\n    10euro\n    perché però qualità più mercoledì\n    &euro;\n     */\n    public static function text($s, $len = 256, $s_additional='', $s_replace=' ') {\n        $s = self::quote($s);\n        // questo elimina òàùèì\n        // $s = filter_var($s, FILTER_SANITIZE_STRING,\n        //     FILTER_FLAG_STRIP_LOW | FILTER_FLAG_STRIP_HIGH\n        // );\n        //\n        // $char_list = 'àèéìòù€_,;:!.-+*/()[]?=@%&#';\n        // $s_escaped = implode('', array_map(function($c) {\n        //     return '\\\\'.$c;\n        // }, mb_split( '//u', $char_list,1) ) );\n        $s_escaped = '\\à\\è\\é\\ì\\ò\\ù\\€\\_\\,\\;\\:\\!\\.\\-\\+\\*\\/\\(\\)\\[\\]\\?\\=\\@\\%\\&\\#';\n        $s_escaped .= $s_additional;\n        // consider allowing \\s => \\n\\t\\r\n        $regexp = '/[^0-9A-Z'.$s_escaped.' \\n]/iu';\n        $s = preg_replace($regexp, $s_replace, $s);\n        // opzionalmente applica troncamento per lunghezza\n        $s = self::chop( $s, $len );\n        return $s;\n    }\n    // specifica per il tipo flag\n    public static function flag($s, $len = 3) {\n        $s = strtoupper($s);\n        $s = self::chop( $s, $len );\n        $s = preg_replace('/[^A-Z0-9_]/i', '_', $s);\n        return $s;\n    }\n    //----------------------------------------------------------------------------\n    //  numerics\n    //----------------------------------------------------------------------------\n    // gestisce numeri espressi come float as400, ',' viene convertito a '.'\n    public static function num($s, $len = 15) {\n        $s = str_replace(',', '.', $s);\n        $s = preg_replace('/[^0-9\\,\\.\\-]/i', '', $s);\n        // elimina input eccessivo\n        $s = self::chop( $s, $len );\n        return $s;\n    }\n    public static function int($s, $default = 0) {\n        $len = 15;\n        $s = preg_replace('/[^0-9]/i', '', $s);\n        // elimina input eccessivo\n       $s = self::chop( $s, $len );\n        $s = intval($s);\n        return is_numeric($s) ? $s : $default;\n    }\n    public static function dec($num, $default = 0) {\n        $num1 = preg_replace('/[^0-9\\,\\.]/i', '', $num);\n        $num2 = str_replace($sub = ',', $re = '.', $num);\n        $num3 = empty($num2) ? $default : $num2;\n        return $num3;\n    }\n    // warning se parametro errato\n    public static function intW($s, $name = '', $len = 20) {\n       $s = self::chop( $s, $len );\n        $s = filter_var($s, FILTER_SANITIZE_NUMBER_INT);\n        if (false === $s) {\n            $msg = "validation param $name";\n            throw new \\Exception($msg);\n        }\n        return $s;\n    }\n    // ripulisce email address\n    public static function email($email) {\n        $email = trim(Safe::text($email));\n        return filter_var($email, FILTER_SANITIZE_EMAIL);\n    }\n    // ripulisce tel address\n    public static function tel($tel) {\n        $tel = preg_replace('/[^0-9\\+\\s]/i', '', $tel);\n        $tel = str_replace($sub = '  ', $re = ' ', $tel); // replace duble ' '\n        $tel = trim($tel);\n        $tel = self::chop( $tel, $len=17 );\n        return $tel;\n    }\n    //----------------------------------------------------------------------------\n    //  array\n    //----------------------------------------------------------------------------\n    /*\n    $type = Safe::whitelist($type, $a_valid_types = [\n    self::MAILEXT_CONFERMA_ORD, // ConfermaOrdine\n    self::MAILEXT_BOLLA, // Bolle\n    self::MAILEXT_FATTURA, // Fatture\n    self::MAILEXT_PEC, // PEC\n    ], $def = null);\n    if (empty($type)) {\n    $msg = sprintf('Errore type cant be empty "%s" ', $type);\n    throw new \\Exception($msg);\n    }\n     */\n    public static function whitelist($str, array $a_wl, $def) {\n        if (in_array($str, $a_wl)) {\n            return $str;\n        } else {\n            return $def;\n        }\n    }\n    // filtra un array in input con i filtri proposti,\n    // solo i valori che hanno un filtro passano\n    //   $_safe_an = function($v) {return Safe::alphanum($v); };\n    //   $_safe_int = function($v) {return Safe::int($v); };\n    //   $_safe_txt = function($v) {return Safe::text($v); };\n    //   $a_fields_val = [\n    //       'name' => $_safe_an,\n    //       'note'  => $_safe_txt,\n    //       'destination_id'  => $_safe_int,\n    //   ],\n    //   $a_data = Safe::hash( $a_data, $a_fields_val );\n    public static function hash(array $a_data, array $a_fields_val) {\n        $a_data_f = [];\n        foreach ($a_fields_val as $k => $_filter) {\n            if (isset($a_data[$k])) {\n                $v = $a_data[$k];\n            } else {\n                continue;\n            }\n            $a_data_f[$k] = $_filter($v);\n        }\n        return $a_data_f;\n    }\n    // filtra un array per un filtro\n    // array e list sono parole riservete in php5.6\n    public static function _list(array $a_data, $_filter = null) {\n        $_filter = $_filter ? $_filter : function ($v) {\n            return filter_var($v, FILTER_SANITIZE_NUMBER_INT);\n        };\n        $a_data_f = array_map(function ($val) use ($_filter) {\n            return $_filter($var);\n        }, $a_data);\n        return $a_data_f;\n    }\n    //----------------------------------------------------------------------------\n    //  app specific\n    //----------------------------------------------------------------------------\n    // accetta un cocli alfanum di max 6 char\n    public static function cocli($cocli) {\n        $cocli = strtoupper(trim($cocli));\n        $cocli = preg_replace('/[^0-9A-Z$]/', '', $cocli);\n        $cocli = self::chop( $s, $len = 6);\n        return $cocli;\n    }\n    // attenzione ai nuovi codici che sono molto lunghi e contengono lettere\n    public static function cod_art($cod_article) {\n        return strtoupper(Safe::alphanum($cod_article, $len = 15));\n    }\n}\n\n// if colled directly in CLI, run the tests:\nif (isset($argv[0]) && basename($argv[0]) == basename(__FILE__)) {\n    require_once __DIR__ . '/../../lib/DMS/functions.php';\n\n    echo ok(Safe::str(''), $exp='', '' );\n    echo ok(Safe::alphanum(''), $exp='', '' );\n    echo ok(Safe::flag(''), $exp='', '' );\n    echo ok(Safe::num(''), $exp='', '' );\n    echo ok(Safe::int('1'), $exp=1, 'int' );\n    echo ok(Safe::dec('1'), $exp='1', 'dec' );\n    echo ok(Safe::email(''), $exp='', 'email' );\n    echo ok(Safe::tel(''), $exp='', 'tel' );\n    echo ok(Safe::whitelist('a',['a'], 0), $exp='a', 'whitelist' );\n    echo ok(Safe::hash(['a'=>1],['a'=>function($x){return $x;}]), ['a'=>1], 'hash' );\n\n\n    $a_in = [\n        'punteggiatura !.,?:;@+-%=_' => null,\n        '#' => null, // meta char, do not touch\n        '<>' => '&lt;&gt;', //dangerous html\n        'includere sconto 50%' => null,\n        'perché però qualità più mercoledì' => null,\n        '10 €' => null, //euro\n        "come ordine dell'altra volta" => "come ordine dell&#039;altra volta",\n        // "'\\"" => '', //quotations not allowed\n        '"citazione"' => '&quot;citazione&quot;', //\n        "multi\\nline" => null,\n        "\\\\" => ' ',\n        "\\\\\\\\" => '  ',\n\n        json_decode("\\u0001\\u0002\\u0003\\u0004\\u0005\\u0006\\u0007\\b\\u000e\\u000f\\u0010\\u0011\\u0012\\u0013\\u0014\\u0015\\u0016\\u0017\\u0018\\u0019\\u001a\\u001b\\u001c\\u001d\\u001e\\u001f") => '',\n        json_decode('\\u000b')=>'',\n        "" => '                               ',\n        "\\t\\f              ​ \00\00
__toString_|public function __toString(){\n    return "".$this->name;\n}
str_match_|// strpos_ \n// preg_match_\n// $str = "The quick brown fox jumps over the lazy dog";\n$contains = 1 === preg_match('/fox/', $str); // returns 1\n$contains = 1 === preg_match('/[a-zA-Z]+Controller$/', $str);\|\n
cli_input_|cli_prompt_
function_|f_#$1#\n\n
ife_|ifn_#$1#\|\n
class_exists_|if (!class_exists('TheClass', $autoload=false)) {\n\n}\n
unlink_|if( file_exists($path) && unlink($path) ){\n}\n// dir_clean_
phpo_|<?=htmlspecialchars($1\|);?>
array_collect_|array_reduce_
sql_default_fields_|CREATE TABLE `xxx` (\n\t-- `id` VARCHAR(36) NOT NULL,\n\t`deleted` TINYINT(1) NULL DEFAULT '0',\n\t`date_entered` DATETIME NULL DEFAULT NULL,\n\t`date_modified` DATETIME NULL DEFAULT NULL,\n\t`created_by_user_id` CHAR(36) NULL DEFAULT NULL ,\n\t`modified_by_user_id` CHAR(36) NULL DEFAULT NULL ,
gz_get_contents_|// equivalente a file_get_contents per un file compresso con gz\nfunction gz_get_contents(string $path):string {\n    $file = @gzopen($path, 'rb', false);\n    if($file) {\n        $data = '';\n        while (!gzeof($file)) {\n            $data .= gzread($file, 1024);\n        }\n        gzclose($file);\n    }\n    return $data;\n}
twb_dropdown_|<div class="dropdown"> \n\t<a href="#" class="dropdown-toggle" id="drop4" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"> \n        Dropdown <span class="caret"></span> \n        </a> \n        <ul class="dropdown-menu" id="menu1" aria-labelledby="drop4"> \n          <li><a href="#">Action</a></li> \n          <li><a href="#">Another action</a></li> \n          <li><a href="#">Something else here</a></li> \n          <li role="separator" class="divider"></li> \n          <li><a href="#">Separated link</a></li> \n         </ul> \n</div>
substr_count_|$c = substr_count($str, $usbstr\|);
sql_compress_|$sql = str_replace_all(["\\n", "\\r", "\\t", '  '], ' ', $s_sql);
cache_file_|//----------------------------------------------------------------------------\n// fcache\n//----------------------------------------------------------------------------\n/* uso:\n$cache_key = fcache_path( 'key', $args );\n$data = fcache($cache_key, function() {\n  return [];// generate data\n});\nreturn $data;\n */\ndefine('TTL_FOREVER',  0, false);\ndefine('TTL_H',  60 * 60, false);\ndefine('TTL_8H', 8 * TTL_H, false);\ndefine('TTL_D',  24 * TTL_H, false);\n\nfunction fcache($file_cache_path, \\Closure $generator, $ttl = TTL_8H) {\n    $ttl_is_valid = function () use ($ttl, $file_cache_path) {\n        if ($ttl == TTL_FOREVER) {\n            return true;\n        }\n        // se esiste, verifica data ed elimina vecchio\n        $file_mtime = filemtime($file_cache_path);\n        if (time() - $file_mtime > $ttl) {\n            // file older than 2 hours\n            unlink($filename);\n            return false;\n        } else {\n            // file younger than x hours\n            return true;\n        }\n    };\n    //\n    if (file_exists($file_cache_path) && filesize($file_cache_path) >= 200 && $ttl_is_valid()) {\n        echo "from cache $file_cache_path \\n";\n        $json_str = file_get_contents($file_cache_path);\n        $data = json_decode($json_str, $use_assoc = true);\n        return $data;\n    } else {\n        $data = $generator();\n        //$data = \\Mobile\\Response::to_UTF8($data);\n        $json = json_encode($data, JSON_UNESCAPED_UNICODE | JSON_PRETTY_PRINT) or die(json_last_error_msg());\n        file_put_contents($file_cache_path, $json);\n        return $data;\n    }\n}\n// crea un nome di file e ritorna un path a file di cache\n//   $args = func_get_args();\n//   $arg_1 = array_shift($args);//first arg\n//   // $args // all remaininng args\nfunction fcache_path($method, array $params = []) {\n    $k = '';\n    $k .= $method . '_' . json_encode($params);\n    // cleanup\n    $k = preg_replace($regex = '/[^a-z0-9_-]/i', '_', $k);\n    $count = 1;\n    while( $count > 0 ){\n        $k = str_replace($sub = '__', $re = '_', $k, $count);\n    }\n    $path = sprintf('%s/%s.json', $cache_path =fcache_get_dir(), $k);\n    return $path;\n}\nfunction fcache_clear() {\n    $dir = fcache_get_dir();\n    foreach (glob($dir . '/*.json') as $file_path) {\n        echo sprintf("rm:%s size:%s Y:%s\\n", $file_path, filesize($file_path), date('Y-m-d H:i:s', filemtime($file_path)));\n        unlink($file_path);\n    }\n}\n// sovrascrivere con quanto appropriato per l'applicazione\nfunction fcache_get_dir() {\n    return  __DIR__;\n}\n\n\n/* v2 json file daily\n        // mette in cache un file per un giorno\n        $_cache_json_file_day = function ($dir, $key, $_generator) {\n            $fmt = '%s/%s_%s.json';\n            $file_search = sprintf($fmt, $dir, $key, date('Ymd'));\n            $file_pattern = sprintf($fmt, $dir, '*');\n            // delete file vecchi inutili\n            foreach (glob($file_pattern) as $file_path) {\n                if ($file_path == $file_search) {\n                    // ok\n                } else {\n                    unlink($file_path);\n                }\n            }\n            //\n            $do_cache = true;\n            if ($do_cache && file_exists($file_search)) {\n                $json = file_get_contents($file_search);\n                // respond vuole un array\n                $data = json_decode($json, $use_assoc = true);\n                return $data;\n            } else {\n                $a_result = $_generator();\n                $json = json_encode($a_result);\n                file_put_contents($file_search, $json);\n                return $a_result;\n            }\n        };\n*/ \n\n\n\n
serialize_|$str = serialize($data);
do_while_|$i = 0;\ndo {\n    echo $i; // exec once even if condition is already false\n} while ($i > 0);\n// The above loop would run one time exactly, since after the first iteration, when truth expression is checked, it evaluates to FALSE ($i is not bigger than 0) and the loop execution ends.\n\n
const_|class const {\nconst CONSTANT = 'str'; // since php5.3\n}
curl_session_|\n// chiamate successive con cookie di sessione\n$ch = curl_init();curl_setopt($ch, CURLOPT_ENCODING, '');\ncurl_setopt($ch, CURLOPT_USERAGENT, 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Ubuntu Chromium/32.0.1700.107 Chrome/32.0.1700.107 Safari/537.36');\n// curl_setopt($ch, CURLOPT_COOKIE, $strCookie);\ncurl_setopt($ch, CURLOPT_RETURNTRANSFER, true);\ncurl_setopt($ch, CURLOPT_COOKIESESSION, true);\ncurl_setopt($ch, CURLOPT_COOKIEJAR, 'cookie-name'); //could be empty, but cause problems on some hosts\ncurl_setopt($ch, CURLOPT_COOKIEFILE, '/tmp/curl_cookiefile'); //could be empty, but cause problems on some hosts\nfunction curl_get($url) {\n    global $ch;\n    // wait for x seconds before each request\n    usleep((int) (0.5 * 1000000));\n    echo "URL: $url \\n";\n    curl_setopt($ch, CURLOPT_URL, $url);\n    // $strCookie = 'PHPSESSID=' . $PHPSESSID . '; path=/';\n    $html = curl_exec($ch);\n    file_put_contents('/tmp/' . basename($url) . '_' . date('Y-m-d H:i:s') . '.html', $html);\n    return $html;\n}\nregister_shutdown_function(function () use ($ch) {\n    curl_close($ch);\n});
error_log_|error_log( $msg , $_log_type = 0);// 0=php ini log\n/*\n0 log di sistema di PHP, configurazione error-log.\n1 message inviato via posta email \n2 depraceted\n3 su file\n4 log SAPI.\nerror_log($msg, 0);\nerror_log($msg, 1, "operator@mydomain.com");\nerror_log($msg, 3, "/var/tmp/my-errors.log");\n*/\n\n\n\n
yaml_|require_once "Spyc.php";\nclass YAML {\n    public static function load($file) {\n        if (!file_exists($file)) {\n            raise_error("$file: File does not exist", __CLASS__);\n            return false;\n        }\n        return Spyc::YAMLLoad($file);\n    }\n}
pstatic_|staticp_
cli_exit_|exit(0);\n\n/**\n* successful termination\n*/\nconst EX_OK = 0;\n\n/**\n* base value for error messages\n*/\nconst EX__BASE = 64;\n\n/**\n* The command was used incorrectly, e.g., with the\n* wrong number of arguments, a bad flag, a bad syntax\n* in a parameter, or whatever.\n*/\nconst EX_USAGE = 64;\n\n/**\n* The input data was incorrect in some way.  This\n* should only be used for user's data and not system\n* files.\n*/\nconst EX_DATAERR = 65;\n\n/**\n* An input file (not a system file) did not exist or\n* was not readable.  This could also include errors\n* like ``No message'' to a mailer (if it cared to\n* catch it).\n*/\nconst EX_NOINPUT = 66;\n\n/**\n* The user specified did not exist.  This might be\n* used for mail addresses or remote logins.\n*/\nconst EX_NOUSER = 67;\n\n/**\n* The host specified did not exist.  This is used in\n* mail addresses or network requests.\n*/\nconst EX_NOHOST = 68;\n\n/**\n* A service is unavailable.  This can occur if a sup­\n* port program or file does not exist.  This can also\n* be used as a catchall message when something you\n* wanted to do doesn't work, but you don't know why.\n*/\nconst EX_UNAVAILABLE = 69;\n\n/**\n* An internal software error has been detected.  This\n* should be limited to non-operating system related\n* errors as possible.\n*/\nconst EX_SOFTWARE = 70;\n\n/**\n* An operating system error has been detected.  This\n* is intended to be used for such things as ``cannot\n* fork'', ``cannot create pipe'', or the like.  It\n* includes things like getuid returning a user that\n* does not exist in the passwd file.\n*/\nconst EX_OSERR = 71;\n\n/**\n* Some system file (e.g., /etc/passwd, /var/run/utmp,\n* etc.) does not exist, cannot be opened, or has some\n* sort of error (e.g., syntax error).\n*/\nconst EX_OSFILE = 72;\n\n/**\n* A (user specified) output file cannot be created.\n*/\nconst EX_CANTCREAT = 73;\n\n/**\n* An error occurred while doing I/O on some file.\n*/\nconst EX_IOERR = 74;\n\n/**\n* Temporary failure, indicating something that is not\n* really an error.  In sendmail, this means that a\n* mailer (e.g.) could not create a connection, and\n* the request should be reattempted later.\n*/\nconst EX_TEMPFAIL = 75;\n\n/**\n* The remote system returned something that was ``not\n* possible'' during a protocol exchange.\n*/\nconst EX_PROTOCOL = 76;\n\n/**\n* You did not have sufficient permission to perform\n* the operation.  This is not intended for file sys­\n* tem problems, which should use EX_NOINPUT or\n* EX_CANTCREAT, but rather for higher level permis­\n* sions.\n*/\nconst EX_NOPERM = 77;\n\n/**\n* Something was found in an unconfigured or miscon­\n* figured state.\n*/\nconst EX_CONFIG = 78;\n\n/**\n* maximum listed value\n*/\nconst EX__MAX = 78;\n\n
zf_mail_attach_|$at = new Zend_Mime_Part(file_get_contents($file_path));\n$at->filename = basename($file_path);\n$at->disposition = Zend_Mime::DISPOSITION_ATTACHMENT;
T_|$this->
creole_|require_once __DIR__ . '/WikiCreole.php';\n// @see https://github.com/paulyg/WikiCreole/blob/master/WikiCreole.php\nfunction creole_parse($txt) {\n    $list_of_existing_page_slugs = [];\n    $html = '';\n    static $parser = null;\n    if (!$parser) {\n        $parser = new WikiCreole([\n            'urlBase' => '/',\n            'imgBase' => '/img/',\n        ],\n            $list_of_existing_page_slugs\n        );\n    }\n    $html = $parser->parse($txt);\n    return $html;\n}
str_translit_|$str = \\iconv('UTF-8', 'ASCII//TRANSLIT', $in="Cliënt"); // output: "Client"
???|$foo = $bar ?: $baz;// Since PHP 5.3 ternary operator default, $bar must be defined\n$foo = $bar ?? $baz;// null coalesce operator since php7, hadles undefined $bar
rm_dir_|// delete dir recursivly\nfunction rm_dir(string $dir) : int {\n\t$count = 0;\n\t// ensure that $dir ends with a slash so that we can concatenate it with the filenames directly\n\t$dir = rtrim($dir, "/\\\\") . "/";\n\t// use dir() to list files\n\t$list = dir($dir);\n\t// store the next file name to $file. if $file is false, that's all -- end the loop.\n\twhile(($file = $list->read()) !== false) {\n\tif($file === "." || $file === "..") continue;\n\tif(is_file($dir . $file)) {\n\tunlink($dir . $file);\n\t$count++;\n\t} elseif(is_dir($dir . $file)) {\n\t$count += recurse_delete_dir($dir . $file);\n\t}\n\t}\n\t// finally, safe to delete directory!\n\trmdir($dir);\n\treturn $count;\n}
filter_regex_|$s = preg_replace('/[^a-z0-9_\\s]/i', '', $s );\n// to strip all(line feeds, carriage returns, and UTF8 characters) except printable ASCII characters (32...127 range)\n$string = preg_replace( '/[^[:print:]]/', '',$string);\n// matches  range 0-31, 128-255 \n$s = preg_replace('/[\\x00-\\x1F\\x80-\\xFF]/', '', $s);\n// unicode characters öä , must use single quotes \n$s = preg_replace('/[\\x00-\\x08\\x0B\\x0C\\x0E-\\x1F\\x7F-\\x9F]/u', '', $s);\n// strip line feeds, carriage returns, and tabs  \n$string = preg_replace('/[\\x00-\\x1F\\x7F-\\x9F]/u', '', $s);\n// apply a max_len\n$s = substr(trim($s), 0, $max_len=6);
http_parse_query_|// from query string to hash\nfunction http_parse_query($query_str) {\n    parse_str( $query_str, $a );\n    return $a;\n}
__destruct_|function __destruct() {\n\|\n}
ajax_|request_is_ajax_
login_|// simplistic login to protect a web page\n<form method="post" action="login.php">\nUsername: <input type="text" name="username"> <br>\nPassword: <input type="password" name="password"> <br>\n<input type="submit" value="Log In">\n</form>\n\n \nif (pc_validate($_REQUEST['username'],$_REQUEST['password'])) {\n    $_SESSION['login'] = \n        $_REQUEST['username'].','.md5($_REQUEST['username'].$secret_word));\n    error_log('Session id '.session_id().' log in as '.$_REQUEST['username']);\n}\n// verification\nunset($username);\nif ($_SESSION['login']) {\n    list($c_username,$cookie_hash) = explode(',',$_SESSION['login']);\n    if (md5($c_username.$secret_word) == $cookie_hash) {\n        $username = $c_username;\n    } else {\n        print "You have tampered with your session.";\n    }\n}
type_array_|/** @var|param array $a_xxx */\n
redis_cache_|// usa composer per gestire le dipendenze\n//require "predis/autoload.php";\n//Predis\\Autoloader::register();\ntry {\n    $R = new Predis\\Client([\n        //'scheme' => 'tcp',\n        //'host' => 'localhost',\n        //'port' => port,\n        //'password' => 'password',\n        'persistent' => '1'  // persistent!\n    ]);\n} catch (Exception $e) {\n    $fmt = 'Exception Redis Connect: <b>%s</b><br>\n    file:%s line:%s <br>\n    trace:<pre>%s</pre>';\n    $msg = sprintf($fmt,\n        $e->getMessage(),\n        $e->getFile(), $e->getLine(),\n        $e->getTraceAsString()\n    );\n    die($msg);\n}\n$k = 'foo';\nif( $R->exists($k) ){\n    $value = $R->get($k);\n    var_dump($value);\n} else {\n    // $R->set($k, "bar");\n    // $v = json_encode($v);\n    $R->setex($k, 60*60*24, "value" );\n}
reindex_|array_reindex_
zf_form_|\nclass Application_Form_Mail extends EasyBib_Form {\n\n    public function init() {\n\n        $this->setAction('/mail/new')->setMethod('post');\n        $this->setAttrib('id', 'mail');\n        //\n        // subject\n        $el_subject = new Zend_Form_Element_Text('subject');\n        //$el_subject->addValidator( new Zend_Validate_Regex(array('pattern' => '/[a-zA-Z0-9\\,\\.\\-\\_]/')) );\n        $el_subject->addValidator(new Zend_Validate_StringLength(array('max' => 90)) );\n        $el_subject->setLabel('Subject:');\n        $el_subject->setRequired(true);\n        $a_el['subject']=$el_subject;        \n\n        // from\n        $el_from = new Zend_Form_Element_Select('from');\n        $el_from->addValidator('EmailAddress');\n        $el_from->setLabel('From:');\n \t$a_el['from']=$el_from;\n\n\n        // add all elements \n        foreach( $a_el as $el_name => $el_obj ) {\n            $this->addElement($el_obj, $el_name );\n\t}\n        //\n        $this->addElement('submit', 'invia', array('label' => 'Invia') );\n        EasyBib_Form_Decorator::setFormDecorator($this, EasyBib_Form_Decorator::BOOTSTRAP, 'invia', 'cancel');\n    }\n}\n\n\nclass controller {\n\n    public function usernewAction() {\n        $request = $this->getRequest();\n        $form = new Application_Form_FornitoriUser();\n        $this->view->usr_form = $form;\n\n        if ($request->isPost()) {\n            $form->populate( $request->getPost() );\n            if (!$form->isValid($request->getPost())) {\n                $msg = sprintf('errore di validazione: %s ',\n                    json_encode($form->getErrors() )\n                    );\n                $this->view->SetMessage($msg,'error');\n            } else {\n\n                $LoginTable = new Application_Model_Login();\n                try {\n                    $login_id = $request->getPost( 'login_id' );\n\n                    $data = [\n                        'username'      => $request->getPost( 'username' ),\n                        'cod_fornitore' => $cod_fornitore = $request->getPost( 'cod_fornitore' ),\n                        'email'         => $request->getPost( 'email' ),\n                        'password_str'  => $request->getPost( 'password_str' ),\n                    ];\n                    $data['password'] = md5( $data['password_str'] );\n\n                    // salvataggio record\n                    $rec_id = $LoginTable->insert($data);\n\n                    $url_edit = $this->view->url([\n                        'cod_fornitore' => $cod_fornitore\n                        ], $r_name='fornitori_useredit' );\n\n                    $this->_helper->flashMessenger->addMessage( $msg='Salvataggio insert riuscito' );\n                    return $this->_redirect($url_edit);\n\n                } catch (Exception $e) {\n                    $fmt = 'Exception: <b>%s</b> line:%s file:%s<br> trace:<pre>%s</pre>';\n                    $msg = sprintf($fmt, $e->getMessage(),$e->getFile(), $e->getLine(), $e->getTraceAsString() );\n                    $this->view->SetMessage($msg, 'error');\n                }\n            }\n        }\n    }\n\n    public function usereditAction() {\n        $request = $this->getRequest();\n        $usr_form = new Application_Form_FornitoriUser();\n        $this->view->usr_form = $usr_form;\n        $cod_fornitore = $request->getParam('cod_fornitore', '');\n        if( !empty($cod_fornitore) ) {\n            $rec_fornitore = Application_Model_Login::findByCodFornitore($cod_fornitore);\n            if( empty($rec_fornitore) ) {\n                $this->view->SetMessage($msg='login non trovato', 'error');\n            }\n            $usr_form->populate( $rec_fornitore );// $data=$request->getPost()\n            $url_edit = $this->view->url([ 'cod_fornitore' => $cod_fornitore ], $r_name='fornitori_useredit' );\n            $usr_form->setAction($url_edit);\n        } else {\n            $this->view->SetMessage($msg='cod_fornitore deve essere valorizzato', 'error');\n        }\n        if ($request->isPost()) {\n            if (!$usr_form->isValid($request->getPost())) {\n                $msg = sprintf('errore di validazione: %s ', json_encode($usr_form->getErrors() ) );\n                $this->view->SetMessage($msg, 'error');\n            } else {\n                try {\n                    $login_id = $request->getPost( 'login_id' );\n                    $data = [\n                        'username'      => $request->getPost( 'username' ),\n                        'cod_fornitore' => $request->getPost( 'cod_fornitore' ),\n                        'email'         => $request->getPost( 'email' ),\n                        'password_str'  => $request->getPost( 'password_str' ),\n                    ];\n                    $data['password'] = md5( $data['password_str'] );\n                    //\n                    $LoginTable = new Application_Model_Login();\n                    $rec_id = $LoginTable->update($data, "cod_fornitore=$cod_fornitore");\n                    $this->view->SetMessage($msg='Salvataggio apdate riuscito', 'success');\n                } catch (Exception $e) {\n                    $this->view->SetMessage( $msg = $e->getMessage(), 'error');\n                }\n            }\n        }\n    }    \n}\n\n\n\n\n\n
types_|type_
array_intersect_|$is_contained = count( array_intersect($a_1, $a_2) );
ifc_|if( count($1) > 0 ) {\n}
html_menu_|// css3 only menu\nfunction html_menu(){\n\n \n\t\thtml, body {\n\t\t    // font-family: Arial, Helvetica, sans-serif;\n\t\t    margin: 0;\n\t\t    padding: 0;\n\t\t    background-color: #f9f9f9;\n\t\t}\n\t\t.menu {\n\t\t\tbox-sizing: border-box;\n\t\t    width: 100%;\n\t\t    z-index: 9999;\n\t\t    position: fixed;\n\t\t    background-color: #394555;\n\t\t}\n\t\t.menu h1 {\n\t\t\tbox-sizing: border-box;\n\t\t    margin: 0;\n\t\t    font-size: 26px;\n\t\t    display: inline-block;\n\t\t    float: left;\n\t\t\tline-height: 65px;\n\t\t    padding: 0 80px 0 80px;\n\t\t    color: #edf0f3;\n\t\t}\n\t\t.menu > ul {\n\t\t\tlist-style-type: none;\n\t\t    padding: 0;\n\t\t    margin: 0;\n\t\t    float: left;\n\t\t}\n\t\t.menu > ul ul {\n\t\t\tlist-style-type: none;\n\t\t\tdisplay: none;\n\t\t    padding: 0;\n\t\t    margin: 0;\n\t\t    position: absolute;\n\t\t    top: 100%;\n\t\t}\n\t\t.menu > ul > li {\n\t\t\tfloat: left;\n\t\t    display: inline-block;\n\t\t}\n\t\t.menu > ul li li {\n\t\t\tposition: relative;\n\t\t}\n\t\t.menu > ul > li:hover > ul {\n\t\t\tdisplay: block;\n\t\t}\n\t\t.menu > ul > li > ul li:hover > ul {\n\t\t\tdisplay: block;\n\t\t    top: 0;\n\t\t    left: 100%;\n\t\t}\n\t\t.menu a {\n\t\t\tdisplay: block;\n\t\t    padding: 25px 45px 25px 45px;\n\t\t    background-color: #394555;\n\t\t    box-sizing: border-box;\n\t\t    text-decoration: none;\n\t\t    color: #dadcdf;\n\t\t    font-weight: bold;\n\t\t    font-size: 14px;\n\t\t    min-width: 150px;\n\t\t    text-align: center;\n\t\t}\n\t\t.menu > ul > li > a {\n\t\t\tborder-right: 1px solid #2b3543;\n\t\t}\n\t\t.menu > ul > li:first-child > a {\n\t\t\tborder-left: 1px solid #2b3543;\n\t\t}\n\t\t.menu > ul > li > a:hover {\n\t\t\tbackground-color: #303a47;\n\t\t}\n\t\t.menu > ul ul li a {\n\t\t\tdisplay: block;\n\t\t    padding: 25px 45px 25px 45px;\n\t\t    background-color: #29323d;\n\t\t    box-sizing: border-box;\n\t\t}\n\t\t.menu > ul ul li a:hover {\n\t\t\tbackground-color: #1b2129;\n\t\t}\n\t\t.menu > ul ul ul ~ a::after {\n\t\t\tcontent: "";\n\t\t    position: absolute;\n\t\t    top: 0;\n\t\t    bottom: 0;\n\t\t    right: 15px;\n\t\t    margin: auto;\n\t\t    width: 0;\n\t\t    height: 0;\n\t\t    border-style: solid;\n\t\t    border-width: 6px 0 6px 6px;\n\t\t    border-color: transparent transparent transparent rgba(255,255,255,0.3);\n\t\t}\n\t\t.menu label,\n\t\t.menu input {\n\t\t\tdisplay: none;\n\t\t}\n\t\t@media screen and (max-width: 700px) {\n\t\t\t.menu ul {\n\t\t    \tdisplay: none;\n\t\t    }\n\t\t    .menu label {\n\t\t    \tdisplay: block;\n\t\t        float: right;\n\t\t        text-align: center;\n\t\t        width: 40px;\n\t\t        border-left: 1px solid #2b3543;\n\t\t        padding: 15px 25px 15px 25px;\n\t\t        opacity: 0.8;\n\t\t    }\n\t\t    .menu input:checked ~ ul {\n\t\t    \tdisplay: block;\n\t\t        top: 100%;\n\t\t        position: absolute;\n\t\t        width: 100%;\n\t\t        height: calc(100vh - 100%);\n\t\t        overflow-y: scroll;\n\t\t        overflow-x: hidden;\n\t\t    }\n\t\t\t.menu input:checked ~ ul li,\n\t\t    .menu input:checked ~ ul ul,\n\t\t    .menu input:checked ~ ul a {\n\t\t    \tposition: static;\n\t\t        display: block;\n\t\t        width: 100%;\n\t\t        top: 0;\n\t\t        left: 0;\n\t\t    }\n\t\t    .menu input:checked ~ ul ul ul ~ a::after {\n\t\t    \tborder: 0;\n\t\t    }\n\t\t    .menu a {\n\t\t    \tbackground-color: #29323d;\n\t\t    }\n\t\t}\n\t\t</style>\n \n\t\t<div class="menu">\n\t\t\t<h1>Title</h1>\n\t\t    <input type="checkbox" id="menu">\n\t\t    <label for="menu">\n\t\t    \t<img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAMFBMVEUAAAD///////////////////////////////////////////////////////////87TQQwAAAAD3RSTlMAAQ8TFB4fSV6Ag4Wt6/uDY192AAAAQElEQVQoz2NgIAiEXVCAAsP5/yjgOwMq//8vdIHfDO9RBX4y9KEKXGOgCUCz5SqmOzBciuEXDN9ihAc1wGANZAAX+vf+Xu8gUwAAAABJRU5ErkJggg==" width="32" height="32" alt="">\n\t\t    </label>\n\t\t    <ul>\n\t\t    \t<li><a href="#">Home</a></li>\n\t\t        <li>\n\t\t            <ul>\n\t\t            \t<li><a href="#">Link 1</a></li>\n\t\t                <li><a href="#">Link 2</a></li>\n\t\t                <li>\n\t\t                    <ul>\n\t\t                    \t<li>\n\t\t                        \t<ul>\n\t\t                            \t<li><a href="#">Link 1</a></li>\n\t\t                                <li><a href="#">Link 2</a></li>\n\t\t                                <li><a href="#">Link 3</a></li>\n\t\t                            </ul>\n\t\t                        \t<a href="#">Links</a>\n\t\t                        </li>\n\t\t                    </ul>\n\t\t                \t<a href="#">Links</a>\n\t\t                </li>\n\t\t            </ul>\n\t\t        \t<a href="#">Links</a>\n\t\t        </li>\n\t\t        <li><a href="#">About</a></li>\n\t\t    </ul>\n\t\t</div>\t\n\t\n\n}
whoami_|if( ($usr=trim(`whoami`)) != 'www-data' ){\n    die("$usr invalid, run as www-data \\n");\n}\nfunction check_user(){\n    $current_user = trim(`whoami`);\n    // permetto più utenti per il testing, ma per i permessi sui log files, l'ideale è lanciare lo script con www-data\n    if (!in_array($current_user, ['www-data'])) {\n        $msg = "lanciare con utente www-data(current:$current_user):\\n" .\n        "sudo -u www-data {$_SERVER['argv']} \\n\\n";\n        throw new Exception($msg);\n    }\n}
object_|\\stdClass\n:object // typehint since 7.2
glob_|$dir = __DIR__.'/../public/images/';\nforeach( glob($dir.'*.jpg') as $file_path ) {\n    echo sprintf("%s size:%s Y:%s\\n", $file_path, filesize($file_path), date('Y',filemtime($file_path)) );\n}\n// only dirs\nforeach( array_filter(glob($dir.'/*'), 'is_dir') as $dir_path){}\n// per grandi quantità di files su fs lento @see dir_process_
apc_|cache_
table_a_|\n//\n// genera tabella\n// uso:\n// HTable([ ['name'=>'test'] ] );\n//\n$_build_table = function (array $a_rs, $data_mapper = null, array $opt = []) {\n    // se non viene passato un mapper ne assegno uno di default\n    if (!$data_mapper) {\n        $data_mapper = function ($rec) {\n            return $rec;\n        };\n    }\n    // options\n    $option = array_merge([\n        'id' => 'table_1',\n        'css' => ' table-condensed table-bordered table-striped ',\n        'responsive' => false,\n        'row_css_class' => function($a_row){ return ''; },\n    ], $opt);\n    extract($option);\n    // classe NMT\n    $css .= $responsive ? 'no-more-tables-orders cf ' : '';\n    // genera tabella\n    $html_table = '';\n    if (!empty($a_rs)) {\n\t$data = array_map($data_mapper, $a_rs);\n            $first_index = current(array_keys($data));\n\n            $tmpl = '<table class="table %s " id="%s">\n            <thead>%s</thead>\n            <tbody>%s</tbody>\n            </table>';\n            // deduce una caption da un nome campo\n            $mk_cap = function ($s) {\n                return ucwords(str_replace('_', ' ', trim($s)));\n            };\n            // deduce una caption da un nome campo + order_by\n            $mk_cap_orderby = function (string $col): string{\n                $col_f = ucwords(str_replace('_', ' ', trim($col)));\n                $od = (string) h_get($_GET, 'od', '');\n                $ob = (string) h_get($_GET, 'ob', '');\n                // inversione a ogni richiesta del ordinamento\n                if ($od) {\n                    $od = $od == 'asc' ? 'desc' : 'asc';\n                } else {\n                    $od = 'asc';\n                }\n                $url = '?' . http_build_query(array_merge($_GET, ['ob' => $col, 'od' => $od]));\n                $html_arrow = ' ';\n                if ($ob === $col) {\n                    $html_arrow = ($od == 'asc' ? '&uarr;' : '&darr;');\n                }\n                $html = sprintf('<a href="%s">%s %s</a>', $url, $col_f, $html_arrow);\n                return $html;\n            };\n            // alignment:\n            //1. Numerical data is right-aligned\n            //2. Textual data is left-aligned\n            //3. Headers are aligned with their data\n            //4. Don’t use center alignment.\n            $td_css = function ($v) {\n                $contains_euro = strpos($v, '&euro;') !== false;\n                $td_css = is_numeric($v) || $contains_euro ? 'numeric' : '';\n                return $td_css;\n            };\n            $cap_css = function ($col) use ($data, $td_css) {\n                $a = current($data);\n                $v = $a[$col];\n                return $td_css($v);\n            };\n            //\n            $html_table = sprintf($tmpl,\n                $css,\n                $id,\n                // genera head\n                $s_tr_th = sprintf('<tr>%s</tr>',\n                    implode('',\n                        array_map(function ($col) use ($mk_cap, $cap_css) {\n                                if( '_' == substr($col,0,1) ) return '';\n                                return sprintf('<th class="%s">%s</th>', $cap_css($col), $mk_cap($col));\n                        }, $a_cols = array_keys($data[$first_index])))\n                    ),\n\n                // genera tr\n                $s_tr_mov = implode('',\n                    $a_tr = array_map(function ($a_row) use ($td_css, $mk_cap, $row_css_class) {\n                            return sprintf('<tr class="%s" >%s</tr>',\n                                $row_css_class($a_row),\n                                $s_td = implode('', array_map(function ($v, $col) use ($td_css, $mk_cap) {\n                                        if( '_' == substr($col,0,1) ) return '';\n                                        return sprintf('<td data-title="%s" class="%s">%s</td>', $mk_cap($col), $td_css($v), $v);\n                                }, array_values($a_row), array_keys($a_row)))\n                                );\n                    }, $data)\n                    )\n                );\n    } else {\n        $html_table = $V->alert('nessun record trovato per i parametri selezionati');\n    }\n    return $html_table;\n};\n//ENT_QUOTES : Converte sia gli apici doppi sia gli apici singoli. produce XHTML valido, parsabile per PDF\n$escape = function ($str) {\n    return htmlentities($str, ENT_QUOTES, 'UTF-8');\n};\n$a_data = [['a' => 1], ['a' => 2]];\n$html_table = $_build_table($a_data,\n    // inviare dati già trattati con escape come necessario\n    // data mappings\n    $data_mapper = function ($a_row) {\n        return [\n            'Nome Campo' => $a_row['a'],\n        ];\n    });\necho $html_table;\n\n\n\n\n\n\n/* extra\n// datatables\n$html_table .= <<<__END__\n        <link rel="stylesheet" href="https://cdn.datatables.net/1.10.12/css/jquery.dataTables.min.css">\n        <script type="text/javascript" src="https://cdn.datatables.net/1.10.12/js/jquery.dataTables.min.js"></script>\n        <script >\n        $(document).ready(function(){\n        $('#table_1').DataTable({\n        "paging":     true,\n        "ordering":   false,\n        "info":       false,\n        "scrollY":    500,\n        "scrollX":    false,\n        "pagingType": "full_numbers",\n        "lengthMenu": [10,20,50,100],\n        "pageLength": 50\n        });\n        });\n        </script>\n__END__;\n// jq on click tr, select\n$html_table .= <<<__END__\n        <script >\n        $("table.table-condensed tr").click(function() {\n            var selected = $(this).hasClass("highlight");\n            $("#data tr").removeClass("highlight");\n            if(!selected) $(this).addClass("highlight");\n        });\n        </script>\n__END__;\n// @see css frameworks of chioce\n$html_table .= <<<__END__\n        <style>\n        table.table-condensed {\n        font-family: verdana,arial,sans-serif;\n        font-size: 11px;\n        color: #333333;\n        border-collapse: collapse;\n        border: 1px solid #666666;\n        }\n        table.table-condensed th, table.table-condensed td {\n        border: 1px solid #666666;\n        padding: 8px;\n        text-align:left;\n        }\n        table.table-condensed th { background-color: #dedede; }\n        table.table-condensed td { background-color: #ffffff; }\n        table.numeric { text-align:right; }\n        table.highlight { background-color: #f1f1f1; font-weight:bold; }\n//        \n// different style\ntable {\n\tborder-collapse: collapse;\n}\ntable td, table th  {\n\tpadding: 0.5em;\n}\ntable thead th {\n\tbackground-color: #54585d;\n\tcolor: #ffffff;\n\tfont-weight: bold;\n\tborder: 1px solid #54585d;\n}\ntable tbody td {\n\tcolor: #636363;\n\tborder: 1px solid #dddfe1;\n}\ntable tbody tr {\n\tbackground-color: #f9fafb;\n}\ntable tbody tr:nth-child(odd) {\n\tbackground-color: #ffffff;\n}\n</style>\n__END__;\n\n\n// jquery filtering functionality\n$html_table .= <<<__END__\n<input id="myInput" type="text" placeholder="Search..">\n<script>\n$(document).ready(function(){\n  $("#myInput").on("keyup", function() {\n    var value = $(this).val().toLowerCase();\n    $("#$id tr").filter(function() {\n      var found = $(this).text().toLowerCase().indexOf(value) > -1;\n      $(this).toggle( found )\n    });\n  });\n});\n__END__;\n*/\n
filter_wl_|whitelist_
constants_|echo '<pre>',var_dump( get_defined_constants(true) ),'</pre>'; // DEBUG\ndie(__FILE__.''.__FUNCTION__);
lf_|"\\n"
ol_|<ol class="">\n\|</ol>
str_contains_any_|// true if any of a_str match\nfunction str_contains_any($str, array $a_str) {\n                foreach($a_str as $substring) {\n                    if (stripos($str, $substring) !== false){\n                        return true;\n                    }\n                }\n                return false;\n}
pdo_mysql_|// @see PDO_\n$sql = 'select Username from Users where UserId = ? or Username = ? limit ?';\n\ntry{\n    // Create a new connection.\n    // You'll probably want to replace hostname with localhost in the first parameter.\n    // Note how we declare the charset to be utf8mb4.  This alerts the connection that we'll be passing UTF-8 data.  This may not be required depending on your configuration, but it'll save you headaches down the road if you're trying to store Unicode strings in your database. \n    // The PDO options we pass do the following:\n    // \\PDO::ATTR_ERRMODE enables exceptions for errors.  This is optional but can be handy.\n    // \\PDO::ATTR_PERSISTENT disables persistent connections, which can cause concurrency issues in certain cases.  See "Gotchas".\n    $link = new \\PDO( 'mysql:host=your-hostname;dbname=your-db;charset=utf8mb4',\n                      'your-username',\n                      'your-password',\n                      [\n                            \\PDO::ATTR_ERRMODE => \\PDO::ERRMODE_EXCEPTION,\n                            \\PDO::ATTR_PERSISTENT => false\n                      ]\n                    );\n\n    $handle = $link->prepare($sql); \n    // PHP bug: if you don't specify PDO::PARAM_INT, PDO may enclose the argument in quotes.  This can mess up some MySQL queries that don't expect integers to be quoted.\n    // See: https://bugs.php.net/bug.php?id=44639\n    // If you're not sure whether the value you're passing is an integer, use the is_int() function.\n    // (This bug was fixed in Oct. 2016, but the fix is not applied to the version of PHP used in this document; see https://bugs.php.net/bug.php?id=73234)\n    $handle->bindValue(1, 100, PDO::PARAM_INT);\n    $handle->bindValue(2, 'Bilbo Baggins');\n    $handle->bindValue(3, 5, PDO::PARAM_INT);\n    $handle->execute();\n    // Using the fetchAll() method might be too resource-heavy if you're selecting a truly massive amount of rows.\n    // If that's the case, you can use the fetch() method and loop through each result row one by one.\n    // You can also return arrays and other things instead of objects.  See the PDO documentation for details.\n    $result = $handle->fetchAll(\\PDO::FETCH_ASSOC);\n    foreach($result as $row){\n        print_r( $row );\n    }\n} catch(\\PDOException $ex){\n    print($ex->getMessage());\n}\n
phpunit_assert_true_|$this->assertTrue($val);
rand_|$_rand = function(int $min, int $max):int {\n\t// $max = mt_getrandmax();\n    return PHP_VERSION_ID >= 70000 ? random_int($min,$max) : rand($min, $max);// $min e $max compresi\n};\n// tira un dado da 100, se inferiore a $perc usa $yes_val altrimenti $no_val\n/**\n * @param $yes_val mixed\n * @param $no_val mixed\n */\n$_rand_def = function ( int $perc, $yes_val, $no_val = '') {\n    $is_perc = rand(1, 100) < $perc;\n    return ($is_perc) ? $yes_val : $no_val;\n};\n$rn = $_rand(0, 99 );
html5_cache_|then we will create index.appcache file with below codes\n\nCACHE MANIFEST\nindex.html
datetime_|date_time_
nl2br_|$html = nl2br( $html );
js_redirect_|setTimeout(function(){\n                  window.location = '/';\n}, (3*1000) );//3s
svprintf_|vsprintf_
spl_exceptions_|Exception\nErrorException\nError\nArithmeticError\nAssertionError\nDivisionByZeroError\nParseError\nTypeError\n// spl\nBadFunctionCallException\nBadMethodCallException\nDomainException\nInvalidArgumentException\nLengthException\nLogicException\nOutOfBoundsException\nOutOfRangeException\nOverflowException\nRangeException\nRuntimeException\nUnderflowException\nUnexpectedValueException
sapi_|php_sapi_name_
argv_|$_1 = h_get($_SERVER['argv'], 1, '');\nargv_main_\n
df_|// df parser\nfunction df($partition) {\n    if (!is_readable($partition)) {\n        die("unreadable $aprt path \\n");\n    }\n    $cmd = "df -h $partition";\n    $res = `$cmd`;\n    $res = trim($res);\n    $res = str_replace($sub = 'Mounted on', $re = 'Mounted_on', $res);\n    $res = str_replace($sub = 'Montato su', $re = 'Mounted_on', $res);\n    $res = str_replace($sub = 'Uso%', $re = 'Size', $res);\n    $res = str_replace($sub = 'File system', $re = 'filesystem', $res);\n    // echo "$cmd =>\\n$res \\n";\n    $a_lines = explode("\\n", $res);\n    //\n    $a_lines_m = array_map(function ($val) {\n        return explode(' ', str_replace_all($sub = '  ', $re = ' ', $val));\n    }, $a_lines);\n    // se la prima riga contine le chiavi dei campi, trasforma l'array<array<string> >\n    // in un array<hash>  usando i campi della prima riga come chiavi\n    $_array_head_to_h = function ($data) {\n        $a_first_row = array_shift($data); //first arg\n        $data2 = [];\n        foreach ($data as $i => $a_row) {\n            $h_raw = [];\n            foreach ($a_first_row as $i => $k) {\n                $k = strtolower($k);\n                $h_raw[$k] = $a_row[$i];\n            }\n            $data2[] = $h_raw;\n        }\n        return $data2;\n    };\n    $result = $_array_head_to_h($a_lines_m)[0];\n    //\n    if ($partition === $result['filesystem']) {\n        // ok\n    } else {\n        // not ok\n        // println('fs %s do not seems to be mounted', $fs);\n    }\n    return $result;\n}\n// $_print_disk_stats = function () use($result) {\n//         println( sprintf(\n//             'Disk stats { size:%s used:%s avail:%s perc:%s%% }',\n//             $result['size'], $result['used'], $result['avail'], $result['use%']\n//         ));\n// };\n\n\n
type_array_scalar_|/** @param string[] $arr */
zf_route_|$router->addRoute('route_name',\n    new Zend_Controller_Router_Route(\n        'user/:username',\n        [\n            'controller' => 'user',\n            'action'     => 'info',\n        ]\n    )\n);
select_a_|$select_val  = 'M1';\n$select_name = 'i_cdlis';\n$a_options = ['M1' => 'M1', 'S0' => 'S0'];\n$_build_select = function($a_options, $select_val, $select_name ){\n    $a_options = array_map(function($k, $v) use($select_val) {\n        return sprintf('<option value="%s" %s>%s</option>', $v, ($select_val == $v ? 'selected':''), $k);\n    } , array_keys($a_options), array_values($a_options) );\n    $html_options = implode("\\n", $a_options );\n    $html_select = sprintf('<select name="%s" style="width:50px;">%s</select>', $select_name, $html_options);\n    return $html_select;\n};\necho $_build_select($a_options, $select_val, $select_name );\n\n$js = <<<__END__\n<script>\n    // filterable select\n    //\n    // filterSelectByText( $('#select_client_id') ,$('#customer_search') );\n    function filterSelectByText(el_select:JQuery, el_textbox:JQuery) {\n        var options: Array<Hash> = [];\n        if( el_select.data('options')   ) {\n            // options are already available\n            options = el_select.data('options');\n        } else {\n            // init option data from HTML\n            el_select.find('option').each( (index: number, elem: Element) => {\n                    var el_opt:JQuery = $( elem );//$(this);\n                    options.push({\n                            value: el_opt.val(),\n                            text:  el_opt.text()\n                    });\n            });\n            el_select.data('options', options);\n        }\n        //\n        el_textbox.bind('change keyup', (eventObject: JQueryEventObject) => {\n                var el_txt:JQuery =  $( eventObject.target ); // $(this);\n                var options:Array<Hash> = el_select.empty().data('options');\n                var search = $.trim(el_txt.val());\n                var regex = new RegExp(search, "gi");\n                $.each(options, function(i) {\n                        var option = options[i];\n                        if (option.text.match(regex) !== null) {\n                            el_select.append(\n                                $('<option>').text(option.text).val(option.value)\n                            );\n                        }\n                });\n                if( el_select.find('option').length == 0 ) {\n                    el_select.append( $('<option>').text("nothing found")  );\n                }\n        });\n    }\n</script>\n__END__;\n// cute select / reset\n$css = <<<__END__\nselect {\n    display: inline-block;\n    position: relative;\n    font-weight: 400;\n    color: #444;\n    line-height: 1.3;\n    border: 1px solid #bbb;\n    padding: 7px 24px 7px 9px;\n    width: 100%;\n    max-width: 100%;\n    box-sizing: border-box;\n    margin: 0;\n    border-radius: 1px;\n    -moz-appearance: none;\n    -webkit-appearance: none;\n    appearance: none;\n    background: #fff url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMDkuMTU2IDMwOS4xNTYiPgogIDxwYXRoIGZpbGw9IiMzMzMiIGQ9Ik0yODguNDYxIDY0LjkyOUwxNTQuNTg5IDIwMi43NjYgMjAuNzIzIDY0Ljk0IDAgODUuMDdsMTU0LjU4OSAxNTkuMTU4TDMwOS4xNTYgODUuMDd6Ii8+Cjwvc3ZnPgo=") no-repeat scroll 0 50%/contain;\n    background-position: right .7em top 50%, 0 0;\n    background-size: .75em auto, 100%\n}\nselect::after {\n    display: block;\n    content: 'xxx';\n    width: 8px;\n    height: 8px;\n    border: 1px solid red;\n    right: 10px;\n    top: 50%\n}\nselect::-ms-expand {\n    display: none\n}\nselect:hover {\n    border-color: #888\n}\nselect:focus {\n    border-color: #aaa;\n    box-shadow: 0 0 0 3px -moz-mac-focusring;\n    color: #222;\n    outline: none\n}\nselect option {    font-weight: normal}\n__END__;\n\n\n
alert_|zenity --info --text="Calculation complete"
mail_swift_|// swift wrapper\nclass XX_Mail {\n    // wrapper sulla funzione di mailing\n    // $to is string or string[]\n    public static function send($to, $subject, $html, $file_path = null) {\n        // composer require "swiftmailer/swiftmailer:~5.4.0"\n        require_once __DIR__ . '/../vendor/autoload.php';\n        // DBG file log\n        $log_path = sprintf(DIR_LOG . '/mail_%s.log', date('my'));\n        $d = date('Y-m-d H:i:s') . " " . json_encode($to) . " \\n";\n        $log_txt = '';\n        $log_txt .= $d . "\\n";\n        $log_txt .= $subject . "\\n";\n        $log_txt .= $html . "\\n";\n        $log_txt .= "file:" . (is_string($file_path) ? $file_path : get_class($file_path));\n        $log_txt .= "\\n------------\\n\\n";\n        //\n        file_put_contents($log_path, $log_txt, $log_append = (FILE_APPEND | LOCK_EX));\n        //------------------------------------------------------------------\n        // Create the Mailer using your created Transport mail\n        $transport = \\Swift_MailTransport::newInstance();\n        // Create the message\n        $message = \\Swift_Message::newInstance($transport);\n        // Give the message a subject\n        $message->setSubject($subject);\n        // Set the From address with an associative array\n        $message->setFrom(['info@caleffigroup.it' => 'info@caleffigroup.it']);\n        $message->setTo($to);\n        // ATTENZIONE: accetta un solo indirizzo TO!\n        // non usare gmail perché non accetta mail da siti senza record SPF\n        // if ($to != 'username@dmsweb.it') {\n        //     $message->setTo('username@dmsweb.it');\n        // }\n        // Give it a body\n        $message->setBody($txt = strip_tags($html));\n        // And optionally an alternative body\n        $message->addPart($html, 'text/html');\n        // add any attachments\n        if (!empty($file_path)) {\n            if (is_string($file_path)) {\n                $message->attach(\\Swift_Attachment::fromPath($file_path));\n            } elseif (is_object($file_path)) {\n                // \\Swift_Attachment::fromPath($file_path)->setFilename('CV.pdf')\n                $message->attach($file_path);\n            }\n        }\n        //\n        // different transport\n        //    $transport = \\Swift_SmtpTransport::newInstance('smtp.example.org', 25)\n        //    ->setUsername('your username')\n        //    ->setPassword('your password')\n        //\n        $mailer = \\Swift_Mailer::newInstance($transport);\n        $result = $mailer->send($message);\n        return $result;\n    }\n    static function send_SMTP(){\n                $gmail_notice = "\\n\\n\\n--\\n* inviato via Gmail Server";\n                $transport = Swift_SmtpTransport::newInstance('smtp.gmail.com', 465, 'ssl')\n                    ->setUsername('sales.ipcsolutions@gmail.com')\n                    ->setPassword('Cristina1009');\n                $mailer = Swift_Mailer::newInstance($transport);\n                $message = Swift_Message::newInstance($subject)\n                    ->setFrom(array("webmaster@{$_SERVER['SERVER_NAME']}")) // è richiesto per l'invio\n                    ->setTo($to) // es. array('devsmt@gmail.com')\n                    ->setBody($txt . $gmail_notice);\n                $numSent = $mailer->send($message);\n\n    }\n}
float_|str_to_float_
valid_|validate_
ord_|$i = ord($s);// ascii alpha to int\n\n\n// ispeziona una str per trovare caratteri che diano problemi in output\n        $_str_sanitize = function ($str) {\n            $r = '';\n            $a_in = str_split($str);\n            foreach ($a_in as $c) {\n                // ascii alpha to int\n                $i = ord($c);\n                // 0-32 128-254 non stampabili\n                // 33-127 stampabili\n\t\tif ( 10==$i || ($i >= 32 && $i <= 127) ) {\n                    $r .= $c; // solo caratteri visibili e innocui\n                } else {\n                    // $r .= sprintf('@%s@', $i);// char che possono dare problemi\n                }\n            }\n            return $r;\n        };\n        $text = $_str_sanitize($text);\n\n\nfunction javascript_escape($str) {\n    $new_str = '';\n    for ($i = 0; $i < strlen($str); ++$i) {\n        if (ord(substr($str, $i, 1)) == 10) {// 10:\\n\n            $new_str .= '\\n';\n        } elseif (ord(substr($str, $i, 1)) == 13) {//13:\\r\n            $new_str .= '\\r';\n        } else {\n            $new_str .= $str[$i];\n        }\n    }\n    $new_str = str_replace("'", "\\\\'", $new_str);\n    return $new_str;\n}
assert_char_|if( !ctype_alnum($s) || 8 >= strlen($s) ) {\n    throw new Exception("VARNAME deve essere in formato stringa, '$s' ricevuto ");\n}
zf_forward_|// $this->_helper->flashMessenger->addMessage('confirm msg');\nreturn $this->_forward($action="index");
is_stringable_|is_scalar_
_reject_|// Return an array where the items failing the truth test (iterator) are removed.\n$a_data = __::reject( [1, 2, 3, 4], function($num) { return $num % 2 === 0; }); \n// => array(1, 3)
var_dump_str_|$_var_dump = function ($var): string {\n    ob_start();\n    var_dump($var);\n    return $dump = ob_get_clean();\n};
ex_|throw_
zf_url_|$url_1 = $V->url($par=['username' => 'aa'], $r_name='default', $reset=true);\n$url_2 = $V->url2('customer', 'index', null, ['page'=>$page_n]);
array_compare_|$a_eq = ($a == $b); // TRUE if $a and $b have the same key/value pairs.\n$a_eq = ($a === $b); // TRUE if $a and $b have the same key/value pairs in the same order and of the same types.\n\n// use array_values($a) == array_values($b)\n// unique values, so remember that exist array_unique()\n// two indexed arrays, which elements are in different order, using $a == $b or $a === $b fails, for example:\n// (array("x","y") == array("y","x")) === false;\n// basic comparison works for associative arrays but will not work as expected with indexed arrays\n// to compare either of them\nfunction array_equal($a, $b) {\n    return (\n         is_array($a) && is_array($b) && \n         count($a) == count($b) &&\n         array_diff($a, $b) === array_diff($b, $a)\n    );\n}\n\n// comparazione di array associativi\nfunction dictionary_equal($a, $b) {\n  $rksort = function ($a) {\n  if (!is_array($a)) {\n    return $a;\n  }\n  foreach (array_keys($a) as $key) {\n    $a[$key] = ksort($a[$key]);\n  }\n  // SORT_STRING seems required, as otherwise\n  // numeric indices (e.g. "0") aren't sorted.\n  ksort($a, SORT_STRING);\n  return $a;\n  };\n  return json_encode($rksort($a)) === json_encode($rksort($b));\n}\n\nfunction array_is_dictionary(array $array) {\n  return count(array_filter(array_keys($array), 'is_string')) > 0;\n}
type_RS_|/** \n * @return array<string, array<string, mixed> >\n * @return list< array<array-key, mixed> >  \n */
captcha_recaptcha_|https://developers.google.com/recaptcha/docs/display\n     <script src="https://www.google.com/recaptcha/api.js" async defer></script>\n      <div class="g-recaptcha" data-sitekey="your_site_key"></div>\n\n\n// example 2 with Arcanedev\\NoCaptcha\n<?php\nrequire_once(__DIR__ . '/../vendor/autoload.php');\nuse Arcanedev\\NoCaptcha\\NoCaptcha;\n$secret  = 'your-secret-key';\n$sitekey = 'your-site-key';\n$captcha = new NoCaptcha($secret, $sitekey);\nif ( ! empty($_POST)) {\n    $response = $_POST[NoCaptcha::CAPTCHA_NAME];\n    $result   = $captcha->verify($response);\n    echo $result === true\n        ? 'Yay ! You are a human.'\n        : 'No ! You are a robot.';\n    exit();\n}\n?>\n\n<form method="POST">\n    <?php echo $captcha->display(); ?>\n    <button type="submit">Submit</button>\n</form>\n\n<?php echo $captcha->script(); ?>\n
ok_|ok($result, $expected, $label); // test_
str_fmt_secs_|//\nfunction secs_to_human($secs) {\n    $bit = array(\n        'y' => $secs / 31556926 % 12,\n        'w' => $secs / 604800 % 52,\n        'd' => $secs / 86400 % 7,\n        'h' => $secs / 3600 % 24,\n        'm' => $secs / 60 % 60,\n        's' => $secs % 60\n        );\n    $ret = [];\n    foreach($bit as $k => $v){\n        if($v > 0){\n            $ret[] = $v . $k;\n        }\n    }\n    return join(' ', $ret);\n}
banchmark_|profile_
psalm_return_RS_|/**\n * @return list< array<array-key, mixed> >\n */\n
dto_|DTO_
a__|array 
array_first_def_|//\n// if( empty( $1) ) return; // works only if array has alements\n// se hash o vector\n$first_key = array_keys( $1 )[0];\n$_val = $1[$first_k];\n/// v2, se vector\n$_val = array_values($1)[0];\n\n\n// polifill\n    if (!function_exists('array_key_first')) {\n        function array_key_first(array $array) { foreach ($array as $key => $value) { return $key; } }\n    }\n    if (!function_exists('array_key_last')) {\n        function array_key_last(array $array) { $key = null; foreach ($array as $key => $value); return $key; }\n    }\n\n\n// Return the first element in an array passing a given truth test.\n/**\n * @return mixed\n * @param mixed $default\n */\nfunction array_first(array $array, callable $callback = null, $default = null) {\n    if (is_null($callback)) {\n        if (empty($array)) {\n            return $default;\n        }\n        // return the first item\n        /** @psalm-suppress MixedAssignment  */\n        foreach ($array as $item) {\n            return $item;\n        }\n    }\n    /** @psalm-suppress MixedAssignment  */\n    foreach ($array as $key => $value) {\n        if ($callback) {\n            $r = call_user_func($callback, $value, $key);\n            if ($r) {\n                return $value;\n            }\n        }\n    }\n    return $default;\n}\n\n
str_like_|// testa l'aderenza di una stringa $str al pattern POSIX/SQL specificato\n            function str_like(string $s_pattern, string $str): bool{\n                $_str_replace_all = function ($s_sub, $s_re, $str) {\n                    do {\n                        $str = str_replace($s_sub, $s_re, $str, $c);\n                    } while ($c > 0);\n                    return $str;\n                };\n                // to convert your patterns to regex, place a ^ at the beginning, and a $ at the end, then replace * with .* and escape .s.\n                // 'goo*',       =>  preg_match('#^goo.*$#','google.com')\n                // '*gl*',       =>  preg_match('#^.*gl.*$#', 'google.com');\n                // 'google.com', =>  preg_match('#^google\\.com$#', 'google.com')\n                $_pattern_2_regex = function ($s_pattern) use ($_str_replace_all) {\n                    // => '#^goo.*$#'\n                    $regex = preg_quote($s_pattern);\n                    // caratteri che vengono escaped:   . \\ + * ? ^ $ [ ] ( ) { } < > = ! | :\n                    $regex = "/^$regex$/i";// case insensitive\n                    $regex = $_str_replace_all($sub = '\\*', $re = '(.*)', $regex);\n                    $regex = $_str_replace_all($sub = '%', $re = '(.*)', $regex);\n                    return $regex;\n                };\n                $regex = $_pattern_2_regex($s_pattern);\n                $r = preg_match($regex, $str, $a_matches );\n                if (true) {\n                    unset( $a_matches[0]);\n                    echo "$regex $r ".json_encode(array_values($a_matches))."\\n";\n                }\n                return $r == 1;\n            }\n            function test_str_like() {\n                ok(str_like('google.com', 'google.com'), true, 'equal');\n                ok(str_like('g*gle.com', 'google.com'), true, 'parts');\n                ok(str_like('*oo*le.com', 'google.com'), true, 'parts');\n                ok(str_like('goo*', 'google.com'), true, '1');\n                ok(str_like('*gl*', 'google.com'), true, '2');\n                ok(str_like('google.com', 'google.com'), true, '3');\n                ok(str_like('zzz', 'google.com'), false, '4');\n                // sql like\n                ok(str_like('goo%', 'google.com'), true, 'sql_like 1');\n                ok(str_like('g%.com', 'google.com'), true, 'sql_like 3');\n                ok(str_like('%gl%', 'google.com'), true, 'sql_like 2');\n                //\n                ok(str_like('G%.COM', 'google.com'), true, 'case insensitive');\n            }\n            test_str_like();
parse_float_|floatval_
floatval_|str_to_float_
clamp_|filter_boundary_
template_|template_php_\ntemplate_str_
filter_char_|filter_str_
twb_btn_|twb_button_
ifa_|if( !in_array($key, $a_list) ){\n\|}
mb_trim_|function mb_trim($string, $trim_chars = '\\s'){\n    return preg_replace('/^['.$trim_chars.']*(?U)(.*)['.$trim_chars.']*$/u', '\\\\1',$string);\n}
psalm_param_|/** @param array $1 $a_xxx */
profile_|//--- DBG -----------------------------------------------------------\n// define profile macro\n$__profile = function ( $label, \\Closure $op) {\n    $mt_begin=microtime(true);\n    $res = $op();\n    echo sprintf('<pre>[%s] time:%F ms</pre>',\n        $label,\n        microtime(true)-$mt_begin\n    );\n    return $res;\n};\n//--- end DBG ------------------------------------------------------   \n$__op_result__ = $__profile('__LABEL__', function() use($V) {\n    return __the_operation__; \n} );\nmicrotime_\n\n\n// profiler class\n/*\nProf::open('foo');\nsleep(1);\nProf::open('bar');\nsleep(2);\nProf::close('bar');\nsleep(1);\nProf::close('foo');\nProf::dump();\ndie();\nclass Prof {\nstatic $times = [];\nstatic function open($flag) {\nif (! array_key_exists($flag, self::$times)){\nself::$times[$flag] = [ 'total' => 0, 'open' => 0 ];\n}\nself::$times[$flag]['open'] = microtime(true);\n}\nstatic function close($flag) {\nif (isset(self::$times[$flag]['open'])) {\nself::$times[$flag]['total'] += (microtime(true) - self::$times[$flag]['open']);\nunset(self::$times[$flag]['open']);\n}\n}\nstatic function dump() {\n$dump = [];\n$sum  = 0;\nforeach (self::$times as $flag => $info) {\n$dump[$flag]['elapsed'] = $info['total'];\n$sum += $info['total'];\n}\nforeach ($dump as $flag => $info) {\n$dump[$flag]['percent'] = round( ($dump[$flag]['elapsed']/$sum)*100, 2);\n}\nvar_dump( $dump );\n}\n}\n*/
reflection_|$reflect = new ReflectionClass($this);\n$props   = $reflect->getProperties(ReflectionProperty::IS_PUBLIC | ReflectionProperty::IS_PROTECTED);\nforeach ($props as $prop) {\n    print $prop->getName() . "\\n";\n}
date_compare_|public function isToShowMessageOfListinoChange(DateTime $d_now ) {\n            $d_exp = new DateTime('2016-11-20');\n            // comparison operator on dates, php 5.2.2\n            if ($d_now <= $d_exp) {\n                return true;\n            } else {\n                return false;\n            }\n        }\n
pthreads_|http://nl1.php.net/manual/en/class.thread.php\n\necho "extension=pthreads.so" >> /etc/php.ini\npecl install pthreads\n\nnamespace {\n\n    // http://php.net/manual/en/book.pthreads.php\n    class AsynchMail extends Thread {\n        private $_mail_from;\n        private $_mail_to;\n        private $_subject;\n\n        public function __construct($subject, $mail_to ) {\n            $this->_subject = $subject;\n            $this->_mail_to = $mail_to;\n            // ...\n        }\n        // ...\n        // you must redefine run() method, and to execute it we must call start() method\n        public function run() {\n            // here put your mail() function\n            echo sprintf('%s %s ', $this->_mail_to, $this->_subject );\n        }\n    }\n    // test:\n    $mail_to_list = ['devsmt@gmail.com', 'tazio.mirandola@gmail.com.com' ];\n    foreach($mail_to_list as $mail_to) {\n        $asynchMail = new AsynchMail($mail_to);\n        $asynchMail->start();\n    }\n\n}
filter_|filter_str_#$1#\nfilter_float_#$1#\nfilter_int_#$1#\nfilter_decimal_#$1#\n// ctype_#$1#\n// preg_replace_#$1#\n// filter_html_#$1#\n// filter_wl_\n// filter_email_\n
todo_|// TODO:
html_tidy_|tidy_
_max_|$a_recs =array(  array( 'age'=>60 )  );\n$max = __::max($a_recs, function($rec) { return $rec['age']; });
sql_explain_|sql_is_valid_
socket_|// crea una connessione al socket di XDBG\n$sock = socket_create(AF_INET, SOCK_STREAM, 0);\nsocket_bind($sock, $address= '127.0.0.1', $port=9000 ) or die('Unable to bind');\nsocket_listen($sock);\n$client = socket_accept($sock);\necho "connection established: $client";\nsocket_close($client);\nsocket_close($sock);\n\n\n\n
__call_|function __call($name, $args){\n  echo "no def: $name  arity: ".count($args)."\\n";\n}
twb_close_|<button type="button" class="close" aria-label="Close"><span aria-hidden="true">&times;</span></button>
html_to_pdf_|function html_to_pdf(string $html_path, string $pdf_path):bool {\n            $bin_path = ENV::getBinPath();\n            if (file_exists($html_path)) {\n                // la creazione è abbastanza veloce da non necessitare di files intermedi\n                $pdf_opts = "--footer-right \\"Pagina [page] di [toPage]\\"";\n                $cmd = "$bin_path/wkhtmltopdf-amd64 --quiet $pdf_opts $html_path $pdf_path 2>&1";\n                $res = `$cmd`;\n                if (!\\Bootstrap::isEnvDev()) {\n                    $res_unlink = unlink_safe($html_path);\n                }\n                // TODO: verificare che il comando abbia funzionato senza errori\n            }\n\treturn true;\n}
strip_tags_|\n\n        $_trip_tags_r = function ($text) {\n            // this is not safe for arbitrary, malicious user imput\n            // use it only for trusted, internal html to be convert to text\n            // - run recursively to catch <<a>script>alert('pwnd');<</a>/script>\n            // - using tag allowed is not safe at all\n            do {\n                $l = strlen($text);\n                $txt = strip_tags($txt, $allowed = '');\n                $l2 = strlen($text);\n            } while ($l != $l2);\n            return $text;\n        };\n\n\n\n$str = "<h1>Hello WorldÆØÅ!</h1>";\n// Remove all HTML tags and all characters with ASCII value > 127, from a string:\n$_sanitize_html = function($str){\n  return filter_var($str, FILTER_SANITIZE_STRING, FILTER_FLAG_STRIP_HIGH);\n};\n\n\n// allowing some tag is insecure for user input\n$text = strip_tags($text, $allowed = '<h1><h2><h3><h4><h5><h6><p><ol><ul><li><i><b><em>'\n            . '<strong><span><a><table><tr><td><u><del><sup><sub><blockquote><center><code>');\n\n// for user imput is safer to use the DOM\nstatic function remove_tags(string $html, array $tags = ['script', 'style', 'iframe', 'link']): string{\n        $dom = new DOMDocument();\n        $dom->loadHTML($html, LIBXML_HTML_NOIMPLIED|LIBXML_HTML_NODEFDTD);\n        foreach ($tags as $tag) {\n            foreach (iterator_to_array($dom->getElementsByTagName($tag)) as $item) {\n                $item->parentNode->removeChild($item);\n            }\n        }\n        $text=$dom->saveHTML();\n        return $text; \n}\n\n
queue_|fifo_ beanstalk_
filter_int_|$1 = filter_var($1, FILTER_SANITIZE_NUMBER_INT);\n/* $1 = $_safe_int($1, 10);\n// safe int with checks\n$_safe_int = function( $str,  $len=20) {\n    $s1 = substr($str, 0, $len );\n    //  filter removes all illegal characters from a number\n    $s2 = filter_var($s1, FILTER_SANITIZE_NUMBER_INT);// this preserve leading '0'\n    if( false === $s2 || '' === $s2 ) {// '0' is ok!\n        throw new Exception("validation int param '$str'=>'$s1'=>'$s2' ");\n    }\n    $s3 = (int) $s2; // will cut leading '0'\n    return $s3;\n};\n// $i=(int)sprintf('%d', $1);//discards leading 0 and any invalid input\n// filter_decimal_ */\n\n\n\n\n\n
sql_db2_limit_|$sql = "select\n            ROW_NUMBER() OVER ( ORDER BY ETSINV DESC ) RID_,\n            -- fields             \n            ENOTIF as ESITO,\n            ETSINV as TIME,\n            EOBJEC as OBJ            \n            from " . \\DB2Liblist::qualify('ZMLOG00F') . "\n            where ETIPRE=''\n            order by ETSINV desc ";\n$p_begin = (($page - 1) * $page_len) + 1; // >= 1\n$p_end = $p_begin + $page_len;\n// wrapper sql pager\n$sql = "SELECT * FROM (\n                $sql\n            ) AS PAG_TBL_\n            WHERE\n                PAG_TBL_.RID_ BETWEEN $p_begin AND $p_end -- limit equivalent\n            ORDER BY TIME DESC                        -- custom ordering\n";\n      \n
password_store_|\n// Hash the password.  $hashedPassword will be a 60-character string.\n$hashedPassword = password_hash('my super cool password', PASSWORD_DEFAULT);\n \n// You can now safely store the contents of $hashedPassword in your database!\n \n// Check if a user has provided the correct password by comparing what they typed with our hash\npassword_verify('the wrong password', $hashedPassword); // false\n \npassword_verify('my super cool password', $hashedPassword); // true\n
array_keys_select_|h_select_keys_
redis_|// sudo apt install php-redis && sudo service apache2 restart \n$redis = new Redis();\n$redis->connect('127.0.0.1', 6379);\n// Creates two new keys:\n$redis->set('mykey-1', 123);\n$redis->set('mykey-2', 'abcd');\n// Gets one key (prints '123')\nvar_dump($redis->get('mykey-1'));\n// Gets all keys starting with 'my-key-'\n// (prints '123', 'abcd')\nvar_dump($redis->keys('mykey-*'));
log_|log_file_\nfile_put_contents_\nerror_log_
compress_|gzcompress_\ngzuncompress_\nlzw_compress_ // adatto a stringhe
cli_table_|table_a_cli_
time_|time();\ndefine('TIME', $_SERVER['REQUEST_TIME');// this is faster than accessing the clock\n\nfunction isExpired($time, $timeout= 60) {\n    return (time()-$time) > $timeout ;\n}
date_last_day_of_months_|// gestisce anni bisestili e irregolarità varie di calendario\n$month_date = '2040-11-23';// giorno del mese di cui si vuole l'info\n$last_day = \\DateTime::createFromFormat("Y-m-d", $month_date)->format( 't' );\n// alternative\necho cal_days_in_month(CAL_GREGORIAN, 11, 2009);
rand_str_|rand_array_\n\nfunction rand_str($len=36):string {\n    return md5(uniqid(mt_rand(),true));\n}\nfunction getToken(int $length = 16): string{\n        $token = '';\n        $az = "ABCDEFGHIJKLMNOPQRSTUVWXYZ";\n        $az.= "abcdefghijklmnopqrstuvwxyz";\n        $az .= "0123456789";\n        $max = strlen($az);\n        for ($i = 0; $i < $length; $i++) {\n            $j = random_int(0, $max - 1);\n            $token .= $az[$j];\n        }\n        return $token;\n    }
jq_ajax_post_|\nvar el_form = $("#idForm");\nvar url = "<?=$_SERVER['PHP_SELF']?>"; \nel_form.submit(function(e) {\n    $.ajax({\n           type: "POST",\n           url: url,\n           data: el_form.serialize(),  \n           success: function(data) {           \n               alert(data);  \n           }\n         });\n\n    e.preventDefault(); // avoid  the actual submit of the form \n});
uksort_|// sort hash keys\nuksort($a_something, function cmp($a, $b) {\n    $a = preg_replace('@^(a|an|the) @', '', $a);\n    $b = preg_replace('@^(a|an|the) @', '', $b);\n    return strcasecmp($a, $b);\n});
zf_h_checkbox_|$this->formCheckbox('opt_in', 'yes', null, ['yes', 'no'] )
header_etag_|/**\n * This function generates the necessary cache headers for using ETags with dynamic content. You\n * simply have to generate the ETag, pass it in, and the function handles the rest.\n * @param string $etag ETag to use for this content.\n */\nfunction generateETagHeader($etag) {\n    header('cache-control:');\n    header('Expires: ');\n    header('ETag: ' . $etag);\n    header('Pragma:');\n    if (isset($_SERVER['HTTP_IF_NONE_MATCH'])) {\n        if ($etag == $_SERVER['HTTP_IF_NONE_MATCH']) {\n            ob_clean();\n            header('Status: 304 Not Modified');\n            header('HTTP/1.0 304 Not Modified');\n            die();\n        }\n    }\n}
twb_text_truncate_|// Requires element to be block or inline-block level.\n.class-name {\n  display: inline-block;\n  max-width: 200px;\n  .text-overflow(); // use twb Mixin\n}
array_filter_rs_|/* \n * filter a multi-demensional array. This filter will return only those items that match the $value given \n */ \nfunction filter_rs($array, $index, $value){ \n        if(is_array($array) && count($array)>0) { \n            foreach(array_keys($array) as $key){ \n                $temp[$key] = $array[$key][$index]; \n                if ($temp[$key] == $value){ \n                    $newarray[$key] = $array[$key]; \n                } \n            } \n          } \n      return $newarray; \n} \n$rs = array( \n   0 => array('key1' => '1', 'key2' => 2, 'key3' => 3), \n   1 => array('key1' => '12', 'key2' => 22, 'key3' => 32) \n); \n$rs = filter_rs($results, 'key2', '2'); \n/*array( \n    0 => array('key1' => '1', 'key2' => 2, 'key3' => 3) \n);*/\n\n\n\n
zf_dbg_|Zend_Debug::dump($, 'label:');
max_|$max = max([0,1,2]);
echo_|echo "$1\|" . "\\n";\n
json_encode_|$json= json_encode( $1, JSON_PRETTY_PRINT );\n/*\n$json = json_encode($res, JSON_UNESCAPED_UNICODE | JSON_UNESCAPED_SLASHES | JSON_NUMERIC_CHECK | JSON_PARTIAL_OUTPUT_ON_ERROR| JSON_PRETTY_PRINT);\nif( $json === false ) {\n    json_respond(['error' => true, 'msg' => json_last_error_msg() ] );\n}*/\n
cache_apc_|\nif (!function_exists('apc_fetch')) {\n                function apc_fetch($key) {\n                    return apcu_fetch($key);\n                }\n                function apc_exists($keys) {\n                    return apcu_exists($keys);\n                }\n                function apc_delete($key) {\n                    return apcu_delete($key);\n                }\n                function apc_store($key, $var, $ttl=0 ) {\n                    return apcu_store($key, $var, $ttl );\n                }\n                function apc_inc($key, $step = 1) {\n                    return apcu_inc($key, $step);\n                }\n                function apc_cache_info($cache_type = "", $limited = false) {return apcu_cache_info($limited);}\n\n                function apc_clear_cache() {return apcu_clear_cache();}\n}\n\n// since apcu >= 5.1.0(php7)\n$config = apcu_entry("config", function($key) {\n return [\n   "fruit" => apcu_entry("config.fruit", function($key){\n     return [\n       "apples",\n       "pears"\n     ];\n   })\n ];\n});\n\ndefine('TTL_FOREVER',  0, false);\ndefine('TTL_H',  60 * 60, false);\ndefine('TTL_8H', 8 * TTL_H, false);\ndefine('TTL_D',  24 * TTL_H, false);\n/* uso:\n$cache_key = '';//__METHOD__.'_'.json_encode(func_get_args());\n$data = cache($cache_key, function() {\n\treturn [];\n});\nreturn $data;\n*/\nfunction cache($cache_key, \\Closure $generator, $ttl_secs = TTL_8H ) {\n    // APC does serialization/deserialization during store/fetch operations\n    $val = apc_fetch($cache_key);\n    if (false === $val) {\n        $val = $generator();\n        apc_store($cache_key, $val, $ttl_secs );//secs, 0=forever\n    } else {\n        // from cache\n    }\n    return $val;\n}\n\n
parsefloat_|floatval_
file_get_contents_|$file_path = realpath( __DIR__ .'/file.txt');\n$str_content = file_get_contents( $file_path );// ATTENZIONE: mai usare parametri inviati dall'utente nei percorsi\nif(false === $str_content ) {\n    $file_error = error_get_last(); // handle file not found\n}
break_|break 1; // exit current loop, 2 exits current and parent loops 
file_copy_|$file = 'example.txt';\n$newfile = 'example.txt.bak';\nif (!copy($file, $newfile)) {\n    echo "failed to copy $file...\\n";\n}
metch_|echo $str=match (8.0) { //@since php8.0\n  '8.0' => "Oh no!",\n  8.0 => "This is what I expected",\n};\n//> This is what I expected\n// php7 porting\nmatch (8.0,[ \n  '8.0' => "Oh no!",\n  8.0 => "This is what I expected",\n]}\nfunction match(mixed $x, array $h):mixed {\n    foreach($h as $k=>$val){\n        if( $k === $x ) return $val;\n    }\n    return null;\n}
array_add_|array_merge_
cosnstructor_|construct_
chart_pie_|function create_pie_chart(\n    array $arrData,\n    int $imageHeight,\n    array $opt = []\n) {\n    $option = array_merge([\n        'labelWidth' => 10,\n    ], $opt);\n    extract($option);\n    if (count($arrData) > 10) {\n        die('limite massimo 10 item da plottare');\n    }\n    // the max str lengh of items\n    $maxlen = max(array_map('strlen', array_keys($arrData))) + 2 + 3 + 3;\n    $left_pad = 7 * $maxlen; //120\n    // TODO: trovare lunghezza massima dell astringa dinamicamente\n    $imageWidth = $imageHeight + $left_pad; // H + spazio per le labels\n    $diameter = $imageHeight; //pie diameter\n    $centerX = $imageHeight / 2; //  in funzione di H\n    $centerY = $imageHeight / 2; //  in funzione di H\n    $item = array_keys($arrData);\n    $data = array_values($arrData);\n    $dataTotal = 0;\n    for ($i = 0; $i < count($data); $i++) {\n        $dataTotal += $data[$i];\n    }\n    $im = ImageCreate($imageWidth, $imageHeight);\n    $color[] = ImageColorAllocate($im, 255, 0, 0); //red\n    $color[] = ImageColorAllocate($im, 255, 204, 0); //yellow\n    $color[] = ImageColorAllocate($im, 153, 204, 0); //green\n    $color[] = ImageColorAllocate($im, 0, 128, 255); //blue\n    $color[] = ImageColorAllocate($im, 255, 0, 128); //pink\n    $color[] = ImageColorAllocate($im, 153, 51, 255); //purple\n    $color[] = ImageColorAllocate($im, 192, 192, 192); //grey\n    $color[] = ImageColorAllocate($im, 204, 204, 0);\n    $color[] = ImageColorAllocate($im, 64, 128, 128);\n    $color[] = ImageColorAllocate($im, 204, 102, 153);\n    $white = ImageColorAllocate($im, 255, 255, 255);\n    $black = ImageColorAllocate($im, 0, 0, 0);\n    $grey = ImageColorAllocate($im, 215, 215, 215);\n    ImageFill($im, 0, 0, $white);\n    //----------------------------------------------------------------------------\n    $_circlePoint = function (float $deg, float $dia):array {\n        $x = cos(deg2rad($deg)) * ($dia / 2);\n        $y = sin(deg2rad($deg)) * ($dia / 2);\n        return [$x, $y];\n    };\n    //----------------------------------------------------------------------------\n    $degree = 0;\n    for ($i = 0; $i < count($data); $i++) {\n        $startDegree = round($degree);\n        if ($dataTotal > 0) {\n            $degree += ($data[$i] / $dataTotal) * 360;\n        }\n        $endDegree = round($degree);\n        $currentColor = $color[$i % (count($color))];\n        ImageArc($im, $centerX, $centerY, $diameter, $diameter, (int) $startDegree, (int) $endDegree, $currentColor);\n        list($arcX, $arcY) = $_circlePoint($startDegree, $diameter);\n        ImageLine($im, $centerX, $centerY, (int) floor($centerX + $arcX), (int) floor($centerY + $arcY), $currentColor);\n        list($arcX, $arcY) = $_circlePoint($endDegree, $diameter);\n        ImageLine($im, $centerX, $centerY, (int) ceil($centerX + $arcX), (int) ceil($centerY + $arcY), $currentColor);\n        $midPoint = round((($endDegree - $startDegree) / 2) + $startDegree);\n        list($arcX, $arcY) = $_circlePoint($midPoint, $diameter / 1.5);\n        // colora lo spicchio\n        ImageFillToBorder($im, (int) floor($centerX + $arcX), (int) floor($centerY + $arcY), $currentColor, $currentColor);\n        // percentuali relative dei singoli elementi\n        $perc = round(($data[$i] / $dataTotal) * 100, 2);\n        ImageString($im, 2, (int) floor($centerX + $arcX), (int) floor($centerY + $arcY), "$perc%", $black);\n    }\n    $labelX = $centerX + $diameter / 2 + 10;\n    $labelY = $centerY - $diameter / 4;\n    $titleX = $labelX - $diameter / 4;\n    $titleY = $centerY - $diameter / 2;\n    for ($i = 0; $i < count($item); $i++) {\n        $currentColor = $color[$i % (count($color))];\n        ImageFilledRectangle($im, $labelX + 1, $labelY + 1, $labelX + $labelWidth, $labelY + $labelWidth, $currentColor);\n        // write label\n        $s_label = sprintf('%s: %s', $item[$i], $data[$i]);\n        ImageString($im, 2, $labelX + $labelWidth + 5, $labelY, $s_label, $black);\n        $labelY += $labelWidth + 2;\n    }\n    ImageString($im, 3, $labelX, $labelY, "Total: $dataTotal", $black);\n    if ($direct_out=false) {\n        Header("Content-type: image/PNG");\n        ImagePNG($im);\n    } else {\n        ImagePNG($im, $to = '/tmp/ETF_pie.png');\n        echo "writing pie chart to $to" . "\\n";\n    }\n    ImageDestroy($im);\n}\n// Data\n$arrData = [\n    'Mozzilla' => 50,\n    'Chrome' => 40,\n    'Opera' => 10,\n    'IExplorer' => 30,\n];\ncreate_pie_chart($arrData, $imageHeight = 400);\n\n// @see include ("../../jpgraph/jpgraph.php");\n
if__|issetor_#name#  // coalesce_
filesize_|file_size_
pdo_mysql_list_tables_|$statement = $pdo->prepare($sql = "SHOW TABLES");\n$statement->execute();\n$tables = $statement->fetchAll(PDO::FETCH_NUM);\nforeach($tables as $table){ mysql_describe_table($table) }\nfunction mysql_describe_table($table_name){\n\t$statement = $pdo->query($sql='DESCRIBE ' . $table_name);\n\t$result = $statement->fetchAll(PDO::FETCH_ASSOC);\n\t//The result should be an array of arrays,\n\tforeach($result as $column){    echo $column['Field'] . ' - ' . $column['Type'], '<br>'; }\n}
methods_|echo '<pre>';\necho implode( "\\n", get_class_methods( $1 \|));\ndie(__FILE__.' '.__FUNCTION__);
array_persist_|/**\n * persist data to local file\n * @param mixed $val\n */\nfunction array_persist(array $data, $file_path = ''): string{\n    $str = serialize($data);\n    file_put_contents($file_path, $str); // default is overwriting file\n    return $file_path;\n}\n/**\n * takes data from a file and reidratate it\n * @return mixed\n */\nfunction array_restore(string $file_path): array{\n    $str_content = file_get_contents($file_path); // ATTENZIONE: mai usare parametri inviati dall'utente nei percorsi\n    if (false === $str_content) {\n        $file_error = error_get_last(); // handle file not found\n        die(implode('/', [__FUNCTION__, __METHOD__, __LINE__]) . ' > ' . $file_error);\n    }\n    // we know result_dump_file of the operation wil be array\n    $data = (array) unserialize($str_content, ['allowed_classes' => false]); // do not allow classes, may be attack vector\n    return $data;\n}\n/**\n * where to store persisten files?\n * define('PERSIST_DIR', $_dir = realpath($s_dir = __DIR__ . '/../writable_persist/persist'), false);\n */\nfunction persist_path_for(string $label): string{\n    $secret = '18AIqd44auvvhhQH453fhDQFCia';\n    if (empty(PERSIST_DIR)) {\n        die(implode('/', [__FUNCTION__, __METHOD__, __LINE__]) . ' > define the persist dir');\n    }\n    $file_path = PERSIST_DIR . "/{$label}.{$secret}.txt";\n    return $file_path;\n}\n// -------------------------- uso:\ndefine('PERSIST_DIR', $_dir = realpath( __DIR__ ), false);\n$path = persist_path_for('test');\n$data = [\n        ['a' => '1x', 'b' => '2x', 'c' => '3x'],\n        ['a' => '11', 'b' => '22', 'c' => '33'],\n];\narray_persist($data, $path);\n$data = array_restore($path);\n\n
pattern_container_|// funzione: contiene istanze di servizzi della'applicazione\n// uso: \n//  config.php DepContainer::set('DB', function(){});\n//  app.php $DB = DepContainer::get('DB');\nclass DepContainer {\n    static $_instances = [];\n    static $_builders = [];\n    public function get($k){\n        if( self::$_instances[$k] )\n            return self::$_instances[$k];\n        else {\n            self::$_instances[$k] = self::$_builders[$k]($this);\n            return self::$_instances[$k];\n        }\n    }\n    public function set($k, $f_builder){ self::$_builders[$k] = $f_builder;  }\n}\n/* uso:\n$c = new Container();\n$c->mailer_username = function () { return 'fabien'; };\n$c->mailer_password = function () { return 'myPass'; };\n \n// objects / services\n$c->mailer = function ($c) {\n  $mailer_transport = new Zend_Mail_Transport_Smtp(\n    'smtp.gmail.com',\n    array(\n      'auth'     => 'login',\n      'username' => $c->mailer_username,\n      'password' => $c->mailer_password,\n      'ssl'      => 'ssl',\n      'port'     => 465,\n    )\n  );\n  $obj = new Zend_Mail();\n  $obj->setDefaultTransport($mailer_transport);\n  return $obj;\n};\n// pass container in contructors\n$o = new FwkService($c);\n// get the mailer\n$mailer = $c->mailer;\n*/\n
array_inspect_|// permette di ispezionare un array in modo più leggibile\n// ex. => tipo_soggetto: 'privato' nazione: 'italia'\nfunction array_inspect($h, $filter=false, $pp=false) {\n    $h2 = $filter ?\n        array_filter($h, function ($v) {return !empty($v);})\n        : $h;\n    $txt = str_replace($sub = '"', $re = '',\n        str_replace($sub =  ',', $re = ', ',\n            json_encode(\n                $h2, $flg ? JSON_PRETTY_PRINT : 0\n            )\n        )\n    );\n    return $txt;\n}\n// serializza un array\nfunction array_inspect(array $h, callable $_f=function($k,$v){ return "$k:$v";}, string $sep=' '):string{\n\t$a2=[];\n\tforeach($a as $k=>$v){\n\t\tif( is_scalar($v) )\n\t\t\t$a2[]=$_f($k,$v);\n\t}\n\treturn implode($sep, $a2);\n}
range_|$a_range = range(0, 50, 10);//[10,20,30,40,50]
trait_|trait SayWorld {\n    public function sayHello() {\n        parent::sayHello();\n        echo 'World!';\n    }\n}\nclass MyHelloWorld extends Base {\n    use SayWorld;\n}
array_is_list_|if( !function_exists('array_is_list') ){ // php8.1\n    function array_is_list(array $array): bool {\n        if ([] === $array) {\n            return true;\n        }\n        $nextKey = -1;\n        foreach ($array as $k => $v) {\n            if ($k !== ++$nextKey) {\n                return false;\n            }\n        }\n        return true;\n    }\n}
input_password_|// custom input for passwords\nclass Zend_Form_Element_TextPasswd extends Zend_Form_Element_Text {\n    // tiene traccia della form in cui è utilizzato\n    protected $form_id = null;\n    public function render(Zend_View_Interface $view = null) {\n        return parent::render($view) . $this->buildJS();\n    }\n    // tien traccia del form id in cui è generato il campo, serve a gestire più form\n    // contemporaneamente nella pagina\n    public function setFormID($form_id) {\n        $this->form_id = $form_id;\n    }\n    // genera un bottone che permette di generare una password "sicura"\n    protected function buildJS() {\n        $html_id = $this->getID();\n        return <<<__END__\n        <script language="JavaScript" type="text/JavaScript">\n        $(function(){\n            function buildRandomString(){\n                var chars = "ABCDEFGHIJKLMNOPQRSTUVWXTZ";// abcdefghiklmnopqrstuvwxyz\n                var string_length = 10;\n                var randomstring = '';\n                var charCount = 0;\n                var numCount = 0;\n                for (var i=0; i<string_length; i++) {\n                    // generate a numeric value\n                    // If random bit is 0, there are less than 3 digits already saved, and there are not already 5 characters saved,\n                    if((Math.floor(Math.random() * 2) == 0) && numCount < 3 || charCount >= 5) {\n                        var rnum = Math.floor(Math.random() * 10);\n                        randomstring += rnum;\n                        numCount += 1;\n                    } else {\n                        // generate an alpha character from the chars string\n                        var rnum = Math.floor(Math.random() * chars.length);\n                        randomstring += chars.substring(rnum,rnum+1);\n                        charCount += 1;\n                    }\n                }\n                return randomstring;\n            }\n            var txt = $('#{$this->form_id} #{$html_id}');\n            var html = '&nbsp;&nbsp;<a href="javascript:void(0);" id="pass_gen_btn">genera password</a>';\n            txt.after(html);\n            $('#{$this->form_id} #pass_gen_btn').button().click(function(){\n                var passwd = buildRandomString();\n                txt.val(passwd);\n            });\n        });\n        </script>\n__END__;\n    }\n}
ArrayAccess_|/* mandatory interface \nArrayAccess {\nabstract public boolean offsetExists ( mixed $offset )\nabstract public mixed offsetGet ( mixed $offset )\nabstract public void offsetSet ( mixed $offset , mixed $value )\nabstract public void offsetUnset ( mixed $offset )\n} */\nclass Obj implements ArrayAccess {\n    private $container = array();\n    public function __construct() {\n        $this->container = array(\n            "one"   => 1,\n            "two"   => 2,\n            "three" => 3,\n        );\n    }\n    public function offsetSet($offset, $value) {\n        if (is_null($offset)) {\n            $this->container[] = $value;\n        } else {\n            $this->container[$offset] = $value;\n        }\n    }\n    public function offsetExists($offset) {\n        return isset($this->container[$offset]);\n    }\n    public function offsetUnset($offset) {\n        unset($this->container[$offset]);\n    }\n    public function offsetGet($offset) {\n        return isset($this->container[$offset]) ? $this->container[$offset] : null;\n    }\n}\n// usage test\n$obj = new obj;\nvar_dump(isset($obj["two"]));\nvar_dump($obj["two"]);\nunset($obj["two"]);\nvar_dump(isset($obj["two"]));\n$obj["two"] = "A value";\nvar_dump($obj["two"]);\n$obj[] = 'Append 1';\n$obj[] = 'Append 2';\nprint_r($obj);
abstract_|abstract class XXX_Base {\n    abstract protected function getValue();\n    /*\nClasses defined as abstract may not be instantiated, and any class that contains at least one abstract method must also be abstract. Methods defined as abstract simply declare the method's signature - they cannot define the implementation.\nWhen inheriting from an abstract class, all methods marked abstract in the parent's class declaration must be defined by the child; additionally, these methods must be defined with the same (or a less restricted) visibility. For example, if the abstract method is defined as protected, the function implementation must be defined as either protected or public, but not private. \n    */ \n}
namespace_|namespace $1 {\n    use Exception;\n    use function is_xxx;\n}\nnamespace {\n// global code\n}
db_|pdo_
base_convert_|base_convert($i, 10, $tobase=36 );
file_get_array_|$a_lines = file($path);\n        for ($l = $r->getStartLine(); $l < ($r->getEndLine() - 1); $l++) {\n            $str .= $a_lines[$l];\n        }
dir_exists_|if( file_exists($path_) ) {\n}
get_|$s_ = gets($k, $d, function($v){ return $v } );\n// @see filter_input_\n// @see filter_str_\n/*\n// assicura una lunghezza massima per la stringa\ndefine('LEN_C', 100, false);\ndefine('LEN_I', 9, false);\n// chop buffer lenght\nfunction b_l($s, $len = 0) {\n    if (0 == $len) {\n        $len = is_numeric($s) ? LEN_I : LEN_C;\n    }\n    return substr($s, 0, $len);\n}\n\nfunction gets($k, $d, \\Closure $f_filter = null) {\n    $v = isset($_GET[$k]) ? $_GET[$k] : $d;\n    if (!empty($f_filter)) {\n        $v_f = $f_filter($v);\n    } else {\n        $v_f = b_l($v, 100);//always truncate input len\n    }\n    return $v_f;\n}\nfunction geti($k, $d=0){\n    return filter_input(INPUT_GET, $k, FILTER_SANITIZE_NUMBER_INT);\n}\n*/
redirect_|location_
null_coalesce_|$xxx = $_GET['xxxx'] ?? 'not passed';//7.0+
array_fold_left_|array_reduce_
zf_view_|$html = $this->view->render('alternate.phtml');\n\n// render a file\npublic static function render_print(\\OrderPDF\\OrderDTO $o_data) {\n  $V = new Zend_View();\n  $V->setScriptPath(APPLICATION_PATH.'/views/scripts');\n  if (!empty($o_data)) {\n    foreach ($o_data as $k => $v) {\n      $V->assign($k, $v);\n    }\n  }\n  $V->layout()->setLayout('print-ec-layout');\n  $html = $V->render('order/print.phtml');\n  return $html;\n}\n\n
destruct_|function __destruct() {\n  // cleanup your DB, disk or RAM cache\n}
file_delete_older_|function file_delete_older($lcd, $glob, $days) {\n    $cmd = "find $lcd -maxdepth 1 -type f -mtime +$days  -name \\"$glob\\" -delete ";\n    echo $cmd . "\\n";\n    $r = `$cmd`;\n    return $r;\n}\n//\n//\n//\nfunction file_delete_older($path, $a_ext=['pdf'], $days=30) {\n    $i = 0;\n    if ($handle = opendir($path)) {\n        while (false !== ($file = readdir($handle))) {\n            // only files, no subdrs\n            if (is_file($path.$file)) {\n                $file_info = pathinfo($path.$file);\n                $ext = strtolower($file_info['extension']);\n                $is_ext_ok = in_array($ext, $a_ext);\n                if ( $is_ext_ok ) {\n                    // Check if the file is older than X days old\n                    $ttl_d = 24 * 60 * 60;\n                    $is_older = filemtime($path.$file) < ( time() - ( $days * $ttl_d ) );\n                    if ( $is_older ) {\n                        unlink($path.$file);\n                        $i++;\n                    }\n                }\n            }\n        }\n        return $i;\n    } else {\n        return false;\n    }\n}\n// elimina un file se piu vecchio di n mesi\nfunction delete_if_older( $file_path , $n_month=6 ){\n    $now = time();\n    $t_max = (60 * 60 * 24 * 30) * $n_month;\n    if (is_file($file_path)) {\n        if ($now - filemtime($file_path) >= $t_max ) {\n            unlink($file);\n        }\n    }\n}\n// elima files da dir dopo n mesi\nfunction delete_very_old_files($dir, $n_mesi) {\n    $_file_is_current = function ($path, $m_ttl) {\n        $file_mtime = filemtime($path);\n        if ((time() - $file_mtime) > $m_ttl) {\n            return false; // file older than x hours\n        } else {\n            return true; // file younger than x hours\n        }\n    };\n    foreach (glob($dir . '/*.*') as $file_path) {\n        $file_is_current = $_file_is_current($file_path, ($n_mesi * 30 * TTL_DAY));\n        if ($file_is_current) {\n            // keep\n            // echo __FUNCTION__ . " keep $file_path $file_is_current ";\n        } else {\n            // delete\n            // echo __FUNCTION__ . " delete $file_path $file_is_current ";\n            if (unlink($file_path)) {\n            }\n        }\n    }\n}
STDIN_|stdin_
rm_|unlink_\ndir_clean_
define_|define('$1', '$2', false);\n\|/* \nconst_\n// Unless you need any type of conditional or expressional definition, use const\n\nfunction define_safe($n, $v) {\n    if( !defined($n) ) {\n        define( $n, $v );\n    }\n} \n// define('ANIMALS', [ 'dog', 'cat' ]); //array since php7\n\n// basic paths\ndefine('DIR_ROOT', __DIR__, false );\ndefine("DIR_LOG", __DIR__.'/../../var/logs' , false);\ndefine("DIR_CACHE", __DIR__.'/../../var/cache' , false);\n// the env and app flags\ndefine('ENV', '', false);\ndefine('V_LEVEL', 1, false);\n// shortcuts\ndefine('DS', DIRECTORY_SEPARATOR, false);\ndefine('EOL', PHP_EOL, false);\n*/\n\n\n\n
hash_sort_|// Sort the multidimensional array\nusort($a_list, function ($rec, $next_rec) {\n        $k = 'column_key';  \n\treturn $rec[$k] > $next_rec[$k];\n});\n     \n
zf_h_select_multi_|$html_select = $this->formSelect(\n            $name='foo[]',\n            $val=2,\n            $opt=[\n              'class' => 'baz',\n            ],\n            $a_options=[ 1 => 'One',\n              2 => 'Two',\n              3 => 'Three' ]\n);
validate_ip_|// validazione su IP\npublic static function checkIP($ip) {\n        // Allow only IPv4 address, Deny reserved addresses, Deny private addresses\n        return  $is_valid = filter_var($ip, FILTER_VALIDATE_IP, FILTER_FLAG_IPV4 | FILTER_FLAG_NO_PRIV_RANGE | FILTER_FLAG_NO_RES_RANGE) !== false;\n}
cli_controller_|  function printErr($msg) {\n    fwrite(STDERR, $msg."\\n");\n  }\n  class CliController {\n    public $statusCode = 0;\n    protected function call($action, $params = array()) {\n      $method = self::resolveAction($action);\n      if (method_exists($this, $method)) {\n        $out = call_user_func_array(array($this, $method), $params);\n        if (is_string($out)) {\n          echo ($out);\n        }\n      } else {\n        println("unimplemented method:".$method." ");\n      }\n      return $this->statusCode;\n    }\n    public static function resolveAction($action) {\n      $action = strtolower($action);\n      if (!strlen($action)) {\n        return "";\n      }\n      return $action."Action";\n    }\n  }
str_grep_|text_grep_
esadec_|base_convert_
str_split_|$array_chars = str_split( $to_split);\n\n// split the phrase by " ", \\r, \\t, \\n and \\f\n$a_str = preg_split("/[\\s,]+/", $str ); // mb_split("\\s", "hello world")\n
closure_|f_closure_
sql_fulltext_|/**\n * Generate fulltext query from set of terms\n * @param string $fields Field to search against\n * @param array $terms Search terms that may be or not be in the result\n * @param array $must_terms Search terms that have to be in the result\n * @param array $exclude_terms Search terms that have to be not in the result\n */\npublic function getFulltextQuery($field, $terms, $must_terms = array(), $exclude_terms = array()) {\n    $condition = array();\n    foreach ($terms as $term) { $condition[] = $this->quoteTerm($term); }\n    foreach ($must_terms as $term) { $condition[] = "+" . $this->quoteTerm($term); }\n    foreach ($exclude_terms as $term) { $condition[] = "-" . $this->quoteTerm($term); }\n    $condition = $this->quoted(join(" ", $condition));\n    return "MATCH($field) AGAINST($condition IN BOOLEAN MODE)";\n}
variadic_|variadic_func_
debug_print_backtrace_|function trace_str() {\n\tob_start();\n\tdebug_print_backtrace();//directly prints\n\t$trace = ob_get_contents();\n\tob_end_clean();\n    return $trace;\n}\n\n
is_url_|function is_url($R):bool {\n    $nb='[a-z0-9]([-a-z0-9]{0,61}[a-z0-9])';\n    return preg_match("~^(https?)://($nb?\\\\.)+$nb(:\\\\d+)?(/.*)?(\\\\?.*)?(#.*)?\\$~i",$R);\n}
typehint_|type_
property_exists_|property_exists( $this, $property )
escape_|filter_xss_
autoload_|// TODO: define your lib path\ndefine('AUTOLOAD_PATH', __DIR__. '/lib', false);\ndefine( 'DS' , DIRECTORY_SEPARATOR  , false);\n// PSR-0 autoload\n// - A fully-qualified namespace and class must have the following structure \\<Vendor Name>\\(<Namespace>\\)*<Class Name>\n// - Each namespace must have a top-level namespace (“Vendor Name”).\n// - Each namespace can have as many sub-namespaces as it wishes.\n// - Each namespace separator is converted to a DIRECTORY_SEPARATOR when loading from the file system.\n// - Each _ character in the CLASS NAME is converted to a DIRECTORY_SEPARATOR. The _ character has no special meaning in the namespace.\n// - The fully-qualified namespace and class are suffixed with .php when loading from the file system.\n// - Alphabetic characters in vendor names, namespaces, and class names may be of any combination of lower case and upper case.\nspl_autoload_register(function ($class_name) {\n    $path_local = str_replace('\\\\', DS, $class_name);\n    $path_local = str_replace('_', DS, $path_local) ;\n    $path = implode(DS, [ AUTOLOAD_PATH, $path_local .  '.php' ]);\n    if (!file_exists($path)) {\n        die("autoload path: $path not found \\n");\n    }\n    require_once $path;\n});\n\n// minimalistic with namespace\nspl_autoload_register( function ($className) {\n        $classPath = explode('\\\\', $className);\n        if ($classPath[0] !== 'my_namespace') {\n            return;\n        }\n        // Drop 'my_namespace', and maximum file path depth in this project is 1\n        $classPath = array_slice($classPath, 1, 2);\n        $filePath = __DIR__ . '/' . implode('/', $classPath) . '.php';\n        require_once $filePath;\n});\n\n\n// @see composer ClassLoader.php for PSR-04 compliant autloader\n// get the registered Composer autoloader instance from the vendor/  subdirectory\n$loader = require __DIR__.'/vendor/autoload.php';\n// add our central class directory location; do not use a class prefix as\n// we may have more than one top-level namespace in the central location\n$loader->add('', __DIR__.'/to/app/classes');\n\n// v2: php 5.3 autoloader function\nfunction php53_autoloader($class) {\n    // strip off any leading namespace separator from PHP 5.3\n    $class = ltrim($class, '\\\\');\n    // the eventual file path\n    $subpath = '';\n    // is there a PHP 5.3 namespace separator?\n    $pos = strrpos($class, '\\\\');\n    if ($pos !== false) {\n        // convert namespace separators to directory separators\n        $ns = substr($class, 0, $pos);\n        $subpath = str_replace('\\\\', DIRECTORY_SEPARATOR, $ns) . DIRECTORY_SEPARATOR;\n        // remove the namespace portion from the final class name portion\n        $class = substr($class, $pos + 1);\n        // convert underscores in the class name to directory separators\n        $subpath .= str_replace('_', DIRECTORY_SEPARATOR, $class);\n    }\n    // the path to our central class directory location\n    $dir = __DIR__.'/path/to/app/classes';\n    // prefix with the central directory location and suffix with .php,\n    // then require it.\n    $file = $dir . DIRECTORY_SEPARATOR . $subpath . '.php';\n    require $file;\n}\n\n// register special Class names\n        spl_autoload_register(function ($pClassName) {\n            if (preg_match('/[a-zA-Z]+Controller$/', $pClassName)) {\n                require_once __DIR__ . '/controllers/' . $pClassName . '.php';\n                return true;\n            } elseif (preg_match('/[a-zA-Z]+Model$/', $pClassName)) {\n                require_once __DIR__ . '/models/' . $pClassName . '.php';\n                return true;\n            } elseif (preg_match('/[a-zA-Z]+View$/', $pClassName)) {\n                require_once __DIR__ . '/views/' . $pClassName . '.php';\n                return true;\n            }\n        });\n  \n        /**\n         * @see PSR-4 autoload reference implementation\n         *\n         * new \\Foo\\Bar\\Baz\\Qux;\n         * \\Foo\\Bar\\Baz\\Qux class => /path/to/project/src/Baz/Qux.php:\n         */\n        spl_autoload_register(function ($pClassName) {\n            // project-specific namespace prefix\n            $prefix = 'Mobile'; // Foo\\\\Bar\\\\\n            // base directory for the namespace prefix\n            $base_dir = __DIR__; // . '/src/';\n            // does the class use the namespace prefix?\n            $len = strlen($prefix);\n            if (strncmp($prefix, $pClassName, $len) !== 0) {\n                // DBG echo " autoloading NS prefix: $pClassName \\n";\n                // no, move to the next registered autoloader\n                return;\n            }\n            // get the relative class name\n            $relative_class = substr($pClassName, $len);\n            // replace the namespace prefix with the base directory, replace namespace\n            // separators with directory separators in the relative class name, append\n            // with .php\n            $file = $base_dir . str_replace('\\\\', '/', $relative_class) . '.php';\n            if (file_exists($file)) {\n                require $file;\n            } else {\n                // DBG echo " autoloading KO: $file\\n";\n            }\n        });\n  \n\n\n
die_|die( implode('/', [__FUNCTION__,__METHOD__,__LINE__]) .' > ok...'\|);
system_|exec_
staticp_|//\npublic static function $1\|(?int $i) :?int {\t\t\n    return 0; \n}
indexof_|array_index_of_
delete_|// destroy a single element of an array\nunset($bar['quux']);
sha256_|$hashed_str = hash('sha256', $str);
array_unique_|$a_ = array_unique($a_ , SORT_STRING);
variadic_func_|func_get_args_
sscanf_|$_n_match = sscanf($str='123-asd-df', "%d-%s-%s", $id, $first, $last);\n\n// "00004 - ROBERTO CAVALLI"\n$_n_match = sscanf($label, '%s - %[^[]]', $id, $str);// %[^[]] menas anything that isnt nothing\n\n// @see preg_match_
array_objects_|\n// where you want to keep objects in a map \n// stick to an plain old array. Just use the object hash as array key:\n  \n$o_list = [];\n// object hashes are hard to distinguish so you could run a hash function on them for better readability.\n$_h($o){ return md5(spl_object_hash($o)); };\n$o_list[ $_h($entity1) ] = new stdClass();\n$o_list[ $_h($entity2) ] = new stdClass();
error_|set_error_handler_\nerror_reporting_\nset_exception_handler_\nset_fatal_handler_\nfmt_exception_trace_
doctype_|@see type_*
xml_process_|\n// dom parser:\n// use to get/set non adjacent values from the tree\nfunction XML_process($xml_file){\n  $dom = new \\DOMDocument();\n  $dom->preserveWhiteSpace = false;\n  $dom->load($xml_file);\n  $xpath = new \\DOMXpath($dom);\n  $node_list = $xpath->query('//NodeType[@attr=val]');\n}\n\n// simplexml parser:\n// use for sequention processing\nfunction XML_process($xml_file) {\n    $xml = file_get_contents($xml_file);\n    // SimpleXML: The only restraint is that the XML document must be well-formed.\n    $xml = simplexml_load_string($xml)\n    or die("Error: Cannot create object from xml");\n    print_r($xml);\n    foreach ($xml->Catalogo as $catalogo) {\n        $catalogo['tipo'] == 'catalogo'; // access attr\n        foreach ($catalogo->Famiglia as $famiglia) {\n            // ...\n        }\n    }\n\n\n\n  $library = new SimpleXMLElement('library.xml', NULL, true);// OOP\n  foreach ($library->book as $book){\n    echo $book['isbn'];\n    echo $book->title;\n    echo $book->author;\n    echo $book->publisher;\n  }\n\n  // When you don't know tag names\n  foreach ($library->children() as $child){\n    echo $child->getName();\n    // Get attributes of this element\n    foreach ($child->attributes() as $attr){\n        echo ' ' . $attr->getName() . ': ' . $attr;\n    }\n    // Get children\n    foreach ($child->children() as $subchild){\n        echo ' ' . $subchild->getName() . ': ' . $subchild;\n    }\n  }\n\n}\n\n\n
SplQueue_|$q = new SplQueue();\n$q->enqueue(1);\n$q->enqueue(2);\n$q->enqueue(3);\n$last = $q->dequeue()\nvar_dump($q, $last);
request_is_cli_|sapi_
function_exists_|if( !function_exists('$1') ){\n  function $1(){\n  }\n}
tempname_|$file_path = tempnam(sys_get_temp_dir(), $prefix='X');
readfile_|$file_path = APP_PATH.'/web/images/image.jpg';\n$type = 'image/jpeg';\nheader('Content-Type:'.$type);\nheader('Content-Length: '.filesize($file_path) );\nreadfile($file_path);\nexit();\n
array_flip_|$a_input = [ "oranges", "apples" ];\n$h_flipped = array_flip($a_input);\n// => [ oranges => 0, apples => 1 ]  
filter_decimal_|$_safe_dec = function ($num, $len=20) {\n    $num = preg_replace('/[^0-9\\,\\.\\-]/', '', $num);\n    $num = str_replace($sub=',',$re='.', $num);\n    return substr($num, 0, $len);\n};\n\n
validate_int_|$_is_int = function($dim) { return (bool) preg_match('/^[-|+]?\\d+$/', (string) $dim); };\n\nif( ! filter_var($1, FILTER_VALIDATE_INT ) ){\n    t_\n}\n\n
list_|list($ok, $msg, $data) = [true,'abc',[] ];
pas_cache_|<?php\nnamespace Psr\\SimpleCache;\ninterface CacheInterface {\n    public function get($key, $default = null);\n    public function set($key, $value, $ttl = null);\n    public function delete($key);\n    // clean the entire cache's keys.\n    public function clear();\n    public function has($key);\n\n    // Obtains multiple cache items by their unique keys.\n    public function getMultiple($keys, $default = null);\n    /**\n     * Persists a set of key => value pairs in the cache, with an optional TTL.\n     * @param iterable              $values A list of key => value pairs for a multiple-set operation.\n     * @param null|int|DateInterval $ttl    Optional. The TTL value of this item. If no value is sent and\n     *                                      the driver supports TTL then the library may set a default value\n     *                                      for it or let the driver take care of that.\n     */\n    public function setMultiple($values, $ttl = null);\n    public function deleteMultiple(array $keys);\n}\n
main_|__MAIN__
sql_group_by_|sql_mode_
trace_|echo '<pre>',debug_print_backtrace(),'</pre>'; // DEBUG\n\n// get as string\n$_debug_backtrace_str = function () {\n  ob_start();\n  debug_print_backtrace();\n  return ob_get_clean();\n};\ndie(__FUNCTION__.__FILE__);\n\n// format trace in more readable form\n            function get_debug_backtrace(bool $print_args=true):string {\n                $flags=null;\n                if( empty($print_args) ) {//stampare argomenti delle funzioni? oggetti possono essere molto grandi/inleggibili\n                    $flags=DEBUG_BACKTRACE_IGNORE_ARGS;\n                }\n                $file_paths = debug_backtrace($flags);\n                //\n                $_pp = function ($arg) {\n                    return json_encode($arg, JSON_PRETTY_PRINT);\n                    // return var_export54($arg);\n                };\n                $html = '//last call, first '."\\n";\n                foreach ($file_paths as $h_file_path) {\n                    // $html .= $_pp($h_file_path);\n                    $class = trim(sprintf('%s %s',\n                        $h_file_path["class"],\n                        // object state if any\n                        isset($h_file_path["object"]) ? $_pp($h_file_path["object"]) : ''\n                        ));\n                    $html .= sprintf('%s:%s ', $h_file_path["file"], $h_file_path["line"]);\n                    $html .= sprintf('%s%s%s(%s);',\n                        $class,\n                        $h_file_path["type"], // "::" || '->',\n                        $h_file_path["function"],\n                        (empty($h_file_path["args"])? '':$_pp($h_file_path["args"] ))\n                        );\n                    $html .= "\\n";\n                    // $html .= $_pp($h_file_path) . '<br>';\n                }\n                return $html;\n            }\necho '<pre>', get_debug_backtrace( ),'</pre>';\n
set_exception_handler_|if( ENV::isPROD() ) {\n    \n    $prev_handler = set_exception_handler(['Bootstrap', '_ExcpLoggerMail']);\n    // es. err handler\n    function exp_hndl_test($exception) {\n    // informa di possibili problemi online\n    // USO: set_exception_handler( ['Bootstrap', '_ExcpLoggerMail') );\n    // in ZF1, normalmente il tipo di eccezione è Throwable\n    // talvolta è Zend_View_Exception\n   \n        if ($exception instanceof Zend_Controller_Action_Exception) {\n            // skip this kind of error\n            sleep(4);\n            return;\n        }\n        $url = sprintf('%s://%s/%s',\n            h_get($_SERVER, 'REQUEST_SCHEME'),\n            h_get($_SERVER, 'HTTP_HOST'),\n            h_get($_SERVER, 'REQUEST_URI')\n        );\n        $server_IP = h_get($_SERVER, 'SERVER_ADDR',\n            gethostbyname(gethostname())\n        );\n        // get user for Zend Apps\n        $user = '';\n        try {\n            $auth = Zend_Auth::getInstance();\n            if (!empty($auth)) {\n                $idnt = $auth->getIdentity();\n                if (!empty($idnt) && is_object($idnt)) {\n                    $user = $idnt->getUsername();\n                }\n            }\n        } catch (\\Exception $e) {\n            $user = 'session error';\n        }\n        // fallback\n        if (empty($user)) {\n            try {\n                $a_sess = $_SESSION;\n                $a_sess = array_filter($a_sess, function ($s) {\n                    if (is_string($s)) {\n                        // se stringa scarta testi lunghi\n                        return !empty($s) && strlen($s) < 40;\n                    } else {\n                        // scarta oggetti o testi\n                        return !empty($s) && is_scalar($s);\n                    }\n                });\n                $user = var_export($a_sess, 1);\n            } catch (\\Exception $e) {\n                $msg = implode(' ', [$e->getMessage(), $e->getFile(), $e->getLine(), $e->getTraceAsString()]);\n                $user = 'exception occurred building $user ' . $msg;\n            }\n        }\n        try {\n            $str = '\n        <pre>\n        <b>Fatal exception handler</b>:  Uncaught exception Type:"{{exc_class}}"\n        Server: {{server}} IP:{{ip}} ENV: {{ENV}}\n        Time: {{time}}\n        User: {{user}}\n        Url: {{url}}\n        Method: {{method}}\n        Request: {{request}}\n        Line: {{line}}\n        File: {{file}}\n        Message: "{{message}}"\n        Stack trace: {{trace}}\n        _SERVER: {{_SERVER}}\n        </pre>';\n            $data = [\n                'server' => h_get($_SERVER, 'SERVER_NAME', gethostname()),\n                'ENV' => \\Bootstrap::EnvStr(),\n                'time' => date('d-m-Y H:i:s'),\n                'user' => $user,\n                'ip' => $server_IP,\n                'url' => $url,\n                'method' => h_get($_SERVER, 'REQUEST_METHOD', 'CLI?'),\n                'request' => var_export($_REQUEST, 1),\n                'line' => $exception->getLine(),\n                'file' => $exception->getFile(),\n                'exc_class' => get_class($exception),\n                'message' => $exception->getMessage(),\n                'trace' => $exception->getTraceAsString(),\n                '_SERVER' => json_encode($_SERVER, JSON_PRETTY_PRINT),\n            ];\n            // interpola data\n            foreach ($data as $k => $v) {\n                $str = str_replace('{{' . $k . '}}', $v, $str);\n            }\n            // trim delle righe per formattare\n            $a = explode(PHP_EOL, $str);\n            $a = array_map(function ($l) {\n                return trim($l);\n            }, $a);\n            $str = implode(PHP_EOL, $a);\n        } catch (\\Exception $e) {\n            $msg = implode(' ', [$e->getMessage(), $e->getFile(), $e->getLine(), $e->getTraceAsString()]);\n            $str = $exception->getMessage() . "\\n" . '--- also, Exception building full error description $str ' . $msg;\n        }\n\n        //--------------------------------------------------------------------\n        // mail dell'errore\n        //\n        try {\n            $headers = 'MIME-Version: 1.0' . "\\r\\n";\n            $headers .= 'Content-type: text/html; charset=iso-8859-1' . "\\r\\n";\n            //$headers .= 'Cc: birthdayarchive@example.com' . "\\r\\n";\n            //$headers .= 'From: Birthday Reminder <birthday@example.com>' . "\\r\\n";\n            $subject = sprintf('eccezione in %s %s', self::EnvStr(), $server_IP);\n\n            $to = 'tazio.mirandola@gmail.com';\n            $mail_res = mail($to, $subject, $str, $headers);\n        } catch (\\Exception $e) { // Throwable $e in php7\n            $msg = 'error sending exception description:' . implode(' ', [\n                $e->getMessage(),\n                $e->getFile(),\n                $e->getLine(),\n                $e->getTraceAsString(),\n            ]);\n            error_log($msg, 0);\n        }\n\n        //--------------------------------------------------------------------\n        // log error to var/log/php_error(.*).log\n        // 0 => message is sent to PHP's system logger, using the Operating System's system\n        // logging mechanism or a file, depending on what the error_log configuration\n        // directive is set to. This is the default option.\n        error_log(strip_tags($str), 0);\n    }\n}
declare_|declare(strict_types = 1);\n// By default, PHP **will coerce** values of the wrong type into the expected scalar type if possible. \n// For example, a function that is given an integer for a parameter that expects a string will get a variable of type string.\n// It is possible to enable strict mode on a per-file basis. \n// In strict mode, **only a variable of exact type of the type declaration will be accepted**, or a TypeError will be thrown. \n// The only exception to this rule is that an integer may be given to a function expecting a float. \n// Function calls from within internal functions will not be affected by the strict_types declaration.\n\n\n\n\n
filter_array_|$a_$1 = array_map(function($val) {\n    $var = filter_var($val, FILTER_SANITIZE_NUMBER_INT);\n    return $var;\n}, $a_$1 );\n\n
php_daemon_|set_time_limit(0);\n$sleep_time = 1*60;//secs\nwhile (TRUE) {\n   echo 'Time: ' . date('H:i:s');\n   // wait for the iteration interval\n   sleep($sleep_time);\n}
apc_delete_|$r=apc_delete($key);\n//\n// delete all by regexp on key\n$a_cache = apc_cache_info('user', false);\n$a_cache_keys = $a_cache['cache_list'];\n$app_ns = 'API_';\n$i = 0;\nforeach ($a_cache_keys as $a_entry) {\n  $key = $a_entry['info'];\n  $key_is_matching = preg_match('/^' . $app_ns . '/i', $key) > 0;\n  if ($key_is_matching) {\n    echo " $key is deletable " . (apc_delete($key) ? 'ok' : 'KO') . "\\n";\n    $i++;\n  }\n}
à_|&agrave;
pdo_|PDO_
js_comment_|/* \| */
twb_image_|<img src=" " class="img-responsive" alt="Responsive image">
passthru_|// useful for commands outputting binary data to pass to browser as is\nheader("Content-Type: application/octet-stream");\nheader("Content-Disposition: attachment; filename=\\"myfile.zip\\"");\nheader("Content-Length: 11111");\n// see header_download_\npassthru("/usr/bin/cat $path/myfile.zip", $err);\n// see exec_
each_|array_map_
array_group_by_|//\n// groups an RS by key\n//\nfunction array_group_by($rs, $key, $_rec_mapper = null, $_rs_reducer = null, $initial_v = 0) {\n    if (null == $_rec_mapper) {\n        $_rec_mapper = function ($rec) {return $rec;};\n    }\n    $result = [];\n    foreach ($rs as $rec) {\n        if (array_key_exists($key, $rec)) {\n            $val = $rec[$key];\n            $result[$val][] = $_rec_mapper($rec);\n        } else {\n            // $result[""][] = $rec;// incorrect shape of the array\n            die("incorrect shape of the array, $key missing in " . json_encode(array_keys($rec)));\n        }\n    }\n    // perform reduce on results\n    if (null !== $_rs_reducer) {\n        $result2 = [];\n        foreach ($result as $key => $sub_rs) {\n            // perform reducer:\n            // function($carry_v, $cur_v) {\n            //     $carry_v += $cur_v;\n            //     return $carry_v;\n            // }\n            $final_v = array_reduce($sub_rs, $_rs_reducer, $initial_v);\n            $result2[$key] = $final_v;\n        }\n        return $result2;\n    }\n    return $result;\n}\n/*\n$r = array_group_by($data, $key = 'gender');\n$r2 = array_group_by($data, $key = 'gender', function ($r) {return strlen($r['name']);}, function ($carry_v, $cur_v) {\n    $carry_v += $cur_v;\n    return $carry_v;\n});\n// count records by having a key\n$r3 = array_group_by($data, $key = 'gender', function ($r) {return 1;}, function ($carry_v, $cur_v) {\n    $carry_v += $cur_v;\n    return $carry_v;\n});\n*/
turbolinks_|jq_turbolinks_
find_delete_|echo exec("find $backup_path/*.sql.gz -mtime +10 -delete")."\\n";
preg_quote_|\n// caratteri che vengono escaped:   . \\ + * ? ^ $ [ ] ( ) { } < > = ! | :\n/* esempio d'uso\n$search_term = preg_quote($_REQUEST['search_term'],'/');\nif (preg_match("/\\b$search_term/i", $str )) {\n   print 'match! '.$str;\n} \n*/\n$reg = preg_quote($reg, '/');
pdo_update_|$stmt = $pdo->prepare('UPDATE users SET name = :name WHERE id = :id');\n$id = 1; //filter_input(INPUT_GET, 'id', FILTER_SANITIZE_NUMBER_INT); // <-- filter your data first\n$name = 'aaa'; //filter_input(INPUT_GET, 'name', FILTER_SANITIZE_STRING); // <-- filter your data first\n$stmt->bindParam(':id', $id, PDO::PARAM_INT); // <-- Automatically sanitized for SQL by PDO\n$stmt->bindParam(':name', $name, PDO::PARAM_STR); // <-- Automatically sanitized for SQL by PDO\n$stmt->execute();
gmp_|$a = gmp_init(42);\n$b = gmp_init(17);\n\nif (version_compare(PHP_VERSION, '5.6', '<')) {\n    echo gmp_intval(gmp_add($a, $b)), PHP_EOL;\n    echo gmp_intval(gmp_add($a, 17)), PHP_EOL;\n    echo gmp_intval(gmp_add(42, $b)), PHP_EOL;\n} else {\n    echo $a + $b, PHP_EOL;\n    echo $a + 17, PHP_EOL;\n    echo 42 + $b, PHP_EOL;\n}
error_reporting_|ini_set('html_errors', '1');\nif(ENV::isDev() || ENV::isCERT() ){\n\terror_reporting(-1); // E_ALL Report all PHP errors / E_ALL & ~E_NOTICE =>Report all errors except E_NOTICE\n\tini_set('display_errors', '1');// PROD shoul only log, not displaying achitecture informations\n} else {\n\terror_reporting();//safe for PROD\n}\n// log app errors\nini_set('log_errors', '1');\n$log_path = __DIR__.'/data/log/PHP_'.date('Y_m').'.log';\n@see log_roll_\nini_set('error_log', $log_path );\n\n
suite_bean_by_id_|$cliente = BeanFactory::getBean('Accounts', $contractBean->contract_account_id);\n$cliente->load_relationship('leads');\n$lead_id = $cliente->leads->get()[0];\n$lead = BeanFactory::getBean('Leads', $lead_id);
popen_|// richiama un programma,\n// passa una stringa sul STDIN del child,\n// legge una stringa da STDOUT del child\n// ritorna bool success e la stringa di risultato\nfunction OS_call( $cmd, $input ) {\n    $err_file = sprintf("/tmp/%s_error_%s.txt", __FUNCTION__, date('Ymd_His') );\n    $descriptorspec = array(\n        0 => array("pipe", "r"),  // stdin is a pipe that the child will read from\n        1 => array("pipe", "w"),  // stdout is a pipe that the child will write to\n        2 => array("file", $err_file, "a") // stderr is a file to write to\n    );\n    $cwd = '/tmp';\n    $env = [];\n    $process = proc_open($cmd, $descriptorspec, $pipes, $cwd, $env);\n    if (is_resource($process)) {\n        // $pipes now looks like this:\n        // 0 => writeable handle connected to child stdin\n        // 1 => readable handle connected to child stdout\n        // Any error output will be appended to $err_file\n        fwrite($pipes[0], $input);\n        fclose($pipes[0]);\n        //\n        $result = stream_get_contents($pipes[1]);\n        fclose($pipes[1]);\n        // It is important that you close any pipes before calling\n        // proc_close in order to avoid a deadlock\n        $return_value = proc_close($process);\n        if( $return_value == 0 ) {\n            unlink($err_file);\n            return [true, $result];\n        } else {\n            return [false, file_get_contents( $err_file ) ];\n        }\n    }\n}\n// passa un array di dati serializzato al programma che ci si aspetti restituisca una strina json\n// OS_call_response: programma chiamante e chiamato devono accordarsi su un protocollo comune di risposta\nfunction OS_call_serial(string $command, array $data):array {\n    $input = json_encode($data, JSON_UNESCAPED_UNICODE | JSON_PRETTY_PRINT);\n    if( $json === false ) { die( json_last_error_msg() ); }\n    list($return_value, $json_str) = OS_call( $cmd, $input );\n    if( $return_value ) {\n        $a_result = json_decode($json_str, $use_assoc=true);\n        return $a_result;\n    }\n}\n// implementa una response\nfunction OS_call_response(bool $success, $data, array $errors ){}\n\n$cmd = 'php';\n$input =  <<<__END__\n<?php print_r( ['a'=>1, 'b'=>2] );\n__END__;\nlist($success, $result) = OS_call( $cmd, $input );\necho "command returned $success $result \\n";
hack_|#!/usr/bin/hhvm -vEval.Jit=1\n<?hh
sqlite_|<?php\ndeclare (strict_types = 1);\n\n// @see PDO_\n\n//\n// log sql: tempi e numero\n// - quali sono più frequenti\n// - quali sono lente\n// - quali sono frequenti e lente, quindi vanno ottimizzate\nclass SQLLog {\n    static $rows = [];\n    // logga un ordine eseguito da mobile\n    public static function log( $p_sql, array $a_params=[], $time ) {\n        self::$rows[] = [\n            'p_sql'    => $p_sql,\n            'time'     => $time,\n            'a_params' => $a_params\n        ];\n    }\n    // scrivi effettivamente le righe di log\n    // in batch alla fine dell'esecuzione in modo da tenere in loc il DB il meno possibile\n    public static function write() {\n        Sqlite_DB::ensureConnection();\n        foreach( self::$rows as $i => $row ) {\n            extract($row);\n            $_sql = 'insert into AS400_QRY_LOG (ID_QRY, SQL, TIME, PARAMS ) VALUES ( :ID_QRY, :SQL , :TIME , :PARAMS ) ';\n            $s_params = str_replace('"',"'", json_encode(array_values($a_params)) );\n            try {\n                $res = Sqlite_DB::exec($_sql, $sql_params = [\n                    'ID_QRY' => md5($p_sql),\n                    'SQL'    => $p_sql,\n                    'TIME'   => $time,\n                    'PARAMS' => $s_params\n                ]);\n            } catch (\\Exception $e) {\n                $fmt = 'Exception: <b>%s</b><br>\n                file:%s line:%s <br>\n                trace:<pre>%s</pre>';\n                $msg = sprintf($fmt,\n                    $e->getMessage(),\n                    $e->getFile(), $e->getLine(),\n                    $e->getTraceAsString()\n                );\n                if( 1 ) { echo $msg; };\n            }\n        }\n        Sqlite_DB::disconnect();\n    }\n}\n\n// scrive in batch alla fine delle elaborazioni per tenere la risorsa aperta il meno possibile\nregister_shutdown_function('SQLLog::write');\n\n\n\n// uso:  Sqlite_DB::exec($sql);\nclass Sqlite_DB {\n    protected static $conn = null;\n    public static function connect() {\n        if( !empty(self::$conn) ) {\n            return;\n        }\n\n        $path = sprintf('%s/%s_%s.db', __DIR__, 'sql_log', date('Ym') );\n        //\n        // echo "echo SL connect  $path  \\n";\n        self::$conn = new \\SQLite3($path);\n        if (!self::$conn) {\n            $msg = sprintf('Errore %s ', self::$conn->lastErrorMsg());\n            throw new \\Exception($msg);\n        } else {\n            // wait a few seconds for the lock to clear when you execute queries\n            self::$conn->busyTimeout(5000);\n            // WAL mode has better control over concurrency.\n            // Source: https://www.sqlite.org/wal.html\n            //  (it is defaulting to 'delete', as stated here: https://www.sqlite.org/wal.html (see Activating And Configuring WAL Mode)\n            // self::$conn->exec('PRAGMA journal_mode = wal;');// Write-Ahead Logging\n            //\n            // // init db if needed\n            // try {\n            //     self::qry('select time from AS400_QRY_LOG where ID=1');\n            // } catch (\\Exception $e) {\n            //     self::_db_init();\n            // }\n        }\n    }\n\n    public static function disconnect() {\n        // echo "SL disconnect \\n";\n        self::$conn->close();\n        self::$conn=null;\n    }\n\n\n    // init tabelle\n    public static function _db_init() {\n        $sql = "CREATE TABLE IF NOT EXISTS AS400_QRY_LOG (\n        ID        INTEGER PRIMARY KEY , -- id riga automatico\n        ID_QRY    CHAR(40) NOT NULL,    -- hash della query per fare il count\n        SQL       TEXT NOT NULL,\n        TIME      INT  NOT NULL,        -- exec time\n        PARAMS    CHAR(400)\n        ); ";\n\n        $ret = self::exec($sql);\n\n        return $ret;\n    }\n\n    // test sul db appena aperto\n    public static function _run_test() {\n        echo "init DB \\n";\n        self::_db_init();\n        // INSERT INTO AS400_QRY_LOG ( ID_QRY, SQL, TIME, PARAMS )\n        // VALUES ( 'aaa".time()."', 'sql', 0.12, 'params' ) ;\n        $sql = "SELECT * from AS400_QRY_LOG;";\n        $a_rows = self::qry($sql);\n        echo var_dump(self::$conn, $a_rows), "\\n";\n        if( empty($a_rows) ){\n            SQLLog::log( $p_sql='select * from test',   $a_params=['a'=>'gg','b'=>'ss'], $time=0.0067 );\n        }\n        die();\n    }\n    // assicura che la connessione sia aperta\n    public static function ensureConnection() {\n        if (empty(self::$conn)) {\n            self::connect();\n        }\n    }\n\n    // param escaping\n    // timing\n    // logging\n    // Sqlite::qry('SELECT bar FROM foo WHERE id=:id',[':id' => (int)$id ])\n    // @see SQLite3::escapeString($id)\n    public static function qry( $sql, array $params = []) {\n        // echo $sql;\n        // assicura che ci sia la connessione aperta\n        self::ensureConnection();\n        if( empty( $params)  ) {\n            $ret = self::$conn->query($sql);\n        } else {\n            // 'SELECT bar FROM foo WHERE id=:id'\n            $stmt = $db->prepare($sql);\n            foreach($params as $key => $val ) {\n                // $key like ':id'\n                $stmt->bindValue($key, $val, self::getArgType($val) );\n            }\n            $ret = $stmt->execute();\n        }\n        $a_row = [];\n        while ($row = $ret->fetchArray(SQLITE3_ASSOC)) {\n            $a_row[] = $row;\n        }\n        return $a_row;\n    }\n\n    // // cached query\n    // public static function queryc($sql, $params=[], $ttl_secs = TTL_8H  ) {\n    //     $_clean = function ($s){ return preg_replace('/[^a-z0-9]/i', '_',$s); };\n    //     $key = sprintf('%s_%s_%s', $_clean(__METHOD__), md5($sql), md5(json_encode($params)) );\n    //     // @see cache_\n    //     return self::cache($key, function() use($sql, $params) {\n    //             return self::query($sql, $params);\n    //     }, $ttl_secs );\n    // }\n\n    //\n    // ALWAYS SET THE CORRECT TYPE OF VARS:\n    // For example:\n    // $st = $db->prepare('SELECT * FROM test WHERE (a+1) = ?');\n    // $st->bindValue(1, 2);\n    // Will never return any result as it is treated by SQLite as if the query was\n    // 'SELECT * FROM test WHERE (a+1) = "2"'.\n    //\n    // Instead you have to set the type manually:\n    // $st = $db->prepare('SELECT * FROM test WHERE (a+1) = ?');\n    // $st->bindValue(1, 2, \\SQLITE3_INTEGER);\n    // will work.\n    //\n    // SQLITE3_INTEGER: The value is a signed integer, stored in 1, 2, 3, 4, 6, or 8 bytes depending on the magnitude of the value.\n    // SQLITE3_FLOAT: The value is a floating point value, stored as an 8-byte IEEE floating point number.\n    // SQLITE3_TEXT: The value is a text string, stored using the database encoding (UTF-8, UTF-16BE or UTF-16-LE).\n    // SQLITE3_BLOB: The value is a blob of data, stored exactly as it was input.\n    // SQLITE3_NULL: The value is a NULL value.\n    public static function getArgType($arg) {\n        switch (gettype($arg)) {\n        case 'double': return SQLITE3_FLOAT;\n        case 'integer': return SQLITE3_INTEGER;\n        case 'boolean': return SQLITE3_INTEGER;\n        case 'NULL': return SQLITE3_NULL;\n        case 'string': return SQLITE3_TEXT;\n        default:\n            throw new \\InvalidArgumentException('Argument is of invalid type '.gettype($arg));\n        }\n    }\n\n\n    // // ritorna un songolo record ed eventualmente un singolo campo del record\n    // public static function qry_one(string $sql, string $column='', array $params = []) {\n    //     $recs = self::qry($sql, $params);\n    //     if( !isset($recs[0])  ) {\n    //         return [];\n    //     }\n    //     $rec = $recs[0];\n    //     if( empty($column) ) {\n    //         return $rec;\n    //     } else {\n    //         return $rec[$column];\n    //     }\n    // }\n\n    //\n    // esegue stmt diversi da select, es insert update delete\n    // @see SQLite3::escapeString($id)\n    public static function exec( $sql, array $params=[]) {\n        // echo '<pre>'.$params['SQL']."</pre>\\n";\n        if (self::isSelect($sql)) {\n            $msg = sprintf('Errore %s ', 'exec() sql è un statement select, usare per insert');\n            throw new SqlException($msg);\n        }\n        // assicura che ci sia la connessione aperta\n        self::ensureConnection();\n        if( empty( $params)  ) {\n            $ret = self::$conn->exec($sql);\n            return $ret;\n        } else {\n            // 'SELECT bar FROM foo WHERE id=:id'\n            $stmt = self::$conn->prepare($sql);\n            foreach($params as $key => $val ) {\n                // $key like ':id'\n                $stmt->bindValue($key, $val, self::getArgType($val) );\n            }\n            $ret1 = $stmt->execute();\n            $ret2 = self::$conn->lastInsertRowID();\n            return [$ret1, $ret2];\n        }\n        if (!$ret) {\n            $msg = sprintf('Errore %s %s', self::$conn->lastErrorMsg(), $sql);\n            throw new \\Exception($msg);\n        }\n    }\n    // determina se una string è un select stmt\n    public static function isSelect( $sql) {\n        return 'select' == $sql_begin = strtolower(substr($sql = trim($sql), 0, $l = strlen('select') ));\n    }\n}\n\n// if colled directly, run the tests:\n// NOTE: run under www-data user, so that db is available to the site\nif ( isset($argv) && basename($argv[0]) == basename(__FILE__)) {\n\n    // in PROD il DB va inizializzato a mano\n    $current_user = trim(`whoami`);\n    // permetto più utenti per il testing, ma per i permessi sui log files, l'ideale è lanciare lo script con www-data\n    if (!in_array($current_user, ['www-data'])) {\n        $msg = "lanciare con utente www-data(current:$current_user):\\n" .\n        "sudo -u www-data {$argv[0]} \\n\\n";\n        die($msg);\n    } else {\n        Sqlite_DB::_run_test();\n    }\n}\n\n\n\n
perc_|bc_
shmem_|shared_mem_
form_validate_|// form validation\nclass FormValidator {\n    public static function validate($_post, $a_validators, $validator_global = null) {\n        $err_count = 0;\n        foreach ($a_validators as $field_name => $f_validator) {\n            $val = $_post[$field_name];\n            list($is_valid, $err_msg) = $f_validator($val, $field_name);\n            $a_field_errors[$field_name] = $err_msg;\n            $err_count += $is_valid ? 0 : 1; //incrementa conteggio errori\n        }\n        $is_form_valid = $err_count == 0;\n        // a global validator for aggregate logic\n        $a_form_errors=[];\n        if ($validator_global) {\n            list($is_form_valid_global, $a_form_errors) = $validator_global($_post, $is_form_valid);\n        } elseif (!$is_form_valid) {\n            $a_form_errors[] = 'form contiene errori';\n        }\n        //\n        return [$is_form_valid, $a_form_errors, $a_field_errors];\n    }\n}\n \nif ( !empty($_REQUEST) ) {\n    list($is_valid, $a_form_errors, $a_field_errors) = FormValidator::validate($_REQUEST, [\n        "name" => function ($val, $name) {\n            $is_valid = !empty($val);\n            $err_msg = $is_valid ? "" : "errore $name";\n            return [$is_valid, $err_msg];\n        },\n        "email" => function ($val, $name) {\n            $is_valid = filter_var($val, FILTER_VALIDATE_EMAIL);\n            $err_msg = $is_valid ? "" : "errore $name";\n            return [$is_valid, $err_msg];\n        },\n        "message" => function ($val, $name) {\n            $is_valid = !empty($val);\n            $err_msg = $is_valid ? "" : "errore $name";\n            return [$is_valid, $err_msg];\n        },\n        "cb_informativa" => function ($val, $name) {\n            $is_valid = $val == 1;\n            $err_msg = $is_valid ? "" : "errore $name";\n            return [$is_valid, $err_msg];\n        },\n    ]);\n}
blade_php_|@php\n@endphp
log_roll_|// simplest: just delete after threshold\nif( file_exists($log_path) ){\n    $roll_at = 10 * (1024 * 1024);//10MB\n    if( filesize($log_path) >= $roll_at ){\n        unlink( $log_path );\n    }\n}\n/**\n * a una specifica grandezza del file, lo rinomina in _1..9.log\n */\nfunction log_roll( $log_dir, $log_file, array $opt = [] ) {\n    $option = array_merge([\n        'date_suffix' => '_Y-m',\n        'ext' => '.log',\n        'max_logs' => 10,\n        'log_size' => '10mb',\n        'force' => false,\n    ], $opt);\n    extract($option);\n    // Renames a file, if $new_file already exists, it will first unlink it and then rename it.\n    $_unlink_rename = function (string $old_filename, string $new_filename): bool {\n        if (empty($old_filename) || empty($new_filename)) {\n            return false;\n        }\n        if (file_exists($new_filename)) {unlink($new_filename);}\n        $success = rename($old_filename, $new_filename);\n        return $success;\n    };\n    $roll_at = str_to_bytes($log_size); // @see str_to_bytes_\n    $date_suffix = date($date_suffix);\n    // ssicura che dir sia specificato con trailing /\n    if ('/' != ($last_char = substr($log_dir, -1))) {\n        $log_dir .= '/';\n    }\n    $log_path = $log_dir . $log_file . $date_suffix . $ext;\n    // check if our log file is greater than that or if we are forcing the log to roll if and only if roll size assigned the value correctly\n    if ($roll_at && filesize($log_path) >= $roll_at) {\n        //now lets move the logs starting at the oldest and going to the newest\n        for ($i = $max_logs - 2; $i > 0; $i--) {\n            if (file_exists($log_dir . $log_file . $date_suffix . '_' . $i . $ext)) {\n                $to = $i + 1;\n                $old_name = $log_dir . $log_file . $date_suffix . '_' . $i . $ext;\n                $new_name = $log_dir . $log_file . $date_suffix . '_' . $to . $ext;\n                $_unlink_rename($old_name, $new_name);\n            }\n        }\n        //now lets move the current .log file\n        $new_path = $log_dir . $log_file . $date_suffix . '_1' . $ext;\n        $_unlink_rename($log_path, $new_path);\n    }\n    return $log_path;\n}\n// @see str_to_bytes_\n
str_right_|substr( $str, -1 ) \nfunction str_right($str, $length) {\n    return mb_substr($str, -$length);\n}\n// str_ends_\n
mail_|$mail_res = mail($to, $subject, $message);\n// @see anchor_mail_
cast_|(bool) $x\n// cast_int_
ReflectionClass_|$class = new ReflectionClass($this);//'Apple'\n$methods = $class->getMethods();\nvar_dump($methods);
safe_num_|\nfunction safe_num($n):string {\n    return preg_replace('~[^0-9]+~','',$n);\n}
jq_form_validation_|form_
multi_processing_|$cmd = "php worker.php 10";\n// "fire and forget" a command\nfunction go($cmd) {\n  // for windows use popen and pclose\n  if(strtoupper(substr(PHP_OS, 0, 3)) === 'WIN') {\n    pclose(popen($cmd,"r"));\n  } else {\n    //for unix systems use shell exec with "&" in the end\n    exec('bash -c "exec nohup setsid '.$cmd.' > /dev/null 2>&1 &"');\n  }\n}\n// @see pcntl_\n\n\n\n
defined_|defined('MYCONST')
docstring_|/**\n * @param mixed $data\n * @return array|string|mixed\n */\n@see type_*
array_unset_last_|array_pop_
dir_walk_|$directories = glob($somePath . '/*' , GLOB_ONLYDIR);\n//\n//\nfunction dir_recursive_walk(string $target_dir, string $regex='/^.+\\.php$/i', callable $op):array {\n        $dir = new RecursiveDirectoryIterator($target_dir);\n        $it = new RecursiveIteratorIterator($dir);\n        $i_files = new RegexIterator($it, $regex, RecursiveRegexIterator::GET_MATCH);\n\t$a_res=[];\n        foreach($i_files as $_i=>$a_file){\n                $file=$a_file[0];\n\t\t$a_res[$file]=$op($file); \n        }\n        return $a_res;\n}\n\n//\n// all files inside a dir\nfunction dir_recursive_files(string $target_dir, string $regex = '/^.+\\.php$/i') :array {\n    $dir = new RecursiveDirectoryIterator($target_dir);\n    $it = new RecursiveIteratorIterator($dir);\n    $i_files = new RegexIterator($it, $regex, RecursiveRegexIterator::GET_MATCH);\n    $a_files = iterator_to_array($i_files);\n    $a_files = array_map(function ($val) {\n        return $val[0];\n    }, $a_files);\n    return $a_files;\n}\n\n\n\n
preg_links_|\nfunction link_extract($text ) {\n    $a = array();\n    if (preg_match_all('/<A\\s+.*?HREF=[\\"\\']?([^\\"\\' >]*)[\\"\\']?[^>]*>(.*?)<\\/A>/i',\n                       $text, $matches,PREG_SET_ORDER)) {\n        foreach($matches as $match) {\n            array_push($a,array($match[1],$match[2]));\n        }\n    }\n    return $a;\n}\n// always test regexps\n$text = 'xxxx'; \nok( link_extract($text ), true, 'link extract' );\n\n\n
type_rec_|/** @return array{foo: string, bar: int, optional_field?: string} */\n\n/** @return ValueType[] */\n/** @param list<string> $arr */\n\n \n
interface_|interface ICommand {\n    // no class vars allowed\n    // The class implementing the interface must use the exact same method signatures as are defined in the interface. Not doing so will result in a fatal error.\n    public function run();\n}
global_|$GLOBALS['UPPERCASE_CONVENTION'] = '';\n// alt:\nglobal $ONE;\n$ONE = "1"; \n$stuff = function() {\n    global $ONE; }
memory_|memory_limit_
chart_js_|<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/morris.js/0.5.1/morris.css">\n<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>\n<script src="//cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>\n<script src="//cdnjs.cloudflare.com/ajax/libs/morris.js/0.5.1/morris.min.js"></script>\n<div id="myfirstchart" style="height: 250px;"></div>\n<script>\nnew Morris.Line({\n  // ID of the element in which to draw the chart.\n  element: 'myfirstchart',\n  // Chart data records -- each entry in this array corresponds to a point on\n  // the chart.\n  data: [\n    { year: '2008', value: 20 },\n    { year: '2009', value: 10 },\n    { year: '2010', value: 5 },\n    { year: '2011', value: 5 },\n    { year: '2012', value: 20 }\n  ],\n  // The name of the data record attribute that contains x-values.\n  xkey: 'year',\n  // A list of names of data record attributes that contain y-values.\n  ykeys: ['value'],\n  // Labels for the ykeys -- will be displayed when you hover over the\n  // chart.\n  labels: ['Value']\n});\n</script>
ob_|ob_start();\necho 'something';// program that produces output\n$dump = ob_get_clean();\n\n\n// start ob wrapper before session_start();\nif(!ob_start("ob_gzhandler")) { ob_start(); } else{\n//ob_start("ob_gzhandler") returns FALSE if browser doesn't support gzip, so then is called normal ob_start();\n}\n/**\n * Captures PHP output into a string.\n */\nClass OB {\n\tpublic static function capture(callable $func): string {\n\t\tob_start(function () {});\n\t\ttry {\n\t\t\t$func();\n\t\t\treturn ob_get_clean();\n\t\t} catch (\\Throwable $e) {\n\t\t\tob_end_clean();\n\t\t\tthrow $e;\n\t\t}\n\t}\n}
uid_|$uid = md5(uniqid(__FUNCTION__));
fatal_|WebError::fatal($msg)
parseint_|intval_
jq_onload_|jq_load_
preg_match_|$_valid_phone = function (string $num): bool{\n            if( empty($num ) ) { return false; }\n            $fmt_f = '/^([0-9\\-\\+\\s]{6,20})$/i';\n            $is_f = 1 == preg_match($fmt_f, $num);\n            return $is_f;\n};\n// always wrap regexp to test them\nfunction is_x($str) {\n\t$reg='/^(\\-?)([0-9\\.\\,]*)$/i';\n\t$is_reg = preg_match($reg, $str, $a_matched);\n        if ( 1 == $is_reg ) {\n            return true;\n        } elseif( $is_reg === false ) {\n            // regex is bad\n            if (preg_last_error() !== PREG_NO_ERROR) { echo preg_last_error_msg(); }\n        } else {\n            return false;\n        }\n\n\n    // basic match\n    $is_ = 1 === preg_match('/fox/', "The quick brown fox jumps over the lazy dog"); // contains: returns 1\n    // preg_match_all returns all\n    // matching results in the subject string (in contrast to preg_match , which only returns the first one).    \n    $is_ = 1 === preg_match('/^[A-Z0-9_]{1,30}$/i', 'aaa'); // returns 1\n    $fmt_date = '/^([0-9]{2})\\/([0-9]{2})\\/([0-9]{4})$/i';\n    //\n    $is_format_date2 = '/^(\\d{1,2})\\/(\\d{1,2})\\/(\\d{4})$/';\n    //\n    $is_extension_x = 1 === preg_match('/^(.*).xls$/', $str);\n    // validation\n    if (!preg_match('/^[A-Z0-9_]{1,30}$/i', $str)) {\n        //  non conforme\n    }\n    if (1 === preg_match('/^[\\sA-Z0-9]$/i', $str)) {\n        // ok\n    }\n}\nok(is_x($str), true, 'test is_x');\n\n// @see str_like_\n// @see preg_extract_\n\n//\n// x controllare se una stringa è contenuta in un'altra, sono più veloci\n// strpos_\n// strstr_\n//\n// sanitization: preg_replace_\n// regexp ref: regex_\n// date format validation: date_check_\n// parsing url: preg_url_\n\n\n\n\n
//--|//----------------------------------------------------------------------------\n//  $1\|\n//----------------------------------------------------------------------------
array_filter_keys_|$a_list = ['foo' => 1, 'hello' => 'world'];\n$a_allowed  = ['foo', 'bar'];\n$a_filtered = array_filter( $a_list, function ($key) use ($a_allowed) {\n        return in_array($key, $allowed);\n}, ARRAY_FILTER_USE_KEY );\n\n// dato un Hash, trattiene solo le chiavi/valori che passino il test\nfunction h_filter(array $h_1, $_f ) {\n    $h_2 = [];\n    foreach( $h_1 as $key => $val ) {\n        if( $_f($key, $val) ) {\n            $h_2[$key] = $val ;\n        }\n    }\n    return $h_2;\n}\n\n
whilers_|while ($a = mysql_fetch_assoc($rs)) {\|}
mktime_|$timestamp = mktime($hour=date("H"), $minute=date("i"), $second=date("s"), $month=date("n"), $day=date("j"), $year=date("Y") );
_map_|$a_data = __::map( ['one'=>1, 'two'=>2, 'three'=>3], function($num, $key) {\n  return $num * 3;\n});
twb_navbar_|<nav class="navbar navbar-default">\n  <div class="container-fluid">\n    <!-- Brand and toggle get grouped for better mobile display -->\n    <div class="navbar-header">\n      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">\n        <span class="sr-only">Toggle navigation</span>\n        <span class="icon-bar"></span>\n        <span class="icon-bar"></span>\n        <span class="icon-bar"></span>\n      </button>\n      <a class="navbar-brand" href="#">Brand</a>\n    </div>\n\n    <!-- Collect the nav links, forms, and other content for toggling -->\n    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">\n      <ul class="nav navbar-nav">\n        <li class="active"><a href="#">Link <span class="sr-only">(current)</span></a></li>\n        <li><a href="#">Link</a></li>\n        <li class="dropdown">\n          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Dropdown <span class="caret"></span></a>\n          <ul class="dropdown-menu">\n            <li><a href="#">Action</a></li>\n            <li><a href="#">Another action</a></li>\n            <li><a href="#">Something else here</a></li>\n            <li role="separator" class="divider"></li>\n            <li><a href="#">Separated link</a></li>\n            <li role="separator" class="divider"></li>\n            <li><a href="#">One more separated link</a></li>\n          </ul>\n        </li>\n      </ul>\n      <form class="navbar-form navbar-left">\n        <div class="form-group">\n          <input type="text" class="form-control" placeholder="Search">\n        </div>\n        <button type="submit" class="btn btn-default">Submit</button>\n      </form>\n      <ul class="nav navbar-nav navbar-right">\n        <li><a href="#">Link</a></li>\n        <li class="dropdown">\n          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Dropdown <span class="caret"></span></a>\n          <ul class="dropdown-menu">\n            <li><a href="#">Action</a></li>\n            <li><a href="#">Another action</a></li>\n            <li><a href="#">Something else here</a></li>\n            <li role="separator" class="divider"></li>\n            <li><a href="#">Separated link</a></li>\n          </ul>\n        </li>\n      </ul>\n    </div><!-- /.navbar-collapse -->\n  </div><!-- /.container-fluid -->\n</nav>
sprintf_|sprintf('%s %d %1$s/%2$d ', $str ) // not utf8 ready
class_|// funzione:\nfinal class $1 \n// extends XX implements YY\| \n{\n    private $property = 0;// all state private/incapsulated\n    // 7.4\n    public ?int $scalarType;\n    protected ClassName $classType;\n    private ?ClassName $nullableClassType;\n\n    // inject all state and dependency, only from one point\n    public function __construct(Logger $my_logger){}\n    // your publi API\n    public function addXX(){}\n    // megic methods\n    public function __toString(){ return __CLASS__; }\n    // disable cloning by default to avoid problems\n    public function __clone() {\n        throw new \\DomainException('do not clone '.__CLASS__ );\n    }\n    // be carefull od dependency if you implement serialization\n    public function __sleep() {\n        throw new \\BadMethodCallException('not meant for serialization');\n    }\n}
hash_|$alg = 'sha512';// a very strong alg, md5 is weak\nif (function_exists('hash_algos') && in_array($alg, hash_algos())) {\n    // un modo per generare un token random di 128 char\n    $token = hash($alg, $val=mt_rand(0, mt_getrandmax()));\n    // il time deve essere spedito con la risposta per eventuale controllo del client\n    $time = time();\n    // checksum del contenuto + id + time\n    $message_hash = hash_hmac($alg, $message=json_encode(['a'=>0,'b'=>1]), $token.$time);\n}\n\n// Resp signature:\n  // check all intended content is sent\n  $response_data['checksum'] = md5( http_build_query($response_data['data']) );\n  // when data was generated\n  $response_data['sign_time'] = date('ymdHi');// time down to minute instead of secconds\n  // data is really generated by this server and is fresh\n  $response_data['sign'] = md5(self::SIGN.$response_data['checksum'].$response_data['sign_time'] );// hmac\n  // now client can check the server is authoritative knowing SIGN\n\n// to hash a password:\n$ph = password_hash($passwd, PASSWORD_DEFAULT) ;\n\n\n\n
exceptions_|spl_exceptions_
get_type_|gettype_
array_equals_|// check che tutto ciò che è in $a2 sia in $a\nfunction array_equals($a, $a2) {\n        foreach ($a2 as $k => $v) {\n            if (isset($a[$k])) {\n                if ($a[$k] != $v) {\n                    return false;\n                }\n            } else {\n                return false;\n            }\n        }\n        return true;\n}
f_v_|f_#$1#
date_|$s_today = date('Y-m-d H:i:s', TIME ) \n// W=>number of the current week, es. 42\n// $day = (string) date('w'); if ($day === '0' || $day === '6') {//sun || sat}\n
phpb_|<?php\n\|\n?>
boundaries_|clamp_
dir_recursive_walk_|$iterator = new RecursiveIteratorIterator(new RecursiveDirectoryIterator($pathname));\n\nforeach($iterator as $item) {\n    chmod($item, $filemode);\n}
dump_|var_
utf8_|$s = iconv("UTF-8", "UTF-8//IGNORE", $s); // drop all non utf-8 characters\n\n// to convert between character sets \n$utf8_text = iconv($from="ISO-8859-1", $to="UTF-8", $latin1_text);\n// translit\n$str= \\iconv('UTF-8', 'ASCII//TRANSLIT', "Cliënt"); // output: "Client"\n\nfunction is_utf8($W){\n    return (preg_match('~~u',$W)&&!preg_match('~[\\0-\\x8\\xB\\xC\\xE-\\x1F]~',$W));\n}\n/*\n@see wiki page utf8\n*/
sql_is_not_NULL_|IS NOT NULL\t// DB2 syntax
psalm_object_|/** @param object $obj1 */
strtotime_|// @returns   a timestamp on success, FALSE otherwise\n// accepted format\n$ts = strtotime("2009-01-31"." +1 month" );\n/*\n// convert to accepted format or get error\n$date='27/05/1990';\nif (strpos($date,'/') !== false) { \n\tstrtotime(str_replace('/', '-', $date));\n}\n// format resolver\nfunction apachedate_to_time($date) {\n    list($d, $M, $y, $h, $m, $s, $z) = sscanf($date, "[%2d/%3s/%4d:%2d:%2d:%2d %5s]");\n    return strtotime("$d $M $y $h:$m:$s $z");\n}\n// others accepted formats:\n// becareful using automatic conversions, 31-12 and 12-31 will give unexpected results, specify a pattern instead\n// mm/dd/yyyy - 02/01/2003  - strtotime() returns : 1st February 2003\n// mm/dd/yy   - 02/01/03    - strtotime() returns : 1st February 2003\n// yyyy/mm/dd - 2003/02/01  - strtotime() returns : 1st February 2003\n// dd-mm-yyyy - 01-02-2003  - strtotime() returns : 1st February 2003\n// yy-mm-dd   - 03-02-01    - strtotime() returns : 1st February 2003\n// yyyy-mm-dd - 2003-02-01  - strtotime() returns : 1st February 2003\n\n\n\n// date operations\n$ts_1 = strtotime('-3 months', $now = time() ) // add months to now!\n$ts_1 = strtotime("+5 hours", $now = time()) \n$ts_1 = strtotime("+1 week", $now = time()) \n$ts_1 = strtotime("+1 week 3 days 7 hours 5 seconds", $now = time())\n$ts_1 = strtotime("next Monday", $now = time()) \n$ts_1 = strtotime("last Sunday", $now = time())\n$ts_1 = strtotime('-5 weeks monday', $now = time() ) // returns the monday of 5 weeks ago.\n// error checking\n//  PHP < 5.1.0  compare with -1, instead of false\nif( ( $ts = strtotime( 'Not Good') ) === false) { \n  // parse error $date \n} else {\n  //date ok\n}\n\n// @see datetime_\n$d = new DateTime( '2010-01-31' );\n$d->modify( 'next month' );\necho $d->format( 'F' ), "\\n";\n\n// period loop\n$ts_start = strtotime('2009-02-01'); \n$ts_end = strtotime('+1 month', $ts_start); \n$ts_date = $ts_start; \nwhile($ts_date < $ts_end) {  \n   $ts_date = strtotime("+1 day", $ts_date); \n   echo date('Y-m-d', $ts_date);\n}\n// MySQL:  2009-02-28\n"SELECT DATE_ADD( '2009-01-31', INTERVAL 1 MONTH );"\n*/ \n\n\n// Gets the current date\necho date("m/d/Y", strtotime("now")), "\\n"; // prints the current date\necho date("m/d/Y", strtotime("10 September 2000")), "\\n"; // prints September 10, 2000 in them/d/Y format\necho date("m/d/Y", strtotime("-1 day")), "\\n"; // prints yesterday's date\necho date("m/d/Y", strtotime("+1 week")), "\\n"; // prints the result of the current date + a week\necho date("m/d/Y", strtotime("+1 week 2 days 4 hours 2 seconds")), "\\n"; // same as the last example but with extra days, hours, and seconds added to it\necho date("m/d/Y", strtotime("next Thursday")), "\\n"; // prints next Thursday's date\necho date("m/d/Y", strtotime("last Monday")), "\\n"; // prints last Monday's date\necho date("m/d/Y", strtotime("First day of next month")), "\\n"; // prints date of first day ofnext month\necho date("m/d/Y", strtotime("Last day of next month")), "\\n"; // prints date of last day of next month\necho date("m/d/Y", strtotime("First day of last month")), "\\n"; // prints date of first day of last month\necho date("m/d/Y", strtotime("Last day of last month")), "\\n"; // prints date of last day of last month\n\n// if format is standard\n$timestamp = strtotime('2008-07-01T22:35:17.02');\n$new_date_format = date('Y-m-d H:i:s', $timestamp);\n\n\n
date_diff_|// $format %i => minuti %s => secondi\nfunction date_diff_f($db_date, $now = null, $format = '%i') {\n            $date = date_create($db_date);\n            $time_now = date_create(($now ? $now : date('Y-m-d H:i:s')));// @see now_\n            $interval = date_diff($date, $time_now);\n            return $interval->format($format);\n}\n// %a => Total number of days as a result of a DateTime::diff() or (unknown) otherwise\n$diff_days = date_diff_f($db_date, $now = null, $format = '%a');\n$is_password_expired = $diff_days >= 90;\n\n// span of 2 dates in number of days\nfunction date_span_days(string $d_first, string $d_last): int {\n    if (empty($d_first)) {\n        return 0;\n    }\n    $earlier = new DateTime($d_first);\n    $later = new DateTime($d_last);\n    $diff = $later->diff($earlier);\n    $days = $diff->format("%a");\n    return intval($days);\n}\n\n//\nfunction date_is_before($db_date, $now = null, $format = '%i', $max_minutes=1) {\n    $minutes = date_diff_f($db_date, $now, $format);\n    return $minutes <= $max_minutes;\n}\n\n// @see date_add_\n\n
version_compare_|// PHP version test\nif (PHP_VERSION_ID >= 70000) {\n  // v.7 code\n}\n// alternative\n//if( version_compare(PHP_VERSION, '7.0', '>=') ) {\n//    // v7 code\n//}\n
psalm_callable_|/**\n * @param callable(int): string $fn\n */\nfunction call_something(callable $fn) {\n}
cli_is_cli_|function env_is_cli(){ return strtoupper(PHP_SAPI) === 'CLI'; }
tooltip_|twb_tooltip_
public_|\t//\n\tpublic function $1\|(){\n\t  return true;\n\t}
map_|array_map_
ps_|publics_
date_is_working_day_|date_is_weekend_
fifo_|SplQueue_
power_|pow_\|pow( $base, $exp )
var_rs_|var_\nrs_dump($1);
template_php_|define('PATH_TEMPLATE', realpath(__DIR__.'/../templates'), false);\nif (false === PATH_TEMPLATE) {\n    $msg = sprintf('Errore Dir Path not readable %s ', $s_path );\n    throw new \\Exception($msg);\n}\n// include un template, dalla directory dei templates, opzionalmente assegnando il contenuto della variabili specificate\nfunction template($file_name, array $data = [] , $do_htmlspecialchars=true) {\n    if( !file_exists(PATH_TEMPLATE.'/'.$file_name) ){\n        $msg = sprintf('Errore template %s not found', $file_name );\n        throw new \\Exception($msg);\n    }\n    // le variabili che provengono da $_REQUEST vanno sanitizzate per evitare xss / js injection\n    if($do_htmlspecialchars){\n        $data = array_map($data, 'htmlspecialchars');\n    }\n    ini_set('include_path', PATH_TEMPLATE );\n    ob_start();\n    extract($data);\n    require PATH_TEMPLATE.'/'.$file_name;\n    $buffer = ob_get_contents();\n    ob_end_clean();\n    return $buffer;\n}\n// rende un template all'interno del layout predefinito\nfunction template_layout($file_name, array $data = [] ) {\n    $html = template($file_name, $data );\n    $html_layout = template('layout.phtml', array_merge(['content'=>$html], $data) );\n    return $html_layout;\n}\n\n
if___|ifn_
phpgraphlib_|chart_line_
csv_read_|csv_decode_
count_|count( $a_ )
_min_|$a_recs =array(  array( 'age'=>60 )  );\n$min = __::min($a_recs, function($rec) { return $rec['age']; });
twb_breadcrumbs_|<ol class="breadcrumb">\n  <li><a href="#">Home</a></li>\n  <li><a href="#">Library</a></li>\n  <li class="active">Data</li>\n</ol>\n
between_|is_between_
preg_url_|$url = "http://www.php.net/index.html";\n\n// extract substr:\n//  nome dell'host da un URL\n// always wrap regexp to test them\nfunction url_get_host($url){\n  preg_match("/^(http:\\/\\/)?([^\\/]+)/i", $url, $matches);\n  $NomeHost = $matches[2];\n  // ultimi due segmenti del nome dell'host\n  preg_match("/[^\\.\\/]+\\.[^\\.\\/]+$/", $NomeHost, $matches);\n  $domain = $matches[0];\n  // echo "Nome del dominio:  {$domain}\\n";\n  return $domain ;\n}\nok( url_get_host($url),'www.php.net', '');
psalm_return_mixed_|/** @return mixed */
ereg_replace_|preg_replace_
twb_media_|// image+text list\n<div class="bs-example" data-example-id="default-media"> <div class="media"> <div class="media-left"> <a href="#"> <img alt="64x64" class="media-object" data-src="holder.js/64x64" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9InllcyI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+PCEtLQpTb3VyY2UgVVJMOiBob2xkZXIuanMvNjR4NjQKQ3JlYXRlZCB3aXRoIEhvbGRlci5qcyAyLjYuMC4KTGVhcm4gbW9yZSBhdCBodHRwOi8vaG9sZGVyanMuY29tCihjKSAyMDEyLTIwMTUgSXZhbiBNYWxvcGluc2t5IC0gaHR0cDovL2ltc2t5LmNvCi0tPjxkZWZzPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+PCFbQ0RBVEFbI2hvbGRlcl8xNWQwYzk5MDY2YyB0ZXh0IHsgZmlsbDojQUFBQUFBO2ZvbnQtd2VpZ2h0OmJvbGQ7Zm9udC1mYW1pbHk6QXJpYWwsIEhlbHZldGljYSwgT3BlbiBTYW5zLCBzYW5zLXNlcmlmLCBtb25vc3BhY2U7Zm9udC1zaXplOjEwcHQgfSBdXT48L3N0eWxlPjwvZGVmcz48ZyBpZD0iaG9sZGVyXzE1ZDBjOTkwNjZjIj48cmVjdCB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIGZpbGw9IiNFRUVFRUUiLz48Zz48dGV4dCB4PSIxMy4wNDY4NzUiIHk9IjM2LjUiPjY0eDY0PC90ZXh0PjwvZz48L2c+PC9zdmc+" data-holder-rendered="true" style="width: 64px; height: 64px;"> </a> </div> <div class="media-body"> <h4 class="media-heading">Media heading</h4> Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante sollicitudin commodo. Cras purus odio, vestibulum in vulputate at, tempus viverra turpis. Fusce condimentum nunc ac nisi vulputate fringilla. Donec lacinia congue felis in faucibus. </div> </div> <div class="media"> <div class="media-left"> <a href="#"> <img alt="64x64" class="media-object" data-src="holder.js/64x64" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9InllcyI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+PCEtLQpTb3VyY2UgVVJMOiBob2xkZXIuanMvNjR4NjQKQ3JlYXRlZCB3aXRoIEhvbGRlci5qcyAyLjYuMC4KTGVhcm4gbW9yZSBhdCBodHRwOi8vaG9sZGVyanMuY29tCihjKSAyMDEyLTIwMTUgSXZhbiBNYWxvcGluc2t5IC0gaHR0cDovL2ltc2t5LmNvCi0tPjxkZWZzPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+PCFbQ0RBVEFbI2hvbGRlcl8xNWQwYzk4ZDgyZCB0ZXh0IHsgZmlsbDojQUFBQUFBO2ZvbnQtd2VpZ2h0OmJvbGQ7Zm9udC1mYW1pbHk6QXJpYWwsIEhlbHZldGljYSwgT3BlbiBTYW5zLCBzYW5zLXNlcmlmLCBtb25vc3BhY2U7Zm9udC1zaXplOjEwcHQgfSBdXT48L3N0eWxlPjwvZGVmcz48ZyBpZD0iaG9sZGVyXzE1ZDBjOThkODJkIj48cmVjdCB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIGZpbGw9IiNFRUVFRUUiLz48Zz48dGV4dCB4PSIxMy4wNDY4NzUiIHk9IjM2LjUiPjY0eDY0PC90ZXh0PjwvZz48L2c+PC9zdmc+" data-holder-rendered="true" style="width: 64px; height: 64px;"> </a> </div> <div class="media-body"> <h4 class="media-heading">Media heading</h4> Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante sollicitudin commodo. Cras purus odio, vestibulum in vulputate at, tempus viverra turpis. Fusce condimentum nunc ac nisi vulputate fringilla. Donec lacinia congue felis in faucibus. <div class="media"> <div class="media-left"> <a href="#"> <img alt="64x64" class="media-object" data-src="holder.js/64x64" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9InllcyI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+PCEtLQpTb3VyY2UgVVJMOiBob2xkZXIuanMvNjR4NjQKQ3JlYXRlZCB3aXRoIEhvbGRlci5qcyAyLjYuMC4KTGVhcm4gbW9yZSBhdCBodHRwOi8vaG9sZGVyanMuY29tCihjKSAyMDEyLTIwMTUgSXZhbiBNYWxvcGluc2t5IC0gaHR0cDovL2ltc2t5LmNvCi0tPjxkZWZzPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+PCFbQ0RBVEFbI2hvbGRlcl8xNWQwYzk4ZDQ3OSB0ZXh0IHsgZmlsbDojQUFBQUFBO2ZvbnQtd2VpZ2h0OmJvbGQ7Zm9udC1mYW1pbHk6QXJpYWwsIEhlbHZldGljYSwgT3BlbiBTYW5zLCBzYW5zLXNlcmlmLCBtb25vc3BhY2U7Zm9udC1zaXplOjEwcHQgfSBdXT48L3N0eWxlPjwvZGVmcz48ZyBpZD0iaG9sZGVyXzE1ZDBjOThkNDc5Ij48cmVjdCB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIGZpbGw9IiNFRUVFRUUiLz48Zz48dGV4dCB4PSIxMy4wNDY4NzUiIHk9IjM2LjUiPjY0eDY0PC90ZXh0PjwvZz48L2c+PC9zdmc+" data-holder-rendered="true" style="width: 64px; height: 64px;"> </a> </div> <div class="media-body"> <h4 class="media-heading">Nested media heading</h4> Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante sollicitudin commodo. Cras purus odio, vestibulum in vulputate at, tempus viverra turpis. Fusce condimentum nunc ac nisi vulputate fringilla. Donec lacinia congue felis in faucibus. </div> </div> </div> </div> <div class="media"> <div class="media-body"> <h4 class="media-heading">Media heading</h4> Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante sollicitudin commodo. Cras purus odio, vestibulum in vulputate at, tempus viverra turpis. </div> <div class="media-right"> <a href="#"> <img alt="64x64" class="media-object" data-src="holder.js/64x64" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9InllcyI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+PCEtLQpTb3VyY2UgVVJMOiBob2xkZXIuanMvNjR4NjQKQ3JlYXRlZCB3aXRoIEhvbGRlci5qcyAyLjYuMC4KTGVhcm4gbW9yZSBhdCBodHRwOi8vaG9sZGVyanMuY29tCihjKSAyMDEyLTIwMTUgSXZhbiBNYWxvcGluc2t5IC0gaHR0cDovL2ltc2t5LmNvCi0tPjxkZWZzPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+PCFbQ0RBVEFbI2hvbGRlcl8xNWQwYzk4YjQ4ZSB0ZXh0IHsgZmlsbDojQUFBQUFBO2ZvbnQtd2VpZ2h0OmJvbGQ7Zm9udC1mYW1pbHk6QXJpYWwsIEhlbHZldGljYSwgT3BlbiBTYW5zLCBzYW5zLXNlcmlmLCBtb25vc3BhY2U7Zm9udC1zaXplOjEwcHQgfSBdXT48L3N0eWxlPjwvZGVmcz48ZyBpZD0iaG9sZGVyXzE1ZDBjOThiNDhlIj48cmVjdCB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIGZpbGw9IiNFRUVFRUUiLz48Zz48dGV4dCB4PSIxMy4wNDY4NzUiIHk9IjM2LjUiPjY0eDY0PC90ZXh0PjwvZz48L2c+PC9zdmc+" data-holder-rendered="true" style="width: 64px; height: 64px;"> </a> </div> </div> <div class="media"> <div class="media-left"> <a href="#"> <img alt="64x64" class="media-object" data-src="holder.js/64x64" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9InllcyI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+PCEtLQpTb3VyY2UgVVJMOiBob2xkZXIuanMvNjR4NjQKQ3JlYXRlZCB3aXRoIEhvbGRlci5qcyAyLjYuMC4KTGVhcm4gbW9yZSBhdCBodHRwOi8vaG9sZGVyanMuY29tCihjKSAyMDEyLTIwMTUgSXZhbiBNYWxvcGluc2t5IC0gaHR0cDovL2ltc2t5LmNvCi0tPjxkZWZzPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+PCFbQ0RBVEFbI2hvbGRlcl8xNWQwYzk4ZTlmZiB0ZXh0IHsgZmlsbDojQUFBQUFBO2ZvbnQtd2VpZ2h0OmJvbGQ7Zm9udC1mYW1pbHk6QXJpYWwsIEhlbHZldGljYSwgT3BlbiBTYW5zLCBzYW5zLXNlcmlmLCBtb25vc3BhY2U7Zm9udC1zaXplOjEwcHQgfSBdXT48L3N0eWxlPjwvZGVmcz48ZyBpZD0iaG9sZGVyXzE1ZDBjOThlOWZmIj48cmVjdCB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIGZpbGw9IiNFRUVFRUUiLz48Zz48dGV4dCB4PSIxMy4wNDY4NzUiIHk9IjM2LjUiPjY0eDY0PC90ZXh0PjwvZz48L2c+PC9zdmc+" data-holder-rendered="true" style="width: 64px; height: 64px;"> </a> </div> <div class="media-body"> <h4 class="media-heading">Media heading</h4> Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque ante sollicitudin commodo. Cras purus odio, vestibulum in vulputate at, tempus viverra turpis. </div> <div class="media-right"> <a href="#"> <img alt="64x64" class="media-object" data-src="holder.js/64x64" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9InllcyI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIHZpZXdCb3g9IjAgMCA2NCA2NCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSI+PCEtLQpTb3VyY2UgVVJMOiBob2xkZXIuanMvNjR4NjQKQ3JlYXRlZCB3aXRoIEhvbGRlci5qcyAyLjYuMC4KTGVhcm4gbW9yZSBhdCBodHRwOi8vaG9sZGVyanMuY29tCihjKSAyMDEyLTIwMTUgSXZhbiBNYWxvcGluc2t5IC0gaHR0cDovL2ltc2t5LmNvCi0tPjxkZWZzPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+PCFbQ0RBVEFbI2hvbGRlcl8xNWQwYzk4ZTZjOSB0ZXh0IHsgZmlsbDojQUFBQUFBO2ZvbnQtd2VpZ2h0OmJvbGQ7Zm9udC1mYW1pbHk6QXJpYWwsIEhlbHZldGljYSwgT3BlbiBTYW5zLCBzYW5zLXNlcmlmLCBtb25vc3BhY2U7Zm9udC1zaXplOjEwcHQgfSBdXT48L3N0eWxlPjwvZGVmcz48ZyBpZD0iaG9sZGVyXzE1ZDBjOThlNmM5Ij48cmVjdCB3aWR0aD0iNjQiIGhlaWdodD0iNjQiIGZpbGw9IiNFRUVFRUUiLz48Zz48dGV4dCB4PSIxMy4wNDY4NzUiIHk9IjM2LjUiPjY0eDY0PC90ZXh0PjwvZz48L2c+PC9zdmc+" data-holder-rendered="true" style="width: 64px; height: 64px;"> </a> </div> </div> </div>
twb_tabs_|twb3_tabs_
json_respond_def_|\nclass JSON {\n    protected function respond($isOK, $message = '', array $data = []) {\n            // toglie eventuali messaggi di dbg\n            $dbg_stuff = ob_get_clean();\n            //\n            $r = [\n              'response' => ($isOK ? 'ok' : 'ko'), \n              'message' => $message\n            ];\n            if (!empty($data)) {\n                if (is_array($data)) {\n                    $r['data'] = $data;\n                } else {\n                    die('data must be array');\n                }\n                // if (is_string($data)) {\n                //     $r['data'] = json_decode($data); //altrimenti il successivo encode quota come stringa i dati e non vengono riconosciuti lato client\n                // }\n            }\n            if (!empty($dbg_stuff)) {\n                $r['dbg'] = $dbg_stuff;\n            }\n            header('Content-Type: application/json');\n            die(json_encode($r, JSON_UNESCAPED_UNICODE | JSON_PRETTY_PRINT));\n    }\n} \n// TS client\n// @see /home/taz/Dropbox/projects/ts_tools/json.ts\n\n
_pluck_|$a_names = __::pluck($a_recs, $k='name');\n// array_column_
filemtime_|$time = filemtime($path);\n// corretto per Daylight Saving time\nfunction getCorrectMTime($filePath){\n    $time = filemtime($filePath);\n    $isDST = (date('I', $time) == 1);\n    $systemDST = (date('I') == 1);\n    $adjustment = 0;\n    if ($isDST == false && $systemDST == true) {\n        $adjustment = 3600;\n    } elseif ($isDST == true && $systemDST == false) {\n        $adjustment = -3600;\n    } else {\n        $adjustment = 0;\n    }\n    return ($time + $adjustment);\n}
timing_|profile_
var_obj_|//----------------------------------------------------------------------------\n// var dump enhanced\n//----------------------------------------------------------------------------\n// deep dump of obj\nfunction obj_dump(): string {\n    return call_user_func_array('dump_obj', func_get_args());\n}\nfunction var_obj(): string {\n    return call_user_func_array('dump_obj', func_get_args());\n}\nfunction dump_obj(): string{\n    $_is_array_of_obj = function ($a_obj): bool {\n        if (!is_array($a_obj)) {\n            return false;\n        }\n        foreach ($a_obj as $obj) {\n            if (!is_object($obj)) {\n                return false;\n            }\n        }\n        return true;\n    };\n    $dump = '';\n    foreach (func_get_args() as $obj) {\n        if ($_is_array_of_obj($obj)) {\n            $a_dump = [];\n            foreach ($obj as $v_obj) {\n                $a_dump[] = _dump_obj1($v_obj);\n            }\n            $dump .= '[/*array of ' . count($obj) . ' obj.*/ ' . implode($sep = ', ', $a_dump) . ']';\n        } else {\n            $dump .= _dump_obj1($obj);\n        }\n    }\n    return $dump;\n}\n/** @param object|array|mixed $obj */\nfunction _dump_obj1($obj): string {\n    if (!is_object($obj)) {\n        return '<pre>' . var_export54($obj) . "</pre>\\n";\n    } else { //must be object\n        $_c = function ($txt, $color) {\n            return $txt;\n            //return sprintf('<span style="color:%s;">%s</span>', $color, $txt);\n        };\n        $_b = function ($txt, $color) {\n            return $txt;\n            //return sprintf('<b style="color:%s;">%s</b>', $color, $txt);\n        };\n        $b = '';\n        //$b .= '<pre style="background: #f6f6f6; padding:10px;">' . "\\n";\n        //\n        $_get_all_parents = function ($obj): string{\n            $parent_class_names = [];\n            $parent_class_name = get_parent_class($obj);\n            do {\n                $parent_class_names[] = $parent_class_name;\n            } while ($parent_class_name = get_parent_class($parent_class_name));\n            $str = implode($sep = ', ', $parent_class_names);\n            return $str;\n        };\n        // infer type form default value\n        /** @param mixed $t */\n        $_infer_def_type = function ($t): string {\n            if (is_bool($t)) {\n                return 'bool';\n            } elseif (is_int($t)) {\n                return 'int';\n            } elseif (is_null($t)) {\n                return '/*?*/';\n            } elseif ('' === $t) {\n                return 'string';\n            } elseif (is_array($t)) {\n                return 'array';\n            } elseif (is_string($t)) {\n                return 'string';\n            } else {\n                // echo "'$t'=>" . json_encode($t) . "\\n";\n                return 'string /*' . json_encode($t) . '*/ ';\n            }\n        };\n        //\n        // dump\n        //\n        $b .= "class " . get_class($obj) . " extends " . $_get_all_parents($obj) . "{\\n";\n        foreach ($obj as $key => $val) {\n            if (is_object($val)) {\n                $val = 'null;// an instance of class:' . get_class($val) . '';\n            } elseif (is_array($val)) {\n                //$val = @json_encode($val, JSON_THROW_ON_ERROR|JSON_INVALID_UTF8_SUBSTITUTE|JSON_PARTIAL_OUTPUT_ON_ERROR|JSON_PRETTY_PRINT);\n                $val = var_export54($val);\n            } elseif (is_string($val)) {\n                $val = "'$val'";\n            } elseif (is_numeric($val)) {\n                $val = "$val";\n            } else {\n                $val = var_export54($val);\n            }\n            $b .= "    public " . $_b('$' . $key, '#03f') . "=$val;\\n";\n        }\n        // get_class_methods() with params modifiers and types\n        $b .= "\\n\\n";\n        $r_class = new ReflectionClass($obj);\n        // $props   = $reflect->getProperties(ReflectionProperty::IS_PUBLIC  );\n        $r_methods = $r_class->getMethods(ReflectionMethod::IS_PUBLIC);\n        // sorting methods:\n        $r_methods2 = [];\n        foreach ($r_methods as $r_method) {$r_methods2[$r_method->getName()] = $r_method;}\n        ksort($r_methods2); //in-place sort!\n        //\n        foreach ($r_methods2 as $r_method) {\n            $r_method = $r_class->getMethod($r_method->getName());\n            $r_params = $r_method->getParameters();\n            // Loop through each parameter and get the type\n            $php_params = [];\n            foreach ($r_params as $r_param) {\n                // may be ReflectionUnionType\n                if ($r_param->isOptional()) {\n                    $def = $r_param->getDefaultValue();\n                    $php_params[] = sprintf("%s%s $%s=%s",\n                        ($r_param->allowsNull() ? '' : ''),\n                        '' . $r_param->getType() ?? $_infer_def_type($def), // we infer the type form default val\n                        $_b($r_param->getName(), '#e09'),\n                        // boolean, double, integer, or string types are scalar.\n                        // Array, object, null and resource are not\n                        (is_numeric($def) ? $def : sprintf("%s", var_export54($def)))\n                    );\n                } else {\n                    $php_params[] = sprintf('%s %s$%s',\n                        '' . $r_param->getType() ?? '',\n                        ($r_param->allowsNull() ? '' : ''),\n                        $_b($r_param->getName(), '#e09')\n                    );\n                }\n            }\n            $b .= !empty($r_method->getDocComment()) ? $_c($r_method->getDocComment(), '#666') . "\\n" : '';\n            $b .= sprintf('  %s%s(%s):%s {}' . "\\n",\n                ($r_method->isStatic() ? 'static function ' : 'public function '),\n                $r_method->name, implode(', ', $php_params),\n                $r_method->hasReturnType() ? '' . $r_method->getReturnType() : 'mixed'\n            );\n        }\n        $b .= "}\\n";\n        //."</pre>\\n" ;\n        $html = highlight_string("<?php\\n" . $b, $return = true);\n        return $html ? $html : 'error invalid PHP';\n    }\n}\n//-----------------------------------------\n\n
array_combine_|/* example\nInput : $a_keys = ['Ram', 'Akash', 'Rishav']; \n        $a_values = ['24', '30', '45'];\nOutput : [\n          'Ram' => 24\n          'Akash' => 30\n          'Rishav' => 45\n        ] */\n$h_combined = array_combine( $a_keys , $a_values );\n\n\n//  when you have empty columns at the end of a row because array_combine returns false if both arrays don't have the same number of elements.\nfunction array_combine_safe(array $a, array $b, bool $pad = true): array{\n    $a_c = count($a);\n    $b_c = count($b);\n    // more elements in $a than $b but we don't want to pad either\n    if (!$pad) {\n        $size = ($a_c > $b_c) ? $b_c : $a_c;\n        $a = array_slice($a, 0, $size);\n        $b = array_slice($b, 0, $size);\n    } else {\n        // more headers than row fields\n        if ($a_c > $b_c) {\n            // how many fields are we missing at the end of the second array?\n            // Add empty strings to ensure arrays $a and $b have same number of elements\n            $more = $a_c - $b_c;\n            for ($i = 0; $i < $more; $i++) {\n                $b[] = $default='';\n            }\n            // more fields than headers\n        } else if ($a_c < $b_c) {\n            $more = $b_c - $a_c;\n            // fewer elements in the first array, add extra keys\n            for ($i = 0; $i < $more; $i++) {\n                $key = 'extra_field_0' . $i;\n                $a[] = $key;\n            }\n        }\n    }\n    return array_combine($a, $b);\n}\n\n
parseInt_|intval($v)
psalm_struct_|/**\n * @return array{0: true, 1: string, 2: list<string>}\n */\n
array_pluck_|pluck_\n    // da RS ritorna Array<string>\n    function array_pluck($key, $data) {\n        return array_reduce($data, function ($result, $array) use ($key) {\n            isset($array[$key]) &&\n            $result[] = $array[$key];\n            return $result;\n        }, []);\n    }\n// dato un RS, array di dizionari Hash<any>[] , ritorna solo le chiavi indicate, mantenendo le chiavi nel dizionario\nfunction h_pluck($a_RS, $key ) {\n    if( is_string($key) ) {\n        return array_reduce($a_RS, function ($result, $rec) use ($key) {\n                if( isset($rec[$key]) )\n                    $result[] = [ $key => $rec[$key] ];\n                return $result;\n        }, []);\n    } elseif( is_array($key) ) {\n        $return = [];\n        foreach ($a_RS as $rec) {\n            $a_tmp = [];\n            foreach( $key as $cur_key ) {\n                if( isset($rec[$cur_key]) ) {\n                    $a_tmp[ $cur_key ] = $rec[$cur_key];\n                }\n            }\n            $return[] = $a_tmp;\n        }\n        return $return;\n    }\n}
filter_str_|$_safe_str = function ($str, $len=40) {\n    $s = preg_replace('/[^a-z0-9]/i', '', $str);\n    return substr($s, 0, $len ); \n};\n// $s = filter_var("00011PP!='", FILTER_SANITIZE_STRING )  => encodes "00011PP!=&#39;"\n$_safe_txt = function clean_s($s, $len=40){\n    $flg = FILTER_FLAG_STRIP_LOW | FILTER_FLAG_STRIP_HIGH | FILTER_FLAG_STRIP_BACKTICK ;\n    $s = filter_var($s, FILTER_SANITIZE_STRING, $flg );\n    return substr($s, 0, $len ); \n};\n// @see filter_regex_\n// @see get_\n
array_fold_right_|array_reduce_
preg_grep_|\n$a_testo = [ "home", "dashboard", "profile", "group" ];\n// always wrap regexps in functions to be tested\nfunction is_found_x($a_testo){\n  foreach( [ "hom*", "gr*" ] as $reg) {\n    if( preg_grep("/$reg/i", $a_testo  ) ) {\n         // echo $reg." found ";\n         return true;\n    } else {\n         // echo $reg." !found ";\n         return false;\n    }\n  }\n}\n// es. 2\n// return all array elements\n// containing floating point numbers\n$fl_array = preg_grep("/^(\\d+)?\\.\\d+$/", $a_vals );\n\n// always test regexps\nok( is_found_x($a_testo), true, 'test regexp');
phpunit_assert_|$this->assertEquals($expect, $val, $msg='');\n
host_|h_get($_SERVER,\n// never rely on HTTP_HOST or any HTTP_* client set header\n\t$_webserver_name='SERVER_NAME', \n\t$_cli_name=gethostname() \n);
min_|$i_min = min([0,$x]);
file_get_contents_url_|// ottiene un file da remoto in GET e lo salva localmente\n$_download = function ($url, $target_dir, $file) {\n                $str_content = file_get_contents($url);\n                $ini_v = ini_get('allow_url_fopen');\n                if (empty($ini_v)) {\n                    $msg = sprintf('Errore manca allow_url_fopen %s ', $ini_v);\n                    throw new \\Exception($msg);\n                }\n                if (false === $str_content) {\n                    $msg = sprintf('Errore download fallito url:%s %s', $url, error_get_last());\n                    throw new \\Exception($msg);\n                }\n                $file_path = $target_dir . '/' . $file;\n                file_put_contents($target_dir, $str_content); // default is overwriting file\n};\n\n\n
border_|border: 1px solid #\|;
is_cli_|cli_is_cli_
test_empty_vals_|// @see for more bad inputs to test https://github.com/minimaxir/big-list-of-naughty-strings\n// black-box-testing\n$a_fuzzy_in = [\n0,'0',-1, '0.00', 1.2, '',"'",'"',null, [], function(){}, new stdClass(),\n// add very large int and very large str\n// scaped, interpretable characters / instructions ( SQL Requests, quotes / commands )\n];\nforeach( $a_fuzzy_in as $in ) {\n    // run function with empty input\n}
http_auth_|// HTTP basic AUTH\nunction pc_validate($user,$pass) {\n    /* replace with appropriate username and password checking from DB */\n    $users = ['david' => 'fadj&32',\n                   'adam'  => '8HEj838'];\n    if (isset($users[$user]) && ($users[$user] == $pass)) {\n        return true;\n    } else {\n        return false;\n    }\n}\nif (! pc_validate($_SERVER['PHP_AUTH_USER'], $_SERVER['PHP_AUTH_PW'])) {\n    header('WWW-Authenticate: Basic realm="My Website"');\n    header('HTTP/1.0 401 Unauthorized');\n    echo "You need to enter a valid username and password.";\n    exit;\n}
strptime_|$a_time = strptime($s_date, $fmt='%d/%m/%Y %H:%M:%S');\n// da as400 a  DD.MM.YYYY\nfunction fmt_pickdate($as400_date) {\n    if (1 == preg_match('/^([0-9]{8})$/i', $as400_date)) {\n        $a_time = strptime($as400_date, $fmt = '%Y' . '%m' . '%d');\n        $_p = function ($v) {\n            return str_pad($v, 2, '0', STR_PAD_LEFT);\n        };\n        /* attenzione ai valori come indici 0 based e non date\n        "tm_sec"    Seconds after the minute (0-61)\n        "tm_min"    Minutes after the hour (0-59)\n        "tm_hour"    Hour since midnight (0-23)\n        "tm_mday"    Day of the month (1-31)\n        "tm_mon"    Months since January (0-11)\n        "tm_year"    Years since 1900\n        "tm_wday"    Days since Sunday (0-6)\n        "tm_yday"    Days since January 1 (0-365)\n        */\n        return sprintf('%s.%s.%s',\n            $_p($a_time['tm_mday']),\n            $_p(1+$a_time['tm_mon']),\n            1900 + $a_time['tm_year']\n        );\n    } else {\n        $msg = sprintf('Errore error format fmt_pickdate %s ', $as400_date);\n        throw new \\Exception($msg);\n    }\n}\n\n
lint_|#!/bin/bash\n# Usage:\n# lint path/to/directory/ path/to/file.php\n\nif [[  $# == 0 ]]; then\n    echo "passare una directory"\n    echo "usage: bin/lint path/to/directory/ "\nelse\n    echo "linting dir: $1"\nfi\n\nerror=false\nwhile test $# -gt 0; do\n    current=\\$1\n    shift\n    if [ ! -d $current ] && [ ! -f $current ] ; then\n        echo "Invalid directory or file: $current"\n        error=true\n        continue\n    fi\n    echo "linting: $current"\n    for file in `find $current -type f -name "*.php"` ; do\n        RESULTS=`php -l $file`\n        if [ "$RESULTS" != "No syntax errors detected in $file" ] ; then\n            echo $RESULTS\n            error=true\n        fi\n    done\n    for file in `find $current -type f -name "*.phtml"` ; do\n        RESULTS=`php -l $file`\n        if [ "$RESULTS" != "No syntax errors detected in $file" ] ; then\n            echo $RESULTS\n            error=true\n        fi\n    done\ndone\n# restituisce error codes usabili nell'applicazione\nif [ "$error" = true ] ; then\n    exit 1\nelse\n    exit 0\nfi\n
limit_|set_time_limit_\nmemory_limit_
sql_db2_fetchfirst_|FETCH FIRST 20 ROWS ONLY
phpunit_test_|// salva in {$classname}Test.php\nclass {$classname}Test extends PHPUnit_Framework_TestCase {\n    public function test{$testname}(){\n        $this->assertEquals(1, 2);\n    }\n}
gettype_|switch (gettype($val)) {\n  case 'string':\n             \n            break;\n  default:\n            // boolean\n            // integer\n            // double\n            // array\n            // object\n            // NULL\n            // resource\n  break;\n}
twb3_form_|<form class="form-inline">\n                <input type="text" class="form-control" placeholder="Email" style="width: 200px;"> <input type="password" class="form-control" placeholder="Password" style="width: 200px;">\n                <div class="checkbox">\n                    <label> <input type="checkbox">Remember me</label>\n                </div>\n                <button type="submit" class="btn btn-default">Sign in</button>\n</form>
file_delete_bigger_|function file_delete_bigger($path, $ext='*', $max_mb=1) {\n  $maxsize = 1024*1024*$max_mb; \n  foreach (glob("$path/*.$ext") as $filename) {\n    $filesize = filesize($filename);\n    echo "$filename size " .$filesize . "\\n";\n    if ($filesize > $maxsize){\n        unlink($filename);\n    }\n  }\n}
zf_app_dir_|APPLICATION_PATH\n
twb_affix_|<div data-spy="affix" data-offset-top="60" data-offset-bottom="200">\n                    <div class="alert alert-success" role="alert">\n                    test test\n                    </div>\n                </div>
parseFloat_|floatval_
SplFixedArray_|$array = new SplFixedArray($size=5); //  fixed length of 5\n$array[1] = 2;\n// Increase the size of the array to 10\n$array->setSize(10);\n// Memory footprint of splFixedArray is about 37% of a regular "array" of the same size.\n// access & modification are also 50% faster
array_fold_|array_reduce_
twb_float_|<div class="pull-left">...</div>\n<div class="pull-right">...</div>\n<div class="clearfix">...</div>
array_pick_keys_|function array_pick_keys(array $hash, array $item_list):array {\n    // intersection of arrays using keys for comparison\n    $data_f = array_intersect_key($hash, array_flip($item_list));\n    return $data_f;\n}
validate_date_|// recognize a date format @see date_check_\n$_is_format_date = function($str_date){\n    $fmt_date = '/^([0-9]{2})\\/([0-9]{2})\\/([0-9]{4})$/i';\n    $f1 = 1 == preg_match($fmt_date, $str_date);\n    //$is_valid = preg_match('/^\\d{4}\\-\\d{2}-\\d{2}$/', $date);\n    //\n    $fmt_date = '/^([0-9]{2})\\/([0-9]{2})\\/([0-9]{4}) ore ([0-9:\\.]*)$/i';\n    $f2 = 1 == preg_match($fmt_date, $str_date);\n    //\n    // simple validation, do not catch values as 1000-99-99  \n    // TODO: add checkdate ( $month, $day, $year );\n    //\n    return $f1 || $f2;\n};\n/**\n * Check if a date is in mysql format.\n * @param string $date -  e.g. 2012-09-12\n * @return bool\n */\nfunction isDateMySqlFormat(string $date):bool {\n    if (preg_match('/^[0-9]{4}-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])$/', $date)){\n        return true;\n    } else {\n        return false; \n    }\n}\n\n$_is_valid_date = function($str_date, $fmt='Y-m-d'){\n\t// @see date_format_\n\ttry {\n\t    $date = DateTime::createFromFormat($fmt, $str_date);\n\t    // ok date\n            return $date != false;\n\t} catch (Exception $e) {\n\t    throw new Exception( sprintf('INVALID DATE (%s) %s %s',\n                $str_date,\n\t\t$e->getMessage(),\n\t\tprint_r(DateTime::getLastErrors(),1) \n\t    ) );\n\t}\n        return false;\n};\n\n
for_|$c=count($$1);\nfor( $i=0; $i < $c; $i++) {\n   $v = $$1[$i];\|}
date_check_|valid_date_\n\n
array_some_|// at least one element passes\n$is_x = array_some($a_xxx, function($v){ return $v>10; });\nfunction array_some(array $a, callable $_f):bool{\n\tforeach($a as $v){\n\t\tif( $_f($v) ) return true;\n\t}\n\treturn false;\n}
array_fast_|SplFixedArray_
twb_input_clear_|// input con bottone clear\n        public static function input_clear(string $name, string $value, array $opt = []): string{\n            $option = array_merge([\n                'id' => $name\n            ], $opt);\n            extract($option);\n            $html = '\n            <div class="btn-group">\n                <input type="text" name="{{name}}" value="{{value}}" id="{{id}}" class="form-control" _style="width: 300px;"/>\n                <span class="glyphicon glyphicon-remove searchclear"\n                    onclick="$(\\'#{{id}}\\').val(null); $(\\'[name={{name}}]\\').val(null); return false;"\n                    style="position: absolute; right: 5px; top: 0; bottom: 0; height: 14px; margin: auto; font-size: 14px; cursor: pointer; color: #666;"\n                ></span>\n            </div>\n            '."\\n";\n            return F::tmpl($html, [\n                'name' => $name,\n                'value' => $value,\n                'id' => $id\n            ]) . "\\n";\n        }
preg_replace_all_|function preg_replace_all($pattern,$replace,$text) {\n    while(preg_match($pattern,$text))\n        $text = preg_replace($pattern,$replace,$text);\n    return $text;\n}
blade_foreach_|  @foreach ($list as $item)\n    {{ $item['cod'] }} --- out escaperd\n    {!! $item['cod'] !!} --- out unescaped\n  @endforeach
autocomplete_|autocomplete_js_\nvar_obj_
array_unshift_|$queue = ['orange', 'banana'];\n$q2 = array_unshift($queue, 'apple', 'raspberry');\n// => [ apple, raspberry, orange, banana ]    \n/** @param mixed $v */\nfunction array_append_left(array $a, $v): array{\n    $count = array_unshift($a, $v);\n    return $a;\n}\n\n
array_reject_|$a_filtered = array_reject($a_xxx, function($v){ return $v>10; });\n//returns new array containing the items in the array for which the given block is not true\nfunction array_reject(array $a, callable $_f):array {\n\t$a2=[];\n\tforeach($a as $v){\n\t\t$r = $_f($v);\n\t\tif( !$r ) $a2[]=$r;\n\t}\n\treturn $a2;\n}\n_reject_\n
type_mixed_|/** @param mixed $data */
mysqli_connect_|// v1\nfunction config_get_db(){ \n    return [\n    ];\n}\n$db_config = config_get_db();\n// minimalistic client\nclass maria {\n    static $conn = null;\n    public static function open($db_host_name, $db_user_name, $db_password, $db_name): void{\n        self::$conn = mysqli_connect($db_host_name, $db_user_name, $db_password, $db_name);\n        mysqli_report(MYSQLI_REPORT_ERROR | MYSQLI_REPORT_STRICT);\n        if (!self::$conn) {\n            echo "Error: Unable to connect to MySQL." . PHP_EOL;\n            echo "Debugging errno: " . mysqli_connect_errno() . PHP_EOL;\n            echo "Debugging error: " . mysqli_connect_error() . PHP_EOL;\n            exit;\n        }\n        echo "Success: A proper connection to MySQL was made! The my_db database is great." . PHP_EOL;\n        echo "Host information: " . mysqli_get_host_info(self::$conn) . PHP_EOL;\n    }\n    /** @return list< array<array-key, mixed> > */\n    public static function qry(string $sql): array{\n        if (empty(self::$conn)) {\n            return []; // or open()\n        }\n        $result = mysqli_query(self::$conn, $sql);\n        $rs = [];\n        if (!is_bool($result)) {\n            while ($row = mysqli_fetch_assoc($result)) {$rs[] = $row;}\n        }\n        return $rs;\n    }\n}\n\n\n//\n// v2 --------------------------------------------------------------------\n//\n//  Database functions + compat interface for ZF\nclass Mysql_DB {\n    /**\n     * @var mysqli|null  $conn\n     */\n    static $conn;\n    /** @return void */\n    public static function connect(array $a_config) {\n        if (empty(self::$conn)) {\n            $servername = $a_config['servername'];\n            $username = $a_config['username'];\n            $password = $a_config['password'];\n            $dbname = $a_config['dbname'];\n            // Create connection\n            self::$conn = mysqli_connect($servername, $username, $password, $dbname);\n            // Check connection\n            if (!self::$conn) {\n                die("Connection failed: " . mysqli_connect_error());\n            }\n            mysqli_set_charset(self::$conn, 'utf8mb4');// prefere to the limited 'utf8'\n            mysqli_report(MYSQLI_REPORT_ERROR | MYSQLI_REPORT_STRICT);\n            self::$conn->options(MYSQLI_OPT_INT_AND_FLOAT_NATIVE, 1);// type od data returned from querys is not string for numeric fields\n        }\n    }\n    /**\n     * @return list< array<array-key, mixed> >\n     */\n    public static function qry(string $sql, array $a_bind=[]): array{\n        if (empty(self::$conn)) {\n            return [];\n        }\n\t// $sql = "SELECT * FROM goods WHERE color=? AND qty > ?";\n\t// $stmt = mysqli->prepare($sql);\n\t// $stmt->bind_param("ss", $_POST['color'], $_POST['qty']); // 'ss' means expect 2 strings\n\t// $stmt->execute();\n\t// $res = $stmt->get_result();\n        // $rs = $res->fetch_all(MYSQLI_ASSOC);\n\n\n        $result = mysqli_query(Mysql_DB::$conn, $sql);\n        if (!is_bool($result)) {\n            $rs = [];\n            while ($row = mysqli_fetch_assoc($result)) {\n                $rs[] = $row;\n            }\n            return $rs;\n        } else {\n            return [];\n        }\n    }\n    // Types = 's' o 'i' per ogni parametro\n    function pquery( string $sql, array $params=[], $types = ''){\n      $types = $types ?: str_repeat("s", count($params));// se types non è fornito, si assume che siano tutte stringhe\n      $stmt = $mysqli->prepare($sql);\n      $stmt->bind_param($types, ...$params);// php5.6 argument unpacking\n      $stmt->execute();\n      if( is_select($sql) ){\n        return $stmt->get_result()->fetch_all(MYSQLI_ASSOC);;\n      } else {\n        // TODO: get the number of rows changed\n        return $stmt;\n      }\n    }\n    //\n    public static function exec(string $sql, array $a_bind=[]): bool {\n        if (empty(self::$conn)) {\n            return false;\n        }\n        // $mysqli->prepare('INSERT INTO table(field) VALUES(?)')->execute(['aaa']);\n        $result = mysqli_query(Mysql_DB::$conn, $sql);\n        if (is_bool($result)) {\n            return $result;\n        } else {\n\t\t// get info on the executed statement\n\t\t// $db->query("update test set i=2");\n\t\t// $pattern = '~Rows matched: (?<matched>\\d+)  Changed: (?<changed>\\d+)  Warnings: (?<warnings>\\d+)~';\n\t\t// preg_match($pattern, mysqli_query(Mysql_DB::$conn) , $info); // $db->info\n\t\t// $info = array_filter($matches, "is_string", ARRAY_FILTER_USE_KEY);\n            return true;\n        }\n    }\n    // alias a query, senza cache\n    // public static function qryc(string $sql) {\n    //     return self::query($sql);\n    // }\n    /** @return void */\n    public static function disconnect() {\n        // Mysql_DB::connect();\n        if (!empty(self::$conn)) {\n            self::$conn->close();\n        }\n    }\n    /** @return void */\n    public static function truncate(string $table) {\n        if (empty(self::$conn)) {\n            return;\n        }\n        // Mysql_DB::connect();\n        mysqli_query(self::$conn, 'TRUNCATE TABLE ' . $table);\n    }\n    public static function exists(string $table): bool {\n        if (empty(self::$conn)) {\n            return false;\n        }\n        // Mysql_DB::connect();\n        $result = mysqli_query(self::$conn, "SHOW TABLES LIKE '$table'");\n        if (!is_bool($result)) {\n            return mysqli_num_rows($result) > 0;\n        } else {\n            return false;\n        }\n    }\n}\n\n\n    // da usare sia per selects che comandi\n    /** @psalm-suppress RedundantCondition\n     * @return list< array<array-key, mixed> >|bool\n     */\n    // public static function query_multi(string $sql) {\n    //     // Mysql_DB::connect();\n    //     if (empty(self::$conn)) {\n    //         return [];\n    //     } else {\n    //         $sql = trim($sql);\n    //         $last_char = mb_substr($sql, -1);\n    //         if ($last_char != ';') {\n    //             $sql .= ';';\n    //         }\n    //         //\n    //         $result = mysqli_multi_query(self::$conn, $sql);\n    //         if ($result) {\n    //             if (is_bool($result)) {\n    //                 return (bool) $result;\n    //             } else {\n    //                 $rs = [];\n    //                 while ($row = mysqli_fetch_assoc($result)) {\n    //                     $rs[] = $row;\n    //                 }\n    //                 return $rs;\n    //             }\n    //         } else {\n    //             die("Error: " . $sql . "\\n" . self::$conn->error);\n    //         }\n    //     }\n    // }\n// da usare per selects e exec multi\n    public static function query_multi($sql) {\n        Mysql_DB::connect();\n        $sql = trim($sql);\n        //\n        $last_char = mb_substr($sql, -1);\n        if ($last_char != ';') {\n            $sql .= ';';\n        }\n        $is_multiquery = strpos($sql, ';') !== false;\n        if ($is_multiquery) {\n            if ($result = mysqli_multi_query(self::$conn, $sql)) {\n                $rs = [];\n                do {\n                    if ($result = mysqli_store_result(self::$conn)) {\n                        if (is_bool($result)) {\n                            mysqli_free_result($result);\n                            return $result;\n                        }\n                        while ($row = mysqli_fetch_assoc($result)) {\n                            $rs[] = $row;\n                        }\n                        mysqli_free_result($result);\n                    }\n                    if (!mysqli_more_results(self::$conn)) {\n                        break;\n                    }\n                } while (mysqli_next_result(self::$conn));\n                // mysqli_free_result($result);\n                return $rs;\n            } else {\n                println("Error: " . $sql . "\\n" . self::$conn->error);\n                //  return FALSE;\n                exit;\n            }\n        } else {\n            //\n            if ($result = mysqli_multi_query(self::$conn, $sql)) {\n                if (is_bool($result)) {\n                    return $result;\n                }\n                $rs = [];\n                while ($row = mysqli_fetch_assoc($result)) {\n                    $rs[] = $row;\n                }\n                return $rs;\n            } else {\n                println("Error: " . $sql . "\\n" . self::$conn->error);\n                //  return FALSE;\n                exit;\n            }\n        }\n    }\n\n    // public static function insert( $table, $fields) {\n    //     Mysql_DB::connect();\n    //     $labels = implode(', ', array_keys($fields));\n    //     $values = '\\'' . implode('\\', \\'', array_map('addslashes', array_values($fields))) . '\\'';\n    //     $sql = "INSERT INTO $table ($labels) VALUES ($values)";\n    //\n    //     // AM: workaround perchè la funzione restituisca sempre l'id della riga su cui\n    //     //  è stata fatta la insert o la update\n    //     // Obsoleta in quanto vengono troncate le tabelle all'esecuzione dello script\n    //     //  ON DUPLICATE KEY UPDATE ";\n    //     // foreach ($fields as $label => $value)\n    //     // $sql .= $label . " = '" . addslashes($value) . "', ";\n    //     // $sql .= "id=LAST_INSERT_ID(id)";\n    //     //\n    //     if (mysqli_query(self::$conn, $sql) === TRUE) {\n    //         return mysqli_insert_id(self::$conn);\n    //     } else {\n    //         println( "Error: " . $sql . "\\n" . self::$conn->error );\n    //         //  return FALSE;\n    //         exit;\n    //     }\n    // }\n\n    // genera insert con records multipli\n    public static function bulk_insert($table, array $data ) {\n        if( count($data) == 0 ){\n            return;\n        }\n        // get labels\n        $first_k = array_keys( $data ) [ 0 ];\n        $first_rec = $data[ $first_k ];\n        $labels = implode(', ', array_keys($first_rec));\n        //\n        // gen sql\n        //\n        $i = 0;\n        $sql = "INSERT INTO $table ($labels) VALUES ";\n        foreach ($data as $key => $value) {\n            $i++;\n            $sql .= '(\\'' . implode('\\', \\'', array_map('addslashes', array_values($value))) . '\\')' .\n            (count($data) > $i ? ', ' : '');\n        }\n        //\n        // use sql\n        //\n        Mysql_DB::connect();\n        return self::query($sql);\n    }\n    // inserimento bulk con dati paged\n    public static function bulk_insert_paged($table, array $data, $page_len = 1000) {\n        $c = count($data);\n        if ($c <= $page_len) {\n            return self::bulk_insert($table, $data, $i = 0);\n        } else {\n            $max_pages = (int) ceil($c / $page_len);\n            foreach (range(1, $max_pages) as $page_num) {\n                $index = (($page_num - 1) * $page_len);\n                $data_page = array_slice($data, $index, $page_len);\n                $r = self::bulk_insert($table, $data_page, $page_num);\n            }\n        }\n    }\n \nmysqli_async_\n\n\n\n
file_get_contents_retry_|//\n//\nfunction file_get_contents_retry(string $path, array $opt = []) {\n            $option = array_merge([\n                'sleep_between_try' => 5,\n                'times' => 5,\n            ], $opt);\n            extract($option);\n            //\n            for ($i = 0; $i < $times; $i++) {\n                $data = file_get_contents($path);\n                if ($data !== false) {\n                    //break;\n                    return $data;\n                } else {\n                    usleep($sleep_between_try);\n                }\n            }\n            return false;\n}
v_|$$1 = '\|';\n
extract_|extract($data, $flgs=EXTR_OVERWRITE, $sprefix='');\n// reverse for compact_
floor_|$float = floor( $float );
tidy_|            // http://tidy.sourceforge.net/docs/quickref.html\n            $config = [\n                'indent' => true,\n                'drop-proprietary-attributes' => true,\n                'drop-font-tags' => true,\n                'hide-comments' => true,\n                // 'output-xhtml' => true,\n                'join-classes'  => true,\n                'join-styles' => true,\n                // 'wrap' => 0\n            ];\n            $tidy = new Tidy();\n            // $tidy->parseString($html, $config, 'utf8');\n            // $tidy->cleanRepair();\n            $new_html = $tidy->repairString($html);\n            if(!empty($tidy->errorBuffer)) {\n                $msg = 'tidy:'. $tidy->errorBuffer;\n                throw new \\Exception($msg);\n            }\n            $date = date('Y-m-d H:i:s') ;\n            die(' <!-- tidy '.$date.' --> '.$new_html);\n\n\n// UTF-8 HTML5-compatible Tidy\n        // @link http://tidy.sourceforge.net/docs/quickref.html\n        function tidy_html5($html, array $config = [], $encoding = 'utf8') {\n            if (!extension_loaded('tidy')) {\n                throw new \\Exception("Tidy extension is missing!");\n                return;\n            }\n            $config = array_merge([\n                'indent' => false, //2, // auto\n                'clean' => true,\n                'doctype' => 'omit',\n                'output-html' => true,\n                'tidy-mark' => false,\n                'wrap' => 0,\n                'char-encoding' => 'utf8',\n                // HTML5 tags\n                'new-blocklevel-tags' => 'article aside audio bdi canvas details dialog figcaption figure footer header hgroup main menu menuitem nav section source summary template track video',\n                'new-empty-tags' => 'command embed keygen source track wbr',\n                'new-inline-tags' => 'audio command datalist embed keygen mark menuitem meter output progress source time video wbr',\n                //\n                'drop-proprietary-attributes' => true,\n                'drop-font-tags' => true,\n                'hide-comments' => true,\n                // 'output-xhtml' => true,\n                'join-classes' => true,\n                'join-styles' => true,\n            ], $config);\n            $t = tidy_parse_string($html, $config, $encoding);\n            tidy_clean_repair($t);\n            $html = '' . $t;\n            if (!empty($t->errorBuffer)) {\n                $msg = 'tidy:' . $t->errorBuffer;\n                $new_html .= "<!-- $msg -->";\n            }\n            return '<!DOCTYPE html>' . PHP_EOL . $html . '<!-- tidy ' . date('Y-m-d H:i:s') . ' --> ';\n        }\n\n\n// parse and restructure the html\n$html_dom_clean = function ($html) {\n                $dom = new DOMDocument('1.0', 'UTF-8'); // carattere € viene mal tradotto\n                try {\n                    $html = str_replace($sub = '€', $re = '&euro;', $html);\n                    libxml_use_internal_errors(true); //ignore fomatting errors\n                    $result = $dom->loadHTML($html);\n                    /*  PHP will emit warnings aboutproblems with the HTML, especially if you are importing a document fragment.\n                    To avoid these warnings, tell the DOM library (libxml) to handle its own errors by calling libxml_use_internal_errors() before importing your HTML.\n                    You can then use libxml_get_errors() to handle errors if needed. */\n                    $a_err = libxml_get_errors();\n                    if (!empty($a_err)) {\n                        foreach ($a_err as $err) {\n                            echo "<pre>{$err->message}</pre>\\n";\n                        }\n                        return $html; // cant clean up\n                    } else {\n                    }\n                    $dom->formatOutput = true;\n                    $dom->preserveWhitespace = false;\n                    $dom->encoding = 'UTF-8';\n                    $h = $dom->saveHTML();\n                    return $h;\n                } catch (\\Exception $e) { // Throwable $e in php7\n                    $fmt = 'Exception: <b>%s</b><br> file:%s line:%s <br> trace:<pre>%s</pre>';\n                    $msg = sprintf($fmt,\n                        $e->getMessage(),\n                        $e->getFile(), $e->getLine(),\n                        $e->getTraceAsString()\n                    );\n                    die($msg);\n                }\n};\n\n\n
stdobj_|obj_
sess_|$_SESSION
fopen_|/* flags\nr\tRead\nr+\tRead and write, prepend\nw\tWrite, truncate\nw+\tRead and write, truncate\na\tWrite, append\na+\tRead and write, append */\n$fp = fopen($file_path, $_flag='a+');\nfclose($fp);
_all_|// true if all values test()\n__::all([1, 2, 3, 4], function($num) { return $num < 5; }); // true
net_get_|curl_
h_get_|$1 = h_get( $h, $1, ''); // PHP < 7\n// $book['name'] = $book['name'] ?? 'default'; // PHP >= 7.0\n// $book['name'] ??= 'no title'; // PHP 7.4\n
zf_app_path_|zf_app_dir_
isset_or_|issetor_
test_suite_|// esegui un hash di tests espressi come closure\n// se passato, esegui il test all'indice $arg_1 anzichè l'intera suite\nfunction test_run($arg_1, array $a_tests) {\n    $arg_1 = empty($arg_1) ? 'all' : $arg_1;\n    if( $arg_1 == 'all' ) {\n        foreach( $a_tests as $k => $func) {\n            $func();\n        }\n    } else {\n        // __always__ tests sempre eseguiti\n        if( isset( $a_tests['__always__'] ) ) {\n            $a_tests['__always__']();\n        }\n        if( isset( $a_tests[$arg_1] ) ) {\n            // TODO: catch exceptions\n            $a_tests[$arg_1]();\n        } else {\n            $msg = sprintf(\n                '%s/%s test:%s not available, tests: %s'."\\n\\n",\n                __FUNCTION__,\n                __LINE__,\n                $arg_1,\n                print_r( array_keys($a_tests), 1 )\n            );\n            die( $msg );\n        }\n    }\n}\n\n$a_tests = [\n    'test' => function() {\n\t// ok(...)\n    },\n];\ntest_suite( @$_SERVER['argv'][1], $a_tests);\n\n//----------------------------------------------------------\n// PHPUnit compatible \nclass TestSuite {\n    public function run_all_tests() {\n        $class_methods = get_class_methods($this);\n        foreach ($class_methods as $method_name) {\n            echo "$method_name\\n";\n            $is_test = substr($method_name, 0, $len=strlen('test') ) == 'test';\n            if(  $is_test ){\n                try {\n                        $this->$method_name();\n                } catch {\n\t\t\techo "error \\n";\n\t\t}\n            }\n        }\n    }\n}\nclass TestXXX extends TestSuite { function testXXX(){ ok(...); } }\n(new TestXXX)->run_all_tests();\n\n\n\n\n
ifelse_|if(  ) {\n} elseif(  ) {\n} else {\n}
phpversion_|php_version_
get_class_methods_|$class_methods = get_class_methods( $this );\nforeach ($class_methods as $method_name) {\n    echo "$method_name\\n";\n}
return_|return\| true;
str_getcsv_|$a_data = str_getcsv( $str_input , $delimiter = "," , $enclosure = '"', $escape = "\\\\" );\n\n// Handy one liner to parse a CSV file into an array\n$a_csv = array_map('str_getcsv', file( $path ));\n//\nthis will create an array of associative arrays with the first row column headers as the keys.\n\nfunction csv_to_h( $file ) {\n    $csv = array_map('str_getcsv', file($file));\n    array_walk($csv, function(&$a) use ($csv) {\n      $a = array_combine($csv[0], $a);\n    });\n    array_shift($csv); // remove column header\n    return $csv;\n}\nfunction csv_to_h($filename='', $delimiter=',') {\n    if(!file_exists($filename) || !is_readable($filename)) {\n        return FALSE;\n    }\n    $header = NULL;\n    $data = array();\n    if (($handle = fopen($filename, 'r')) !== FALSE) {\n        while (($row = fgetcsv($handle, 1000, $delimiter)) !== FALSE) {\n            if(!$header){\n                $header = $row;\n            } else {\n                $data[] = array_combine($header, $row);\n            }\n        }\n        fclose($handle);\n    }\n    return $data;\n}\n\n\n\n\n\n
pattern_singleton_|class Singleton {\n    // Returns the *Singleton* instance of this class.\n    public static function getInstance() {\n        static $instance = null;\n        if (null === $instance) {\n            $instance = new static();\n        }\n        return $instance;\n    }\n    // Protected constructor to prevent creating a new instance via the `new` operator from outside of this class \n    protected function __construct() { }\n    private function __clone() { }\n    private function __wakeup() { }\n}\n\nclass SingletonChild extends Singleton { }\n\n
odbc_connect_|$as_username="username";\n$as_password="passwd";\n$bd = "ANYDB";\n// to see drivers: `cat /etc/odbcinst.ini` drivers names are between []\n$as_dsn ="DRIVER=iSeries Access ODBC Driver 64-bit;SYSTEM=x.x.x.x;DBQ=$bd";// access database\n$as_conn = odbc_connect ($as_dsn, $as_username, $as_password);\nif (!$as_conn) {\n   echo "No existe conexión a la base de datos."; // Error message\n} else {\n  $cadena_sql= "SELECT CAMPO FROM $db.TABLA";\n  $result = odbc_exec($as_conn,$cadena_sql);  //Problem to execute\n  if ($persona=odbc_fetch_array($result,'')){\n    //...\n  } else {\n    //...\n  }\n}\n//\n// v2\n$connection = odbc_connect("Driver=MDBTools;DBQ=/var/www/accessdb/Books_be.mdb", '', '');\n$result = odbc_exec($connection, "SELECT * FROM Authors");\nwhile (odbc_fetch_row($result)) {\n  for ($i = 1; $i <= odbc_num_fields($result); $i++) {\n    echo "Result is " . odbc_result($result, $i);\n  }\n}\n\n
ksort_|ksort($a);//in-place sort!
psalm_return_go_|/**\n * @return array{0: bool, 1: string, 2: array<mixed>}\n */\n        $_res = function (bool $ok, string $msg, array $rs):array {\n            return [$ok, $msg, $rs];\n        };
security_checklist_|/*\n[[https://www.owasp.org/index.php/PHP_Security_Cheat_Sheet]]\n[[https://www.owasp.org/index.php/OWASP_Top_Ten_Cheat_Sheet]]\n* SQL injection\n* code execution: beware unserialize()/exec() user supplied variables\n* command execution: do not use user supplied vars in commands. ; &| $(subcommands), `backticks`,  (%0a). use escapeshellcmd() in the cmd or escaping all command arguments with the built-in function escapeshellarg(). avoid invoking system commands from a web page if possible.\n* PHP object injection: occurs when user input is deserialized. `unserialize(base64_decode($_GET['url']))` user can provide maliciouse code in a serialized string. on deserialization __wakeup() is are automatically invoked. use json_encode() instead.\n* Cross-Site Scripting(XSS): escape user provided content printed on the page, users should not execute js scripts on the page @see filter_xxs_\n* File inclusion: never use a user supplied variable in a path\n* Path traversal:  user input is used in a file path for reading. attacker can access arbitrary files on the FS by using '../'. This can lead to the disclosure of PHP code, configuration and login credentials. use a whitelist of allowed file names. or basename() to ignore injected directory names.\n* file upload: may allows users to upload malicious files to server. It is recommended, that uploaded files are not stored in the document root and the file's name is not in control of the user. For example, a remote code execution can be achieved by uploading a PHP file into the document root. the file extension(.php, .php4, .php.zzz) are passed to the interpreter, .htaccess file can lead to remote code execution, .htm, .html, .swf, or .svg files can lead to XSS.  \n* variable tampering:  user input is used to dynamically vars. `$xx = ${$install_to};` An attacker might be able to interfere with the applications logic, This can lead to information leakage or unexpected application behavior.\n* (D)DOS: brute force against login\n*/
gz_compress_|$filename = tempnam('/tmp', 'zlibtest') . '.gz';\n$s = "Only a test, test, test, test, test, test, test, test!\\n";\n$zp = gzopen($filename, "w9");// open file for writing with maximum compression\ngzwrite($zp, $s);// write string to file\ngzclose($zp);// close file
sf_get_|$request->getParameter($name);
apc_key_clean_|// pulisce una chiave\npublic static function k_clean($key) {\n        $key = preg_replace('/[^a-zA-Z0-9_]/', '_', $key);\n        $key = preg_replace('/__+/', '_', $key);\n        $key = trim($key, '_');\n        return $key;\n}
array_filter_assoc_|$h_data = array_filter($h_data, function($v, $k) {\n    return $k == 'b' || $v == 4; // false will be skipped\n}, ARRAY_FILTER_USE_BOTH);// php5.6+
sql_mode_|// togliere sql groupby limitation\nMysql_DB::exec_once_per_session(" SET sql_mode=(SELECT REPLACE(@@sql_mode,'ONLY_FULL_GROUP_BY','')) ");
sql_is_valid_|/**\n * @return array{0: bool, 1:bool, 2: string, 2: array<mixed>}\n */\nfunction sql_is_valid(string $sql, array $opt = []): array{\n    $option = array_merge([\n        // abilita sub functions\n        'debug' => false,\n        'profile' => false,\n    ], $opt);\n    extract($option);\n    //\n    $db = DBManagerFactory::getInstance();\n    $is_optimized = false;\n    $ok = false;\n    $err_msg = '';\n    $rs = [];\n    // if( $debug ){  echo "<pre>EXPLAIN $sql </pre>\\n\\n <br />"; }\n    $result = $db->query("EXPLAIN $sql");\n    if ($result == false) {\n        $err_msg = $db->database->error;\n    } else {\n        $ok = true;\n        // simple check: controlla tutte le chiavi KEY + REF\n        // key (key that was used)\n        // ref (columns compared to index)\n        // rows (amount of rows searched), higher the amount of rows searched, slower the query\n        $c_null = 0;\n        while (($row = $db->fetchByAssoc($result)) != null) {\n            $rs[] = $row;\n            $key = $row['key'];\n            // TODO: skip if UNION\n            if ($key === null || empty($key) || strtolower('' . $key) == 'null') {\n                $c_null++;\n            }\n        }\n        $is_optimized = $c_null == 0;\n        // if( $debug ) echo _dump_RS($rs);\n    }\n    if ($profile && (false === $is_optimized) && ENV::isDev()) {\n        echo "<pre>$sql</pre>" . _dump_RS($rs);\n    }\n    return [$ok, $is_optimized, $err_msg, $rs];\n}\n\n
bc_|define('BC_PRECISION', 6);\nbcscale(BC_PRECISION); // setta il default scale, va settato prima delle chiamate\n\n$a = '1.234';\n$b = '5';\necho bcadd($a, $b);     // 6\necho bcadd($a, $b, 4);  // 6.2340\necho bcsub($a, $b);     // -3\necho bcsub($a, $b, 4);  // -3.7660\necho bcmul('1.34747474747', '35', 3); // 47.161\necho bcmul('2', '4'); // 8\necho bcdiv('105', '6.55957', 3);  // 16.007\n// compare ==\n// Returns 0 if the two operands are equal, 1 if the left_operand is larger than the right_operand, -1 otherwise.\necho bccomp('1', '2') . "\\n";   // -1\necho bccomp('1.00001', '1', 3); // 0, EQUAL\necho bccomp('1.00001', '1', 5); // 1, first operand is bigger\n\n// bcmod bcpow bcsqrt\n\n/** int|string|float $i */\nfunction is_bc($val): bool {\n    return 1 == preg_match('/^(\\-?)([0-9\\.]*)$/i', $val);\n}\n// -2.000,00 => 2000.00\nfunction str2bc(string $val): string {\n    if (is_bc($val)) {\n        return $val;\n    } else {\n        $val = str_replace($sub = '.', $re = '', $val);\n        $val = str_replace($sub = ',', $re = '.', $val);\n        return $val;\n    }\n}\n\n\n//@see dec_\n\n\n\n
scraping_|domdocument_
cli_stdin2_|// a unix-style command line filter  \n$fp = fopen("php://stdin", "r") or die("can't read stdin");\nwhile (!feof($fp)) {\n    $line = fgets($fp);\n    // converts uppercase letters at the beginning of paragraphs to lowercase\n    $line = preg_replace_callback( '|<p>\\s*\\w|',\n        function ($matches) {\n            return strtolower($matches[0]);\n        },\n        $line\n    );\n    echo $line;\n}\nfclose($fp);\n
ini_get_|$v = ini_get('display_errors');\n// ini_get_all('session')\n\n/**\n * Translates php.ini memory values like '8M' to 8388608\n * 8M is 8 mebibytes, 1 mebibyte is 1,048,576 bytes or 2^20 bytes.\n * @param string $val A string like '8M'.\n * @return integer The number of bytes represented by that string.\n */\nfunction ini_get_bytes($key){\n    $val=ini_get($key);\n    $val = trim($val);\n    $val = preg_replace("/[^0-9,.]/", "", $val);\n    $last = (substr($val,-1)); // $val[strlen($val) - 1\n    $last = strtolower( $last );\n    switch ($last) {\n        case 'g':\n            $val *= 1024;\n            // no break\n        case 'm':\n            $val *= 1024;\n            // no break\n        case 'k':\n            $val *= 1024;\n    }\n    return $val;\n}\nfunction ini_bool($key){\n    $val=ini_get($key);\n    return (preg_match('~^(on|true|yes)$~i',$val) || (int)$val);\n}\n
json_respose_|json_respond_\n
curl_post_|\n// simple impl, on http err 400, returnrs false\nfunction post_fileget($url, array $data, array $opt=[]){\n    // check file_get_contents is enabled\n            if( !ini_get('allow_url_fopen') ) {\n                die('allow_url_fopen false');\n            }\n    $context = [\n            'http' => [\n                'method' => 'POST',\n                'header' => 'Content-type: application/x-www-form-urlencoded' . "\\r\\n",\n                'content' => $post_data = http_build_query($data),\n                'timeout' => 30,\n            ],\n        ];\n        $context['http']['header'] = implode("\\r\\n", [\n            "Content-Type: application/x-www-form-urlencoded",\n            "Content-Length: " . strlen($post_data),\n            // "Authorization: Basic " . base64_encode("$username:$password"),\n        ]);\n        $context = stream_context_create($context);\n        $json_str = file_get_contents($url, false, $context);\n        return $json_str;\n}\n\n// settare usr passwd\n// curl_setopt($ch, CURLOPT_HTTPHEADER,   'Content-Type: application/x-www-form-urlencoded' );// set specific header\n// basic curl wrapper\nfunction curl_post($url, array $data, array $opt = []) {\n    $option = array_merge([\n        'debug' => false,\n    ], $opt);\n    extract($option);\n    $ch = curl_init($url);\n    //\n    $curl_options = [\n        CURLOPT_RETURNTRANSFER => true, // return web page\n        CURLOPT_HEADER => false, // don't return headers\n        CURLOPT_FOLLOWLOCATION => true, // follow redirects\n        CURLOPT_ENCODING => "", // handle all encodings\n        CURLOPT_USERAGENT => "Noleggiare FB webhook", // who am i\n        CURLOPT_AUTOREFERER => true, // set referer on redirect\n        CURLOPT_CONNECTTIMEOUT => 120, // timeout on connect\n        CURLOPT_TIMEOUT => 60, // timeout on response\n        CURLOPT_MAXREDIRS => 10, // stop after 10 redirects\n        CURLOPT_POST => true,\n        CURLOPT_POSTFIELDS => $data,\n        CURLOPT_SSL_VERIFYPEER => false, // Disabled SSL Cert checks\n    ];\n    // curl_setopt($ch, CURLOPT_USERPWD, $username . ":" . $password);\n    //\n    curl_setopt_array($ch, $curl_options);\n    //\n    // curl_setopt($curl, CURLOPT_SSL_VERIFYPEER, FALSE); // default\n    // Please everyone, stop setting CURLOPT_SSL_VERIFYPEER to false or 0. If your PHP installation doesn't have an up-to-date CA root certificate bundle, download the one at the curl website and save it on your server:\n    // http://curl.haxx.se/docs/caextract.html\n    // Then set a path to it in your php.ini file, e.g. on Windows:\n    // curl.cainfo=c:\\php\\cacert.pem\n    // curl_setopt($ch, CURLOPT_CAINFO, __DIR__ .  "/../cacert-2017-09-20.pem");\n    // Turning off CURLOPT_SSL_VERIFYPEER allows man in the middle (MITM) attacks, which you don't want!\n    //\n    $res = curl_exec($ch);\n    $err = curl_errno($ch);\n    $errmsg = curl_error($ch);\n    $header = curl_getinfo($ch);\n    if ($debug) {\n        echo var_dump($err, $errmsg, $header), "\\n";\n    }\n    curl_close($ch);\n    return $res;\n}\n// debuggable\nfunction net_post($url, array $data, array $opt = []) {\n    $option = array_merge([\n        'debug_info' => false,\n        'debug_request_headers' => false,\n        'debug_response_headers' => false,\n    ], $opt);\n    extract($option);\n    $ch = curl_init($url);\n    //---- options ----------------------------------------\n    // @see https://www.php.net/manual/en/function.curl-setopt.php\n    curl_setopt($ch, CURLOPT_HEADER, false); // stampa l'header di risposta del server in response, usa curlinfo instead.\n    curl_setopt($ch, CURLOPT_TIMEOUT, 30);\n    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);\n    curl_setopt($ch, CURLOPT_ENCODING, '');// header accept encoding bz\n    curl_setopt($ch, CURLOPT_POST, true);\n    curl_setopt($ch, CURLOPT_VERBOSE, true);\n    // default: curl_setopt($ch, CURLOPT_POSTFIELDS, $data);\n    curl_setopt($ch, CURLINFO_HEADER_OUT, true); // restituisce in curl_getinfo() la chiave CURLINFO_HEADER_OUT:The request string sent\n    //----------------------------------------------\n    // richiesto dall'API POST in JSON format\n    $payload = json_encode($data);\n    curl_setopt($ch, CURLOPT_POSTFIELDS, $payload);\n    // Set HTTP Header for POST+JSON request\n    curl_setopt($ch, CURLOPT_HTTPHEADER, [\n        'Content-Type: application/json',\n        'Content-Length: ' . strlen($payload),\n    ]);\n    //----------------------------------------------\n    // capture response headers:\n    // this function is called by curl for each header received\n    if ($debug_response_headers) {\n        $response_headers = [];\n        curl_setopt($ch, CURLOPT_HEADERFUNCTION, function ($curl, $header) use (&$response_headers) {\n            $len = strlen($header);\n            $header = explode(':', $header, 2);\n            if (count($header) < 2) {\n                // ignore invalid headers\n                return $len;\n            }\n            $k = strtolower(trim($header[0]));\n            $response_headers[$k][] = trim($header[1]);\n            return $len;\n        });\n        echo "---- begin response_headers:\\n";\n        foreach ($response_headers as $key => $val) {\n            echo sprintf("    $key => %s\\n", is_scalar($val) ? $val : json_encode($val));\n        }\n        echo "---- end response_headers \\n";\n    }\n    //----------------------------------------------------------------------------\n    $json = curl_exec($ch);\n    if ($debug_info) {\n        // parametri e info di funzionamento di curl\n        $req_info = curl_getinfo($ch);\n        echo "---- begin debug info:\\n";\n        foreach ($req_info as $key => $val) {\n            echo sprintf("    $key => %s\\n", is_scalar($val) ? $val : json_encode($val));\n        }\n        echo "---- end \\n";\n    }\n    if ($debug_request_headers) {\n        $req_info = curl_getinfo($ch);\n        echo "---- begin debug_request_headers:\\n";\n        echo curl_getinfo($ch)['request_header'] . "\\n";\n        echo "---- end debug_request_headers \\n";\n    }\n    // get HTTP response code\n    $http_code = curl_getinfo($handle, CURLINFO_HTTP_CODE);\n    curl_close($ch);\n    // loaded successfully without any redirection or error  \n    $r = ($http_code >= 200 && $http_code < 300);\n    return [$r, $json, $http_code];\n}\n\n\n\n\n\n\n\n
form_focus_|<script type="text/javascript" language="JavaScript">\nfunction set_focus() {\n  if (document.forms.length > 0) {\n    for (i = 0; i < document.forms.length; i++) {\n      for (j = 0; j < document.forms[i].elements.length; j++) {\n        var field = document.forms[i].elements[j];\n        if ((field.type == "text" || field.type == "textarea" || field.type == "password") && !field.disabled ) {\n          field.focus();\n          if (field.type == "text") {\n            field.select();\n          }\n            break;\n        }\n      }\n    }\n  }\n}\nset_focus();\n</script>
is_callable_|is_callable([$obj, 'method_name'], false);
net_get_gz_|// data una url richiede il contenuto compresso e lo restituisce decompresso\nprotected static function gz_get(string $url): string{\n        // gz get\n        $opts = [\n            'http' => [\n                'header' => 'Accept-Encoding: gzip,deflate,sdchrn',\n            ],\n        ];\n        $json_or_gz_str = file_get_contents($url, false, $context = stream_context_create($opts));\n        // if wer got a gz compressed content, extract to string\n        // If http response header indicates content is gzipped, then uncompress it\n        // $http_response_header is set by php @see https://www.php.net/manual/en/reserved.variables.httpresponseheader.php\n        $json_str = '';\n        foreach ($http_response_header as $c => $h) {\n            if (stristr($h, 'content-encoding') && stristr($h, 'gzip')) {\n                $json_str = gzinflate(substr($json_or_gz_str, 10, -8));\n            }\n        }\n        if (empty($json_str)) {\n            $json_str = $json_or_gz_str;\n        }\n        return $json_str;\n}
dir__|$dir = __DIR__;
list_a_|$_htm_list = function($a_list) {\n    if( empty($a_list) ) return '';\n    $fmt_li = "<li class=\\"list-unstyled-li\\">%s</li>";\n    $fmt_ul = "<ul class=\\"list-unstyled\\" >%s</ul>";\n    $a_list = array_values(array_filter($a_list, function ($v){\n        return !empty($v); // false will be skipped\n    }));\n    $a_list_m = array_map(function($s) use($fmt_li) {\n        return sprintf($fmt_li, $s);\n    }, $a_list );\n    $result = implode($sep="\\n",$a_list_m);\n    $result = sprintf($fmt_ul, $result);\n    return $result.PHP_EOL;\n};\necho $_htm_list(['1','2','',null]);
check_|<input type="checkbox" name="<?=setFieldInfoName($currentIndex)?>" value="1" <?=$\|->enabled() ? "checked" : ""?>>
zf_h_headlink_|<?php \n// setting links in a view script:\n$this->headLink()->appendStylesheet('/styles/basic.css')\n                 ->headLink(['rel' => 'icon',\n                                  'href' => '/img/favicon.ico'],\n                                  'PREPEND')\n                 ->prependStylesheet('/styles/moz.css',\n                                     'screen',\n                                     true,\n                                     ['id' => 'my_stylesheet']);\n  \n// rendering the links in layout\necho $this->headLink() ?>
t_|throw_
///|/**\n\n\|*/\n
zf_get_view_|$view = Zend_Layout::getMvcInstance()->getView();
php_cli_|cli_main_
array_merge_|$1 = array_merge( $1, $a_1, $a_2  );
simplexml_|xml_process_
html_indent_|tidy_
array_first_|$first_k = array_key_first($1);//7.3+ \n$h_val = $1[$first_k];\n// array_first_def_\n\n
cli_main_|#!/usr/bin/env php\n<?php\ndeclare(strict_types=1);\nrequire_once __DIR__ . '/lib/__init__.php';\n\nini_set('register_argc_argv', '1');\nini_set('max_execution_time', '0');\nini_set('html_errors', '0');\nini_set('implicit_flush', '0');\nini_set('apc.enable_cli', '1');\n// @see error_\n\nfunction e(string $cmd) {\n    echo "cmd: " . $cmd . "\\n";\n    echo $r = shell_exec($cmd) . "\\n";\n    return $r;\n}\n\n// stmap un msg progressivo\nfunction print_prgr($str = '') {\n    echo $str . "\\r";\n}\n\n// use jedit template php>cli.php\n\n// main\nargv_\n// @see to write a filter:\ncli_stdin_\n\n\n\nexit(0);
cli_getopt_| \n\n \n\n// parsa le opzioni di chiamata\nfunction parse_opts(): array{\n\t/*$shortopts  = "";\n\t$shortopts .= "f:";  // Required value\n\t$shortopts .= "v::"; // Optional value\n\t$shortopts .= "abc"; // These options do not accept values\n\t//\n\t$longopts  = [\n\t    "required:",     // Required value\n\t    "optional::",    // Optional value\n\t    "option",        // No value\n\t    "opt",           // No value\n\t];*/\n    $shortopts = '';\n    $longopts = [\n        "action::", // Optional value\n        "env:", // Required value\n    ];\n    $options = getopt($shortopts, $longopts);\n    //\n    // ATTENZIONE: se c'è anche solo un parametro non riconosciuto il parsing da errore\n    if (empty($options)) {\n        $msg = sprintf('Errore %s ', "parsing delle cli opts non riuscito.\\n");\n        throw new \\Exception($msg);\n    }\n    define('ENV', $options['env'], false);\n    if (!isset($options['action'])) {\n        $options['action'] = 'optimize';\n    } else {\n        if (!in_array($options['action'], ['DEV', 'PROD', 'TEST'])) {\n            $msg = sprintf('Errore invalid action: %s ', $options['action']);\n            throw new \\Exception($msg);\n        }\n    }\n    // TEST:\n    // php example.php -f "value for f" -v -a --required value --optional="optional value" --option\n\n    return $options;\n}\n\n\n\n\n\n//--------- more complex example:\n// example.php -r=1  --optional=text --debug\n$cl_options_parsed = cli_getopt(\n    $a_opts = [\n        'r:' => 'required:', //:=>required\n        'o::' => 'optional::', //::=>optional\n    ],\n    $a_flags = [\n        'd' => 'debug', // flag\n    ],\n    $a_defaults = [\n        'r' => 0,\n        'o' => 'o_default',\n        'd' => false,\n    ]);\n// will stop parsing options upon the '--'\n// arguments not listed will be ignored\n// it keep in sync short and long\n// better handling of flags\n// defaults: use short version for defaults\nfunction cli_getopt(array $a_opts, array $a_flags, array $a_defaults = []): array{\n    // ottiene il valore\n    $get_result = function ($a_res, $short, $long) use ($a_defaults, $a_flags) {\n        // nel caso sia un parametro flag,\n        if (isset($a_flags[$short]) || isset($a_flags[$long])) {\n            // getopt setta la chiave se passato, atrimenti non la setta\n            if (isset($a_res[$short]) || isset($a_res[$long])) {\n                return true;\n            } else {\n                return (int) ($a_defaults[$short] ?? $a_defaults[$long]);\n            }\n        } else {\n            // return the first setted\n            return\n            $a_res[$short] ??\n            $a_res[$long] ??\n            $a_defaults[$short] ??\n            $a_defaults[$long] ??\n            '';\n        }\n    };\n    // merge flags\n    $a_opts = array_merge($a_opts, $a_flags);\n    // make map short => long\n    $a_s_l = [];\n    foreach ($a_opts as $short => $long) {\n        $short = str_replace(':', '', $short);\n        $long = str_replace(':', '', $long);\n        $a_s_l[$short] = $long;\n    }\n    // create the short string\n    $s_p = implode('', array_keys($a_opts));\n    if ('cli' === PHP_SAPI) {\n        $a_res = getopt($s_p, array_values($a_opts));\n        // apply defaults long <-> short values\n        $a_result = [];\n        foreach ($a_s_l as $short => $long) {\n            $a_result[$short] = $get_result($a_res, $short, $long);\n            $a_result[$long] = $get_result($a_res, $short, $long);\n        }\n        return $a_result;\n    } else {\n        die(__FUNCTION__ . '/' . __LINE__ . ' will not parse option, not in cli');\n    }\n}\n\n// @see cli_opt_\n
array_to_object|function hydrate(array $h, string $class_name=''):object {\t\n\t$object = empty($class_name) ? new stdClass() : new $class_name;\n        $a_p = get_object_vars( $object );\n\tforeach ($a_p as $prop){\n    \t\t$object->$prop = $value = h_get($h,$prop, null);\n\t}\n\treturn $object;\n}\n
has_method_|method_exists_
zf_cache_get_|$cacheEngine = Zend_Registry::get('cache');\n$c_key = sprintf('%s-%s',__METHOD__, md5(json_encode($a_filter)) );\n$c_key = preg_replace('/[^a-zA-Z0-9_]/', '_', $c_key );\nif( ($c_result = $cacheEngine->load($c_key)) === false ) {\n    $c_result = ; // do computation\n    $cacheEngine->save($c_result, $c_key);\n} else {\n    // get from cache\n}\nreturn $c_result;
twb_center_|<div class="center-block"> test test </div>
array_splice_|$a2 = array_splice($array,\n    $i_offset=3,\n    $i_length = null,\n    $a_replacement = []\n);\nRemoves the elements designated by offset and length from the array, \nand replaces them with the elements of the replacement array, if supplied.\nReturns an array consisting of the extracted elements.\n\n//\narray_splice( ["red", "green", "blue", "yellow"], 2); =>   ["red", "green"]\n
pcntl_|/*\nPCNTL can not make threads. It only *forks* current PHP process. \nthe current process is split into two processes, whole namespace of parent process is copied into the child and both processes continue with execution in parallel \nwith only one difference: pcntl_fork() returns child's PID in parent and 0 in child.\n\nSome hints:\n\n- after enable it, then do it for CLI only. Never ever use it with web server! It will behave in *non-deterministic* way. It can also bring whole machine down. \n- Communication between processes is possible but horrible (via serialized object in shared memory).\n- *resources*: File descriptors (and database connections) are shared, this causes problems very often. You have to reconnect your DB after forking or you will get errors like "MySQL server has gone away" from all forked processes when first of them closes the connection.\n- Parent process have to wait for children to finish or it will leave zombie processes consuming system resources behind.\n\nForked PHP program is very hard to read, understand and debug. Maintaining that program will be a nightmare.\n\nconsider, depending on your needs:\n- simultaneously running CRONs\n- message queues, asynchronous task runner like RabbitMQ, has the advantage you can process the queue with multiple servers and scale horizontally \n- program in lower-level language, Go\n \n\n*/\n\n\n\nfunction p() {\n    // common var to share\n    $var = 'one';\n    $cache_key='C';\n    // From this point on, the process has been forked\n    // $pid will be a different value in parent & child process:\n    // * in parent: $pid will be the process id of the child\n    // * in child: $pid will be 0 (zero)\n    $pid = pcntl_fork();\n    if ($pid === -1) {\n        die('failed to fork');\n    } elseif ($pid === 0) {\n        // $pid = 0, this is the CHILD thread\n\n        // Existing variables will live in both processes,\n        // but changes will not affect other process.\n        echo 'C:'. $var.PHP_EOL; // will output 'one'\n        $var = 'two'; // will not affect parent process\n\n        // Do some work\n        sleep(3);\n        echo 'C:'.$var.PHP_EOL; // will output 'two'\n\n        apcu_store($cache_key , $val=100, $ttl_secs=0 );// IPC store Memory\n\n    } else {\n        // $pid != 0, this is the PARENT thread\n\n        // Do some work, while already doing other\n        // work in the child process.\n        sleep(1);\n\n        echo 'P:'.$var.PHP_EOL; // will output 'one'\n        $var = 'three'; // will not affect child process\n        sleep(1);\n\n        echo 'P:'.$var.PHP_EOL;\n\n        // make sure the parent outlives the child process\n        pcntl_wait($status);\n\n        $val = apcu_fetch($cache_key );\n        echo 'P:'.$val.PHP_EOL;\n\n    }\n}\np();\n\n// example 2:\n\n\t    $maxt=5;// thread nun , @see get_processor_cores_number()\n            for ($x = 1; $x < $maxt; $x++) {\n                switch ($pid = pcntl_fork()) {\n                case -1:\n                    die('could not fork');\n                    break;\n                case 0:\n                    // run child\n                    $local_pid = posix_getpid();\n                    //echo $local_pid;\n                    io_detach();\n\n                    $cl_generator();\n                    echo "Child ".posix_getpid()." completed\\n";\n                    register_shutdown_function(function () {\n                            echo "Child ".posix_getpid()." SIGHUP \\n";\n                            posix_kill(posix_getpid(), SIGHUP);\n                    } );\n                    break;\n                default:\n                    // parent\n                    $local_pid = posix_getpid();\n                    echo "parent($local_pid) waiting child pid($pid): \\n";\n                    pcntl_waitpid($pid, $status);\n                    break;\n                }\n            }\n            // control all child processes gets completed\n            while (pcntl_waitpid(0, $status) != -1) {\n                $status = pcntl_wexitstatus($status);\n                echo "Child $status completed\\n";\n            }\n\n// get the number of cores\nfunction get_processor_cores_number() {\n  $ncpu = 1;\n  if(is_file('/proc/cpuinfo')) {\n    $cpuinfo = file_get_contents('/proc/cpuinfo');\n    preg_match_all('/^processor/m', $cpuinfo, $matches);\n    return $ncpu = count($matches[0]);\n  }\n  //  $procs = preg_match_all('/^processor\\s/m', file_get_contents('/proc/cpuinfo'), $discard);\n  //  $command = "cat /proc/cpuinfo | grep processor | wc -l";\n  //  return  $ncpu = (int) shell_exec($command);\n}\n\n\n// OOP\n$pc = new PCommand();\n$pc->execute();\n// nicely handles user signals\nclass PCommand {\n    protected $continueFlag = true;\n    protected $pid = null;\n    protected $pidFileLocation = '../'; \n    protected function execute( $input, $output) {\n        $this->pid = getmypid();\n        if (!$this->checkPidFile()) {\n            $this->setPidFile();\n        } else {\n            throw new \\Exception('Process already running! Aborting.');\n        }\n        declare (ticks = 10);\n        pcntl_signal(SIGHUP, [$this, 'signalHandler']);\n        pcntl_signal(SIGINT, [$this, 'signalHandler']);\n        pcntl_signal(SIGUSR1, [$this, 'signalHandler']);\n        pcntl_signal(SIGUSR2, [$this, 'signalHandler']);\n        pcntl_signal(SIGQUIT, [$this, 'signalHandler']);\n        pcntl_signal(SIGILL, [$this, 'signalHandler']);\n        pcntl_signal(SIGABRT, [$this, 'signalHandler']);\n        pcntl_signal(SIGFPE, [$this, 'signalHandler']);\n        pcntl_signal(SIGSEGV, [$this, 'signalHandler']);\n        pcntl_signal(SIGPIPE, [$this, 'signalHandler']);\n        pcntl_signal(SIGALRM, [$this, 'alarmHandler']);\n        pcntl_signal(SIGTERM, [$this, 'signalHandler']);\n        pcntl_signal(SIGCHLD, [$this, 'signalHandler']);\n        pcntl_signal(SIGCONT, [$this, 'signalHandler2']);\n        pcntl_signal(SIGTSTP, [$this, 'signalHandler']);\n        pcntl_signal(SIGTTIN, [$this, 'signalHandler']);\n        pcntl_signal(SIGTTOU, [$this, 'signalHandler']);\n        pcntl_alarm(5);\n        do {\n            // do something interesting here!\n            echo ".";\n            sleep(10);\n            pcntl_signal_dispatch();\n        } while ($this->continueFlag);\n        $output->writeln('It Worked!');\n        $this->removePidFile();\n    }\n    //---------------------------------------------\n    // controllo che il processo sia eseguibile solo una volta\n    // TODO: usa un TRAIT\n    protected function checkPidFile() {\n        $pidFile = $this->getPidFileName();\n        $returnValue = file_exists($pidFile);\n        return $returnValue;\n    }\n    protected function getPidFileName() {\n        $pidFile = $this->getName() . '.pid';\n        return $this->pidFileLocation . $pidFile;\n    }\n    protected function setPidFile() {\n        $currentPid = $this->pid;\n        $pidFile = $this->getPidFileName();\n        file_put_contents($pidFile, $currentPid, LOCK_EX);\n    }\n    //\n    protected function removePidFile() {\n        $pidFileName = $this->getPidFileName();\n        unlink($pidFileName);\n    }\n    //---------------------------------------------\n    // signal handling\n    protected function signalhandler($signal) {\n        echo "Caught a signal" . PHP_EOL;\n        $this->continueFlag = false; // stops the processing!\n    }\n    //\n    protected function signalhandler2($signal) {\n        echo "Caught the continue signal" . PHP_EOL;\n    }\n    //\n    protected function alarmHandler($signal) {\n        echo "ALARM!" . PHP_EOL;\n        pcntl_alarm(5);\n    }\n}\n\n\n\n
zf_h_select_|zf_h_select_multi_
tempnam_|tempnam(sys_get_temp_dir(), 'PREFIX');
sql_where_in_|$_sql_where_in = function ($field, array $a_codes) {\n    $a_quted_codes = array_map(function ($code) {return "'$code'";}, $a_codes);\n    $sql_where = sprintf('and %s in (%s)', $field, implode($sep = ', ', $a_quted_codes));\n    return $sql_where;\n};
parse_url_|$url = 'https://blog.sebastiaanluca.com/';\n$host = parse_url($url, PHP_URL_HOST);\n\n
safe_|preg_replace_
file_grep_|// legge line by line files grandi e restituisce un array di dati estratti linea per linea\nfunction file_grep(string $path, $_gerp): array{\n    $result = [];\n    $handle = fopen($path, 'r');\n    if ($handle) {\n        while (($line = fgets($handle)) !== false) {\n            // process the line read.\n            $r = $_gerp($line);\n            if (!empty($r)) {\n                $result[] = $r;\n            }\n        }\n        fclose($handle);\n    } else {\n        // error opening the file.\n    }\n    return $result;\n}
pattern_factory_|class ObjFactory {\n    public static function create($p1, $p2) {\n        return new Obj($p1, $p2);\n    }\n}\n
hidden_|<input name="" value="" type="hidden">\nfunction hidden($name, $val){\n    return sprintf('<input name="%s" value="%s" type="hidden">', $name, $val);\n}\nfunction hidden_fields(array $df, array $skip=[]){\n    $K=false;\n    foreach( $df as  $z => $X ) {\n        if(!in_array($z, $skip)) {\n            if(is_array($X)) {\n                foreach($X as $jd=>$W)\n\t\t   $df[$z."[$jd]"]=$W;//gestisce valori array\n            } else {\n                $K=true;\n                echo '<input type="hidden" name="'.h($z).'" value="'.h($X).'">';\n            }\n        }\n    }\n    return $K;\n}
str_reg_|if ( preg_match('/1999/', $s) ) { // mb_ereg_match\n    // ok\n}
validate_list_|$type = strtolower($type);\n        $a_valid = ['success', 'warning', 'info'];\n        if (!in_array($type, $a_valid)) {\n            $msg = sprintf('Errore flash type must be %s, %s provided', implode(',', $a_valid), $type);\n            throw new \\Exception($msg);\n        }
s_|$s_ = '';
str_replace_|str_replace($sub='',$re='', $1 ); \n// @see strtr_ for hash substitution\n// uft8 ready, but check both $sub and $re are utf8 encoded or will be inconsistent\n// str_replace_all_\nfunction str_replace_h(string $str, array $h_subs):string {\n    return str_replace(array_keys($h_subs), array_values($h_subs), $str);\n}\n\|\n\n
psr_formatting_|// PSR-1 \n#  Files MUST use only <?php and <?= tags.\n#  Files MUST use only UTF-8 without BOM for PHP code.\n#! Files SHOULD either declare symbols (classes, functions, constants, etc.) or cause side-effects (e.g. generate output, change .ini settings, etc.) but SHOULD NOT do both.\n     “Side effects” include but are not limited to: generating output, explicit use of require or include, connecting to external services, modifying ini settings, emitting errors or exceptions, modifying global or static variables, reading from or writing to a file, and so on.\n#  Namespaces and classes MUST follow an “autoloading” PSR: [PSR-0, PSR-4]. // @see psr_autoloading_\n#  Class constants MUST be declared in all upper case with underscore separators.\n#  Class names MUST be declared in StudlyCaps.\n#! Method names MUST be declared in camelCase.\n\n// PSR-2(stricter)\n# Code MUST follow PSR-1\n# Code MUST use 4 spaces for indenting, not tabs.\n# There MUST NOT be a hard limit on line length; the soft limit MUST be 120 characters; lines SHOULD be 80 characters or less.\n# There MUST be one blank line after the namespace declaration, and there MUST be one blank line after the block of use declarations.\n# Opening braces for classes MUST go on the next line, and closing braces MUST go on the next line after the body.\n# Opening braces for methods MUST go on the next line, and closing braces MUST go on the next line after the body.\n# Visibility MUST be declared on all properties and methods; abstract and final MUST be declared before the visibility; static MUST be declared after the visibility.\n# Control structure keywords MUST have one space after them; method and function calls MUST NOT.\n# Opening braces for control structures MUST go on the same line, and closing braces MUST go on the next line after the body.\n# Opening parentheses for control structures MUST NOT have a space after them, and closing parentheses for control structures MUST NOT have a space before.\n\n// @see https://github.com/FriendsOfPHP/PHP-CS-Fixer\n// /usr/local/bin/php-cs-fixer  --rules=@PSR1 --verbose --allow-risky fix PromoController.php\n// passare una directory per scansione completa\n// --rules=@PSR2\n// --rules=line_ending,full_opening_tag,indentation_type\n// \n\n\n// PSR-1 checker(for file ruels violations)\n#!/usr/bin/php\n<?php\n// curl -OL https://squizlabs.github.io/PHP_CodeSniffer/phpcs.phar\n$dir = __DIR__.'/../application';\n// check PSR1 violations\n$cmd = "php phpcs.phar --standard=PSR1 --colors $dir";\necho `$cmd`;\nexit(0);\n\n\n// tabs to spaces enforcer (PSR2):\n// .git/hooks/pre-commit\n#!/bin/sh\nBASE_DIR=$(cd $(dirname "$0"); pwd)\n$BASE_DIR/../../bin/compile expand\n// autoepand spaces:\nfunction action_expand() {\n    $a_dir = [];\n    $a_dir[] = __DIR__.'/../templates/*.phtml';\n    $a_dir[] = __DIR__.'/../templates/helpers/*.php';\n    $a_dir[] = __DIR__.'/../public/ts/*.ts';\n    $a_dir[] = __DIR__.'/../public/scss/*.scss';\n    foreach( $a_dir as $dir ) {\n        $a_file = glob($dir);\n        foreach( $a_file as $file_path ) {\n            $file_path = realpath($file_path);\n            // echo $file_path;\n            $cmd = "perl -p -i -e 's/\\t/    /g'  $file_path ";\n            `$cmd`;\n        }\n    }\n}\n\n\n\n\n
file_tmp_|// write into a tmp file\nfunction tmp_file_put(string $name, string $content):string {\n    $DS = DIRECTORY_SEPARATOR;\n    $file_path = $DS . implode($DS, [trim(sys_get_temp_dir(), $DS), ltrim($name, $DS)] );\n    //\n    file_put_contents($file_path, $content);\n    //\n    register_shutdown_function(function() use($file_path) {\n        unlink($file_path);\n    });\n    return $file_path;\n}\n\n\n
twb_images_|<div class="row"> <div class="col-sm-6 col-md-4"> <div class="thumbnail"> <img alt="100%x200" data-src="holder.js/100%x200" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9InllcyI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMjQyIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDI0MiAyMDAiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiPjwhLS0KU291cmNlIFVSTDogaG9sZGVyLmpzLzEwMCV4MjAwCkNyZWF0ZWQgd2l0aCBIb2xkZXIuanMgMi42LjAuCkxlYXJuIG1vcmUgYXQgaHR0cDovL2hvbGRlcmpzLmNvbQooYykgMjAxMi0yMDE1IEl2YW4gTWFsb3BpbnNreSAtIGh0dHA6Ly9pbXNreS5jbwotLT48ZGVmcz48c3R5bGUgdHlwZT0idGV4dC9jc3MiPjwhW0NEQVRBWyNob2xkZXJfMTVkMThjMTMyYjEgdGV4dCB7IGZpbGw6I0FBQUFBQTtmb250LXdlaWdodDpib2xkO2ZvbnQtZmFtaWx5OkFyaWFsLCBIZWx2ZXRpY2EsIE9wZW4gU2Fucywgc2Fucy1zZXJpZiwgbW9ub3NwYWNlO2ZvbnQtc2l6ZToxMnB0IH0gXV0+PC9zdHlsZT48L2RlZnM+PGcgaWQ9ImhvbGRlcl8xNWQxOGMxMzJiMSI+PHJlY3Qgd2lkdGg9IjI0MiIgaGVpZ2h0PSIyMDAiIGZpbGw9IiNFRUVFRUUiLz48Zz48dGV4dCB4PSI4OC44MDQ2ODc1IiB5PSIxMDUuMSI+MjQyeDIwMDwvdGV4dD48L2c+PC9nPjwvc3ZnPg==" data-holder-rendered="true" style="height: 200px; width: 100%; display: block;"> <div class="caption"> <h3>Thumbnail label</h3> <p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p> <p><a href="#" class="btn btn-primary" role="button">Button</a> <a href="#" class="btn btn-default" role="button">Button</a></p> </div> </div> </div> <div class="col-sm-6 col-md-4"> <div class="thumbnail"> <img alt="100%x200" data-src="holder.js/100%x200" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9InllcyI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMjQyIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDI0MiAyMDAiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiPjwhLS0KU291cmNlIFVSTDogaG9sZGVyLmpzLzEwMCV4MjAwCkNyZWF0ZWQgd2l0aCBIb2xkZXIuanMgMi42LjAuCkxlYXJuIG1vcmUgYXQgaHR0cDovL2hvbGRlcmpzLmNvbQooYykgMjAxMi0yMDE1IEl2YW4gTWFsb3BpbnNreSAtIGh0dHA6Ly9pbXNreS5jbwotLT48ZGVmcz48c3R5bGUgdHlwZT0idGV4dC9jc3MiPjwhW0NEQVRBWyNob2xkZXJfMTVkMThjMTU3MzggdGV4dCB7IGZpbGw6I0FBQUFBQTtmb250LXdlaWdodDpib2xkO2ZvbnQtZmFtaWx5OkFyaWFsLCBIZWx2ZXRpY2EsIE9wZW4gU2Fucywgc2Fucy1zZXJpZiwgbW9ub3NwYWNlO2ZvbnQtc2l6ZToxMnB0IH0gXV0+PC9zdHlsZT48L2RlZnM+PGcgaWQ9ImhvbGRlcl8xNWQxOGMxNTczOCI+PHJlY3Qgd2lkdGg9IjI0MiIgaGVpZ2h0PSIyMDAiIGZpbGw9IiNFRUVFRUUiLz48Zz48dGV4dCB4PSI4OC44MDQ2ODc1IiB5PSIxMDUuMSI+MjQyeDIwMDwvdGV4dD48L2c+PC9nPjwvc3ZnPg==" data-holder-rendered="true" style="height: 200px; width: 100%; display: block;"> <div class="caption"> <h3>Thumbnail label</h3> <p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p> <p><a href="#" class="btn btn-primary" role="button">Button</a> <a href="#" class="btn btn-default" role="button">Button</a></p> </div> </div> </div> <div class="col-sm-6 col-md-4"> <div class="thumbnail"> <img alt="100%x200" data-src="holder.js/100%x200" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9InllcyI/PjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB3aWR0aD0iMjQyIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDI0MiAyMDAiIHByZXNlcnZlQXNwZWN0UmF0aW89Im5vbmUiPjwhLS0KU291cmNlIFVSTDogaG9sZGVyLmpzLzEwMCV4MjAwCkNyZWF0ZWQgd2l0aCBIb2xkZXIuanMgMi42LjAuCkxlYXJuIG1vcmUgYXQgaHR0cDovL2hvbGRlcmpzLmNvbQooYykgMjAxMi0yMDE1IEl2YW4gTWFsb3BpbnNreSAtIGh0dHA6Ly9pbXNreS5jbwotLT48ZGVmcz48c3R5bGUgdHlwZT0idGV4dC9jc3MiPjwhW0NEQVRBWyNob2xkZXJfMTVkMThjMGYxMzAgdGV4dCB7IGZpbGw6I0FBQUFBQTtmb250LXdlaWdodDpib2xkO2ZvbnQtZmFtaWx5OkFyaWFsLCBIZWx2ZXRpY2EsIE9wZW4gU2Fucywgc2Fucy1zZXJpZiwgbW9ub3NwYWNlO2ZvbnQtc2l6ZToxMnB0IH0gXV0+PC9zdHlsZT48L2RlZnM+PGcgaWQ9ImhvbGRlcl8xNWQxOGMwZjEzMCI+PHJlY3Qgd2lkdGg9IjI0MiIgaGVpZ2h0PSIyMDAiIGZpbGw9IiNFRUVFRUUiLz48Zz48dGV4dCB4PSI4OC44MDQ2ODc1IiB5PSIxMDUuMSI+MjQyeDIwMDwvdGV4dD48L2c+PC9nPjwvc3ZnPg==" data-holder-rendered="true" style="height: 200px; width: 100%; display: block;"> <div class="caption"> <h3>Thumbnail label</h3> <p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p> <p><a href="#" class="btn btn-primary" role="button">Button</a> <a href="#" class="btn btn-default" role="button">Button</a></p> </div> </div> </div> </div>
fork_|pcntl_\n
psalm_|/** @psalm-suppress MissingParamType $1 */
mysqli_|mysqli_connect_\n\n\n\n\n\n// creazione della tabella per il login\n$res_create = $mysqli->query("CREATE TABLE 'login'\n                           ( 'id' INT ( 5 ) NOT NULL AUTO_INCREMENT, \n                             'user' VARCHAR(40) NOT NULL,\n                             'password' VARCHAR(64) NOT NULL, \n                             PRIMARY KEY ('id'))");\nif ($res_create === TRUE) {\n    printf("Table successfully created.\\n");\n}\n\n// insert\n$password = hash('sha256', 'paperino'); //Creazione dell'hash\n$query = "INSERT INTO login (user, password) VALUES ('pippo', '$password')";\n// Esecuzione della query e controllo degli eventuali errori\nif (!$mysqli->query($query)) {\n    die($mysqli->error);\n}\necho "Righe generate: " .  $mysqli->affected_rows . "<br />";\necho "Ultimo ID inserito: " . $mysqli->insert_id  . "<br />";\n\n// select\n$sql = sprintf("SELECT * FROM `Users` WHERE UserName='%s' AND Password='%s'",\n                  $mysqli->real_escape_string($username),\n                  $mysqli->real_escape_string($password)\n);\n$query = $mysqli->query($sql);\nif($query->num_rows) {\n    echo "Accesso consentito";\n} else {\n    echo "Accesso rifiutato";\n}\nif($query->num_rows) {\n    echo "<pre>"; // Il tag pre rende facilmente leggibile l'array\n    print_r($query->fetch_all(MYSQLI_BOTH));\n    echo "</pre>";\n} else {\n    echo "Accesso rifiutato";\n}\n// prepared statements\n$query = $mysqli->prepare("SELECT * FROM login WHERE user = ? AND password = ?");\n$query->bind_param('ss',$user,$password);\n$result = $query->execute();\n// mysqli_real_escape_string();\n// s = stringa.\n// i = numeri interi.\n// d = numeri double.\n// b = BLOB, formato binario.\nwhile($row = $result->fetch_array(MYSQLI_ASSOC)){\n    print_r($row);\n}\n// Select queries return a resultset  \nif ($result = $mysqli->query("SELECT Name FROM City LIMIT 10")) {\n    printf("Select returned %d rows.\\n", $result->num_rows);\n\n    // free result set \n    $result->close();\n}\n\n// qry assoc\n    if ($result = $link->query($sql="show databases;")) {\n        while ($row = $result->fetch_array(MYSQLI_ASSOC)) {\n             echo sprintf("<pre>%s() L:%s F:%s\\n",__FUNCTION__,__LINE__,__FILE__),var_dump(\n                 $row\n             ),"</pre>\\n";\n        }\n        $result->close();\n    }\n\n\n// update\n$query = $mysqli->prepare("UPDATE login SET user=?, password=? WHERE id = ? ");\n$query->bind_param('ssi', $user, $password, $id);\n$result = $query->execute();\n\n// execute\n$query = $mysqli->prepare("DELETE FROM login WHERE id = ? ");\n$query->bind_param('i', $id);\n$result = $query->execute();\n\n\n\n$mysqli->close();\n\n\n// prepared statemets+binding\nif (!($st = $mysqli->prepare("SELECT * FROM user WHERE id = ?"))) {\n    die( "Can't prepare the statement :(" );\n}\nif (!$st->bind_param('d', $id)) {\n     die( "Can't bind '$id' :(" );\n}\n$st->execute();\nwhile ($st->fetch()) { }\n\n \n \n
IP_|ip_
zf_h_e_|zf_h_escape_
header_json_|header('Content-Type: application/json');//+utf8
preg_split_|$a_words = preg_split( '/\\s/', $str_text );// come explode(' ') ma più generico\nlist($ctr, $act) = preg_split('/([[:upper:]][[:lower:]]+)/', $file, null, PREG_SPLIT_DELIM_CAPTURE | PREG_SPLIT_NO_EMPTY);//split on Camel Case
str_to_time_|strtotime_
date_past_|$time_ago = strtotime('-3 months');
unique_|$a = array_unique($a);
array_foldr_|array_fold_
psr_log_|namespace Psr\\Log;\n\n// Describes log levels\nclass LogLevel {\n    const EMERGENCY = 'emergency'; //System is unusable.\n    const ALERT     = 'alert'; // Action must be taken immediately,ie: Entire website down, database unavailable,\n    const CRITICAL  = 'critical';// Application component unavailable, unexpected exception.\n    const ERROR     = 'error';//Runtime errors that do not require immediate action but should typically be logged and monitored\n    const WARNING   = 'warning';//Exceptional occurrences that are not errors ie: Use of deprecated APIs, poor use of an API, undesirable things that are not necessarily wrong.\n    const NOTICE    = 'notice';//Normal but significant events.\n    const INFO      = 'info';// events, User logs in, SQL logs.\n    const DEBUG     = 'debug';\n}\nnamespace Psr\\Log;\ninterface LoggerInterface {\n    public function log($level, $message, array $context = [] );\n}
throttle_|// esegue la funzione solo $max_execution_n volta in un arco temporale\nfunction throttle_capped($key, $operation, $ttl = 60, $max_execution_n = 1) {\n    $ip = coalesce(\n        h_get($_SERVER, 'HTTP_X_REAL_IP'),\n        h_get($_SERVER, 'REMOTE_ADDR'),\n        'UNKNOWN'\n    );\n    // if ( !function_exists('apc_fetch')) {\n    //     die(__FUNCTION__ . '/' . __LINE__ . ' apc missing');\n    // }\n    $a_key = [__FUNCTION__, $ip, $key];\n    $key_s = implode('_', $a_key);\n    if (apc_exists($key_s) !== true) {\n        apc_store($key_s, 0, $ttl);\n    }\n    $result = apc_inc($key_s, $count = 1);\n    if ($result <= $max_execution_n) {\n        // stil valid, but prev reqs are made\n        $r = call_user_func_array($operation, $args = []);\n        return [true, $r];\n    } else {\n        // skipping, max reached\n        // if( Bootstrap::isEnvDev() || Bootstrap::isRequestDev() ) {\n        //     echo "throtled $key " . date('Y-m-d H:i:s').'<br />';\n        // }\n        return [false, 'max cap reached'];\n    }\n}\n
seed_|// https://github.com/php-pds/skeleton/tree/1.0.0  \ncommand-line executables        bin/\nconfiguration files             config/\ndocumentation files             docs/\nweb server files                public/\nother resource files            resources/\nPHP source code                 src/\ntest code                       tests/
preg_replace_|function preg_replace_t( string $regexp, string $repl, string $str  ):string {\n  $str2 = preg_replace( $regexp, $repl, $str );\n  if (PREG_NO_ERROR !== ($err=preg_last_error()) ) { \n     t_\n  }\n  return $str2;\n}\n\n// always wrap regex to test them\nfunction safe_x($str){\n  $str = preg_replace($regex='/[^a-z0-9]/i', '', $1);\n  // $str = preg_replace('/\\_{2,}/i', '_', $str); \n  // $str = preg_replace('/__+/i', '_', $str);// multiple instances\n  // echo preg_replace('(\\\\.(info|com|org|ch|fr))', "\\$1", 'dsd.fr/'); // usa $1 per accedere ai valore matched\n\n        //  "reverse linkification",\n        // making "<a href=link>text</a>" links readable as "text [link]"\n        // $tempBody = preg_replace('/<a href=([\\"\\']?)(.*?)\\1>(.*?)<\\/a>/', "\\\\3 [\\\\2]", $tempBody);\n\n  // @see preg_replace_safe_\n  return $str;\n}\n//@see preg_replace_all_\nok( safe_x($str), true );\n\n
html_scraping_|domdocument_
array_remove_first_|array_shift_\n
twb_labels_|<span class="label label-default">Default</span>\n<span class="label label-primary">Primary</span>\n<span class="label label-success">Success</span>\n<span class="label label-info">Info</span>\n<span class="label label-warning">Warning</span>\n<span class="label label-danger">Danger</span>
shape_check_|// controlla chiavi previste: che nn sia passato un campo che nn è gestito\n$_ks_wl_check = function (array $h_to_check, array $a_k_whitelist) {\n            $a_ks = array_keys($h_to_check);\n            $a_ks_diff = array_diff($a_ks, $a_k_whitelist); // all the entries from $array1 that are not present in a2\n            if (count($a_ks_diff) > 0) {\n                $msg = sprintf('insert() Errore chiavi non gestite: %s missing', implode(', ', $a_ks_diff));\n                throw new \\Exception($msg);\n            }\n};\n         \n\n// controlla chiavi previste: che nn sia passato un campo che nn è gestito\n$_ks_wl_check($row, $a_k_whitelist = [\n            'article_id',\n            'qta'\n]);\n
compact_|$hash_var = compact('local_var1', 'local_var2', 'local_var3' );// crea hash dalle variabili locali
pluck_|__::pluck($a, $k);
r_|ret_
__END__|$html = <<<__END__\n\|__END__;\n// <<<'__END__'\n// simple conditional in templates, use: {$_if(true,'a','b')}\n$_if = function ($is_conition, $html_ok, $html_ko){ return $is_conition ? $html_ok : $html_ko; };\n
getopt_|cli_opt_
session_|    // Set the max lifetime\n    ini_set('session.gc_maxlifetime', $ttl);\n\n    // Set the session cookie to timout\n    ini_set('session.cookie_lifetime', $ttl);\n\n\n    // the session must be stored in a separate directory to persist more than\n    // php default/debian default\n    ini_set('session.save_path', $path);\n    // $path=session_save_path(APPLICATION_PATH.'/../var/sessions');// Debian elimina automaticamente le sessioni\n\n// This sends a persistent cookie that lasts a day.\n$sess_started = session_start([\n    'cookie_lifetime' => (24*60*60),\n]);\n\n\n// session_regenerate_id($delete_al_session=true); is considered good practice, but slower and unstable\n// ini_get_all('session'); // to see all configuration for the current system\n// @see session.save_path\n$session_id = $_COOKIE[session_name()];// @see session_id();\n\nif( rand(0,99) < 10 ) {\n    $dir = '/tmp/'; // ini_get("session.save_path")\n    foreach( glob($dir.'sess_*') as $file_path ) {\n        $file_is_current = $_file_is_current( $file_path, $ttl= 1*60*60);\n        if( !$file_is_current ) {\n            unlink($file_path);\n        }\n    }\n}\n\n// uso\n$_SESSION['count'] = 0;\n\n\n\n \n        \n
register_shutdown_function_|// a mail queue implementation\nclass MailSpool {\n  public static $mails = []; \n  public static function addMail($subject, $to, $message) {\n    self::$mails[] = [ 'subject' => $subject, 'to' => $to, 'message' => $message ];\n  }\n  public static function send() {\n    foreach(self::$mails as $mail) {\n      mail($mail['to'], $mail['subject'], $mail['message']);\n    }\n  }\n}\n\nregister_shutdown_function('MailSpool::send');\n\nregister_shutdown_function(function (){ \n    echo "script is shuting down";\n});\n\n\n//--------------------------------------------------------------------------------\nregister_shutdown_function(function () {\n    $errfile = "unknown file";\n    $errstr = "shutdown";\n    $errno = E_CORE_ERROR;\n    $errline = 0;\n    $error = error_get_last();\n    $fatal_handler_format_error = function ($errno, $errstr, $errfile, $errline, $trace) {\n        $content = "\n    <table>\n        <thead><th>Item</th><th>Description</th></thead>\n        <tbody>\n            <tr>\n                <th>Error</th>\n                <td><pre>$errstr</pre></td>\n            </tr>\n            <tr>\n                <th>Errno</th>\n                <td><pre>$errno</pre></td>\n            </tr>\n            <tr>\n                <th>File</th>\n                <td>$errfile</td>\n            </tr>\n            <tr>\n                <th>Line</th>\n                <td>$errline</td>\n            </tr>\n            <tr>\n                <th>Trace</th>\n                <td><pre>$trace</pre></td>\n            </tr>\n        </tbody>\n    </table>";\n        return $content;\n    };\n    if ($error !== NULL) {\n        $errno = $error["type"];\n        $errfile = $error["file"];\n        $errline = $error["line"];\n        $errstr = $error["message"];\n        $trace = print_r(debug_backtrace(false), true);\n        // use mail if you need it\n        die($fatal_handler_format_error($errno, $errstr, $errfile, $errline, $trace));\n    }\n});\n\n\n
math_|bc_
lifo_|SplStack_
goto_|GOTO_LABEL:\ngoto GOTO_LABEL; \n\n
text_grep_|// trova matching lines nel testo\nfunction text_grep($html, $ubstr, $def = '') {\n    if (!is_string($html)) {\n        echo "empty html \\n";\n        return $def;\n    }\n    $a_csfr_line = array_values(array_filter(explode("\\n", $html), function ($str_line) use ($ubstr) {\n        return mb_strpos($str_line, $ubstr) !== false; // @see str_match_\n    }));\n    if (!empty($a_csfr_line)) {\n        return $a_csfr_line[0];\n    } else {\n        return $def;\n    }\n}
file_size_|$bytes = intval(filesize($path));// in bytes, or FALSE\nfunction human_filesize($bytes, $decimals = 2) {\n  if( empty($bytes) ) { return 0; }\n  $a_sz = [0=>'B',1=>'K',2=>'M',3=>'G',4=>'T',5=>'P'];\n  $factor = floor((strlen($bytes) - 1) / 3);//quale potenza di 1000\n  $n = $bytes / pow(1024, $factor);\n  return sprintf("%s %s", \n      round($n, $decimals),\n      $a_sz[$factor]\n  );\n}\ndefine('SIZE_K', pow(1024, $factor=1), false);\ndefine('SIZE_M', pow(1024, $factor=2), false);\ndefine('SIZE_G', pow(1024, $factor=3), false);\ndefine('SIZE_T', pow(1024, $factor=4), false);\n// es.\n$bytes = filesize($path);\n$MB = pow(1024, $factor = 2);\nif ($bytes > 500 * $MB) {\n  // avvisa il supporto\n}\n\n\n
regexp_|preg_
memory_get_usage_|$_print_mem = function($label=''){\n    $mem = round(memory_get_usage() / (1024 * 1024), 2) . 'MB';\n    echo sprintf("  %s %s ", $label, $mem ).PHP_EOL;\n};\n\n$_dbg_mem_usg = function () { \n        $mem_usage = memory_get_usage( ); \n        if ($mem_usage < 1024) {\n            return $mem_usage." bytes"; \n        } elseif ($mem_usage < 1048576) {\n            return round($mem_usage/1024,2)." KB"; \n        } else {\n            return round($mem_usage/1048576,2)." MB";\n        }\n};\nfunction getVirtualMemoryTaken() {\n        $pid = getmypid();\n        $a = `ps -p $pid v | awk 'END{print $9}'`;\n        return $a*1;\n}
array_any_|array_some_
csv_encode_|function csv_encode(array $h_data) {\n    $enc = new CSV_Array($h_data);\n    $csv = $enc->encode();\n    return $csv;\n}\nclass CSV_Array {\n    function __construct(array $data) {\n        // data must be associative array\n        $this->data = $data;\n        // if( !array_is_associative( $data ) ) {}\n        $this->_buffer = '';\n        $this->ir = 0;\n    }\n    function getFieldsNames(): array{\n        $a = [];\n        if (isset($this->data[0])) {\n            $a = array_keys($this->data[0]);\n        }\n        return $a;\n    }\n    // sia i campi di intestazione che le righe devono essere processati adeguatamente in precedenza,\n    // stampiamo tutto il contenuto del array\n    function encode(): string {\n        // memorize buffer\n        if (!empty($this->_buffer)) {\n            return $this->_buffer;\n        }\n        // begin intestazione\n        $a = $this->getFieldsNames();\n        $r = '';\n        foreach ($a as $i => $name) {\n            $r .= $this->_cell(ucfirst(str_replace('_', ' ', $name)));\n        }\n        $this->_buffer .= $this->_row($r); // end intestazione\n        // begin data body\n        for ($this->ir = 0; $this->ir < count($this->data); $this->ir++) {\n            $row_data = $this->data[$this->ir];\n            $r = '';\n            foreach ($row_data as $k => $val) { // $field_type = 'string';\n                // $this->_format_by_type( $val, $field_type )\n                $r .= $this->_cell($val);\n            }\n            $this->_buffer .= $this->_row($r);\n        }\n        return $this->_buffer;\n    }\n    function output() {\n        // if (V_LEVEL > 0) {\n        //     echo '<pre>';\n        // } else {\n        //     self::XLS_header($a);\n        // }\n        echo $this->encode();\n    }\n    function _row($r): string {\n        return trim(str_replace("\\r", '', $r)) . "\\n";\n    }\n    function _cell(string $v): string {\n        return '"' . str_replace('"', '""', $v) . "\\"" . "\\t";\n    }\n    function XLS_header($a) { }\n}
imagestring_|imagestring ( resource $image , int $font , int $x , int $y , string $string , int $color )
argc_|argv_\nSERVER_
validate_email_|$_is_email = function (string $email): bool {\n                return filter_var($email, FILTER_VALIDATE_EMAIL) === false ? false : true;\n};\n$email = $_is_email($email) ? $email : '';\n
implode_|$str = implode($sep=', ', $1 );\n//  $_implode = function( $a_labels, $sep=', ') {\n//  return implode($sep, array_filter($a_labels, function ($s){ return !empty($s); }) );   };\n
str_compress_|gzcompress_\nlzw_compress_
require_|require_once __DIR__.'/$1\|';// never allow user input like include $_GET['file'];
table_a_v_|class HTML {\n        /*\n        $a_mapper_formatter = [\n            'id' => [\n                'cap' => 'ID'\n                'fmt' => function($v){ return strtolower($v); }\n            ]\n        ];\n        */\n        public static function vTable(array $data, array $a_mapper_formatter):string {\n            // deduce una caption da un nome campo\n            $mk_cap = function ($s):string {\n                return ucwords( str_replace('_ ', ' ', trim($s) ) );\n            };\n            $escape = function ($str) {\n                //ENT_QUOTES : Converte sia gli apici doppi sia gli apici singoli.\n                return htmlentities($str, ENT_QUOTES, 'UTF-8');\n            };\n            $html_rows = '';\n            $fmt = '<tr>  <th>%s</th><td>%s</td> </tr>'.PHP_EOL;\n            foreach($data as $k => $v) {\n                // calcola caption e value\n                $caption = isset($a_mapper_formatter[$k]['cap']) ? $a_mapper_formatter[$k]['cap'] : $mk_cap($k);\n                $value = isset($a_mapper_formatter[$k]['fmt']) ? $a_mapper_formatter[$k]['fmt']($v) : $v;\n                // render row\n                $html_rows .= sprintf($fmt, $caption, $escape($value) );\n            }\n            $fmt = '<table border="0" cellpadding="0" cellspacing="0" class="table table-condensed"> %s </table>';\n            return sprintf( $fmt, $html_rows );\n        }\n}\n\n/* minimal implementation\n        <?php\n        $a_data = [\n            'Indirizzo' => $this->customer->getAddress(),\n            'Citt&agrave;' => $this->customer->getCity(),\n        ];?>\n<table id="" border="0" cellpadding="0" cellspacing="0" class="table table-condensed">\n    <tbody>\n        <?php\n        foreach($a_data as $k => $v) {\n        ?>\n            <tr>\n                <th width="200"> <?=$k ?> </th>\n                <td> <?=$v ?> </td>\n            </tr>\n        <?php\n        } ?>\n        </tbody>\n</table>\n*/\n
array_|a__#name#
file_is_older_|$_file_is_current = function ($path, $m_ttl) {\n    // if (!file_exists($path)) { return false; }\n    $file_mtime = filemtime($path);\n    if ((time() - $file_mtime) > $m_ttl) {\n        return false;// file older than x hours\n    } else {\n        return true;// file younger than x hours\n    }\n};\n$file_exists     = file_exists($path);\n$file_is_current = $_file_is_current( $path, 2 * TTL_DAY );\nif( !$file_exists || !$file_is_current ) {\n    // TODO: rebuild the file\n}\n\n\n\n\n
last_|array_last_
_SERVER_|https://www.php.net/manual/en/reserved.variables.server.php\n// safe\n'GATEWAY_INTERFACE'\n'SERVER_ADDR'\n'SERVER_SOFTWARE'\n'DOCUMENT_ROOT'\n'SERVER_ADMIN'\n'SERVER_SIGNATURE'\n// maybe unsafe\n'HTTPS'\n'REQUEST_TIME'\n'REMOTE_ADDR' *\n'REMOTE_HOST' *\n'REMOTE_PORT' *\n'SERVER_PROTOCOL'\n'HTTP_HOST' // unsafe!\n'SERVER_NAME' // safe?\n'SCRIPT_FILENAME'\n'SERVER_PORT'\n'SCRIPT_NAME'\n//\n// NOTE: totally user controlled:\n'REQUEST_METHOD' ‡\n'QUERY_STRING'\n'HTTP_ACCEPT'\n'HTTP_ACCEPT_CHARSET'\n'HTTP_ACCEPT_ENCODING'\n'HTTP_ACCEPT_LANGUAGE'\n'HTTP_CONNECTION'\n'HTTP_REFERER'\n'HTTP_USER_AGENT'\n'AUTH_TYPE' §\n'PHP_AUTH_DIGEST' §\n'PHP_AUTH_USER' §\n'PHP_AUTH_PW' §\n'PATH_INFO'\n'ORIG_PATH_INFO'\n'REQUEST_URI' (may contain tainted data)\n'PHP_SELF' (may contain tainted data)\n'PATH_TRANSLATED'\nany other 'HTTP_' value\n
controller_|// funzione: controller con nomenclatura simile a ZF\nclass BaseController {\n    public function run($uri) {\n        $action = self::resolveAction($uri);\n        if (method_exists($this, $action)) {\n            return $this->$action();\n        } else {\n            return "unimplemented action:$action \\n";\n        }\n    }\n    // logica di composizioe della action\n    public static function resolveAction($uri) {\n        if (empty($uri)) {\n            return '';\n        }\n        $action = str_replace(['/mobile/','/'], '', $uri);\n        $action .= 'Action'; \n        return $action;\n    }\n}\n// esempio uso e azione\nclass AppController extends BaseController {    \n    function loginAction(){}\n}\nok('/mobile/login', 'loginAction');//test resolver\n$controller = new AppController();\ndie( $controller->run($uri = $_SERVER['REQUEST_URI']) );
fmt_exception_trace_|// better trace format\nfunction fmt_exception_trace(Exception $e) {\n    function _serialize_args($args) {\n        $_v_mapper = function ($val) use (&$_v_mapper) {\n            if (is_array($val)) {\n                $a_h = array_map_keys($val,\n                    function ($k) {\n                        return $k;\n                    },\n                    $_v_mapper);\n                return $a_h;\n            } elseif (is_object($val)) {\n                return get_class($val);\n            } elseif (is_resource($val)) {\n                return $val;\n            } elseif (is_string($val)) {\n                $_begin_with = function($str, $substr) {\n                    $str   =strtolower( $str    );\n                    $substr=strtolower( $substr );\n                    return substr($str, 0, $l=strlen($substr) ) == $substr ;\n                };\n                $val = trim(strip_tags($val));\n                $is_path = $_begin_with($val, '/') && substr_count($val, '/') >= 2; // inizia con /\n                $is_sql = $_begin_with($val, 'select ') || $_begin_with($val, 'update ') || $_begin_with($val, 'insert ') || $_begin_with($val, 'delete ');\n                if (strlen($val) < 15 || $is_path || $is_sql ) {\n                    $val = preg_replace('/\\s+/', ' ', $val);\n                    return $val;\n                } else {\n                    return substr($val, 0, 15) . '...';\n                }\n            }\n            return $val;\n        };\n        if (is_array($args)) {\n            $args = array_map($_v_mapper, $args);\n        } else {\n            $args = $_v_mapper($args);\n        }\n        $args = json_encode($args, JSON_UNESCAPED_UNICODE | JSON_PRETTY_PRINT);\n        return $args;\n    }\n    $a_trace = $e->getTrace();\n    $a_trace = array_reverse($a_trace);\n    $result = '';\n    $i = 0;\n    foreach ($a_trace as $trace) {\n        $result .= $str = sprintf('%d) %s%s%s() %s @%s args:%s ' . PHP_EOL,\n            ++$i,\n            @$trace['class'],\n            @$trace['type'],\n            $trace['function'],\n            //\n            $trace['file'],\n            $trace['line'],\n            _serialize_args($trace['args'])\n        );\n    }\n    return $result;\n}
array_random_|rand_
url_|function url_host( $s=null, $use_forwarded_host = false ){\n    if(is_null($s)){\n       $s=$_SERVER ;\n    }\n    $ssl      = ( ! empty( $s['HTTPS'] ) && $s['HTTPS'] == 'on' );\n    $sp       = strtolower( $s['SERVER_PROTOCOL'] );\n    $protocol = substr( $sp, 0, strpos( $sp, '/' ) ) . ( ( $ssl ) ? 's' : '' );\n    $port     = $s['SERVER_PORT'];\n    $port     = ( ( ! $ssl && $port=='80' ) || ( $ssl && $port=='443' ) ) ? '' : ':'.$port;\n    $host     = ( $use_forwarded_host && isset( $s['HTTP_X_FORWARDED_HOST'] ) ) ? $s['HTTP_X_FORWARDED_HOST'] : ( isset( $s['HTTP_HOST'] ) ? $s['HTTP_HOST'] : null );\n    $host     = isset( $host ) ? $host : $s['SERVER_NAME'] . $port;\n    return $protocol . '://' . $host;\n}\nfunction url_host_v2()\n\t// not available in CLI\n        return $url = sprintf('%s://%s/%s',\n            h_get($_SERVER, 'REQUEST_SCHEME'),\n            h_get($_SERVER, 'HTTP_HOST'),\n            h_get($_SERVER, 'REQUEST_URI')\n        );\n}\n// url completo di parametri e schema\nfunction get_full_URL():string {\n    $href = 'http:';\n    if (!empty($_SERVER['HTTPS']) && $_SERVER['HTTPS'] === 'on') {\n        $href = 'https:';\n    }\n    $href .= '//' . $_SERVER['HTTP_HOST'] . $_SERVER['SCRIPT_NAME'] . '?' . $_SERVER['QUERY_STRING'];\n    return $href;\n}\n\nfunction absolute_url( $s, $use_forwarded_host = false ){\n    return url_host( $s, $use_forwarded_host ) . $s['REQUEST_URI'];\n}\n$absolute_url = absolute_url();
ctype_alnum_|if (ctype_alnum($testcase)) {\n        echo "The string $testcase consists of all letters or digits.\\n";\n} else {\n        echo "The string $testcase does NOT consist of all letters or digits.\\n";\n}
hostname_|$_SERVER['HTTP_HOST'];//gethostname() in CLI
tmpl_|tmpl('{{aa}}', get_defined_vars() );\n// template_str_
date_add_|// @see date_format_\n$date_str = sprintf('2010-09-17');\n$date = new DateTime($date_str);\n$date_period_str = sptintf('P%sD', $i=1); // 'P1D': P1D=Period of 1 day(Y/M/W/D/H/S)\n$date->add(new DateInterval($date_period_str));  \n$str_date = $date->format('Y-m-d');\n// old API\n$date_month_ago = date('Ymd', strtotime('-3 months'));\n
lara_input_|$h_input = $request->all();\n$name = $request->input('name', $_def='');\n
zf_config_|Zend_Registry::get('config')->company->email->support;
twb_bgcolor_|<p class="bg-primary">...</p>\n<p class="bg-success">...</p>\n<p class="bg-info">...</p>\n<p class="bg-warning">...</p>\n<p class="bg-danger">...</p>
ip_check_|    //  uso:\n    //  $IP = $_SERVER['REMOTE_ADDR'] ;\n    //  if( !is_valid_ip($IP) ) {\n    //      die("risorsa non accessibile da $IP ");\n    //  }\n    //\n$_is_secure_IP = function (array $more_ip = [], $IP = null) {\n    if (empty($IP)) {\n        $IP = $_SERVER['REMOTE_ADDR']; // @see ip_ if you are behind a proxy\n    }\n    $a_config_ip = []; //Config::get('valid_ip');\n    $a_valid_ip = array_merge($a_config_ip, [\n        // '127.0.0.1',        '::1',        '93.91.142.162',\n        '62.11.3.20'\n    ], $more_ip);\n    // aggiungi ip rete locale\n    // foreach (range(1, 255) as $i) { $a_valid_ip[] = '192.168.1.' . $i; }\n    // altro modo per testare una macchina o dispositivo in rete locale\n    // if (substr($IP, 0, 10) == '192.168.1.') { return true; }\n    $is_valid = in_array($IP, $a_valid_ip);\n    return $is_valid;\n};\nif ( $_is_secure_IP() ) {\n    phpinfo();\n} else {\n    echo $_SERVER['REMOTE_ADDR'];\n}\n\n// simplest:\nif( !in_array( h_get($_SERVER,'REMOTE_ADDR',''), ['127.0.0.1','::1','62.11.3.20'] ) ){\n    die('You are not allowed to access this file. Check '.basename(__FILE__).' for more information.');\n}\n
gzuncompress_|$str_compressed = file_get_contents(__DIR__ . '/../data/typSearch.txt');\n            $str_data = gzuncompress($str_compressed);\n            if (!empty($str_data)) {\n                // decompress ok\n            }\n\ngzcompress_
sp_|sprintf_
is_between_|            // check $n is >= $a && $n <= $b\n            // even if:\n            //    $a < $b\n            //    $a > $b\n            //    $a = $b\n            // All numbers can be real, not only integer.\n            // This function is valid for testing increasing, decreasing, positive and negative numbers, not limited to test only integer numbers.\n            function is_between(float $n, float $a, float $b, $include_boundaries = true): bool {\n                if ($a == $n && $b == $n) {return true;}\n                // default true if $n == $a or $b\n                if ($include_boundaries) {\n                    return (($n - $a) * ($n - $b)) <= 0;\n                } else {\n                    return (($n - $a) * ($n - $b)) < 0;\n                }\n            }\n            function test_is_between() {\n                ok(is_between(5, 1, 10), true, '1');\n                ok(is_between(1, 1, 10), true, '2');\n                ok(is_between(10, 1, 10), true, '3');\n                ok(is_between(-1, 1, 10), false, '4');\n                ok(is_between(5, -1, 10), true, '5');\n                // negatives\n                ok(is_between(-5, -1, -10), true, '6');\n                ok(is_between(-5, 1, 10), false, '7');\n                ok(is_between(-15, -1, -10), false, '8');\n                // testing 0\n                ok(is_between(0, 0, 0), true, '9');\n                ok(is_between(-1, 0, 0), false, '10');\n                ok(is_between(0, -1, 0), true, '11');\n                ok(is_between(0, 0, -1), true, '12');\n            }\n            test_is_between();
xss_|filter_xss_
intval_|$i_num = intval($s);
time_duration_|// time difference in words\nfunction time_duration(int $time, int $ts):string {\n    $years = (int) ((($time - $ts) / (7 * 86400)) / 52.177457);\n    $rem = (int) (($time - $ts) - ($years * 52.177457 * 7 * 86400));\n    $weeks = (int) (($rem) / (7 * 86400));\n    $days = (int) (($rem) / 86400) - $weeks * 7;\n    $hours = (int) (($rem) / 3600) - $days * 24 - $weeks * 7 * 24;\n    $mins = (int) (($rem) / 60) - $hours * 60 - $days * 24 * 60 - $weeks * 7 * 24 * 60;\n    $str = '';\n    if ($years == 1) {\n        $str .= "$years year, ";\n    }\n    if ($years > 1) {\n        $str .= "$years years, ";\n    }\n    if ($weeks == 1) {\n        $str .= "$weeks week, ";\n    }\n    if ($weeks > 1) {\n        $str .= "$weeks weeks, ";\n    }\n    if ($days == 1) {\n        $str .= "$days day,";\n    }\n    if ($days > 1) {\n        $str .= "$days days,";\n    }\n    if ($hours == 1) {\n        $str .= " $hours hour and";\n    }\n    if ($hours > 1) {\n        $str .= " $hours hours and";\n    }\n    if ($mins == 1) {\n        $str .= " 1 minute";\n    } else {\n        $str .= " $mins minutes";\n    }\n    return $str;\n}
dirname_|dirname(__FILE__).'/lib.php'
date_is_weekend_|// $time = strtotime($date)\nfunction is_weekend($time=null) {\n        if( empty( $tile ) ) {\n            $time=time();\n        }\n        $week_day = date('w', $time);\n        return ($week_day == 0 || $week_day == 6);\n}\n// V2\nfunction is_service_available(){\n    $h =  intval( date('H') );\n    if ($h <= 6 || $h >= 22) {\n        error_report('not working howr.');\n        return false;\n    }\n    $dn = date('N'); // Rappresentazione numerica ISO-8601 del giorno della settimana, 1 (per Lunedì) a 7 (per Domenica)\n    if (in_array($dn, [6, 7])) {\n        error_report('not working day.');\n        return false;\n    }\n    return true;\n}\n\n$h = intval(date('H'));\n$is_domenica = date('D') == 'Sun'; // Una rappresentazione testuale di un giorno, tre lettere =   Mon a Sun\n$is_working_h = $h >= 8 && $h <= 23 && !$is_domenica;
web_fatal_|WebError::fatal($msg)
reset_|<input type="reset" />
anchor_mail_|<?\n// @see mailto_\n// encrypt-decrypt spam-protected emails\n                        //  $email_c=mail_crypt('info@caleffi.it', +3);\n                        function mail_crypt($text, $offset){\n                            // ord('.') = 46\n                            // ord('0') = 48   z=a+25\n                            // ord('A') = 65   Z=A+25\n                            // ord('a') = 97\n                            $_mail_crypt_char = function ($char, $start, $end, $offset) {\n                                $n = ord($char );\n                                $n = $n + $offset;\n                                if ($offset > 0 && $n > $end) {\n                                    $n = $start + ($n - $end - 1);\n                                } else if ($offset < 0 && $n < $start) {\n                                    $n = $end - ($start - $n - 1);\n                                }\n                                return chr($n);\n                            };\n                            for ($i = 0; $i < strlen($text); $i++ ) {\n                                 $char = substr($text, $i, 1);\n                                 $e = ord( $char );\n                                 if( $e >= ord('.') && $e <= ord('9') ) {\n                                     $start = ord('.');\n                                     $end   = ord('9');\n                                 } elseif( $e >= ord('a') && $e <= ord('z') ) {\n                                     $start = ord('a');\n                                     $end   = ord('z');\n                                 } elseif( $e >= ord('A') && $e <= ord('Z') ) {\n                                     $start = ord('A');\n                                     $end   = ord('Z');\n                                 } else {\n                                     // lascia il carattere inalterato\n                                     $start = 0;\n                                     $end   = 256;\n                                 }\n                                 $new_char = $_mail_crypt_char($char=$text[$i], $start, $end, $offset);\n                                 $a_chr[] = $new_char;\n                            }\n                            return implode( '', $a_chr );\n                        }\n                        ?>\n<script >\n                        function MWalk(str, offset) {\n                            offset = (-1*offset);\n                            function charcode_add(n,start,end,offset) {\n                                n = n + offset;\n                                if (offset > 0 && n > end) {\n                                    n = start + (n - end - 1);\n                                } else if (offset < 0 && n < start) {\n                                    n = end - (start - n - 1);\n                                }\n                                return String.fromCharCode(n);\n                            }\n                            var dec = "";\n                            for(var i=0; i < str.length; i++) {\n                                var n = str.charCodeAt(i);\n                                <?php\n                                // 0x2B && n <= 0x3A       => 0-9 . , - + / :\n                                // n >= 0x40 && n <= 0x5A  => A-Z @\n                                // n >= 0x61 && n <= 0x7A  => a-z\n                                ?>\n                                if (n >= 0x2B && n <= 0x3A) {\n                                    dec += charcode_add(n,0x2B,0x3A,offset);\n                                } else if (n >= 0x40 && n <= 0x5A) {\n                                    dec += charcode_add(n,0x40,0x5A,offset);\n                                } else if (n >= 0x61 && n <= 0x7A) {\n                                    dec += charcode_add(n,0x61,0x7A,offset);\n                                } else {\n                                    dec += str.charAt(i);\n                                }\n                            }\n                            return dec;\n                        }\n                        function MOpen(s,o) {\n                            location.href = 'ma'+'il'+'to'+':'+MWalk(s, o);\n                        }\nfunction sendmail(){\n                function get_mail(){\n                    var body = [];\n                    body.push('Gent. Sig. Mirandola');\n                    body.push('Sono ...,');\n                    body.push('ho bisogno di ...,');\n                    body.push('mi occorrerebbe entro ...' );\n                    body.push('dovrebbe svolgere il seguente compito: ...');\n                    body = body.join("\\n");\n                    var mail = ['ta','zio','.mir','andola','@', 'gm','ail','.', 'com'].join('');\n                    var addr = [ 'ma', 'il', 'to:', mail].join('');\n                    var subject = 'richiesta info da www.taziomirandola.it';\n                    addr += '?subject='+encodeURIComponent(subject)+'&body='+encodeURIComponent(body);\n                    return addr;\n                }\n                location.href=get_mail();\n            }\n\n\n</script>\n<?php $email_c=mail_crypt($email='info@caleffi.it', $offset=3); ?>                         \n<li> E-mail:\n   <a href="javascript:MOpen('<?=$email_c?>', <?=$offset?>);">\n       <script> document.write( MWalk('<?=$email_c?>', <?=$offset?>)  ); </script>\n  </a>\n</li>\n\n
http_build_query_|$url_data = http_build_query([]);
array_last_|/** @return mixed */\nfunction array_last(array $a_) {\n    $a_last = array_slice($a_, -1);\n    /** @psalm-suppress MixedAssignment */\n    return $last = $a_last[0];\n}
cp_|file_copy_
fv_|f_v_
coalesce_|$xxx = $1 ?? $2 ?? $3;\n\n// restituisce il primo valore non vuoto\n/**\n *  @param array $args\n *  @return mixed\n */\nfunction coalesce(...$args) {\n    $args = func_get_args();\n    foreach ($args as $arg) {\n        if (!empty($arg)) {// 0 do not pass\n            return $arg;\n        }\n    }\n    return null;\n}\n// @see array_filter_\n
nullable_type_|nullable_typehint_
css_transparent_|background-color:rgba(255,0,0,0.5);
/**|///
func_get_args_|$args = func_get_args();\n\n// variadic func >= 5.6\nfunction test(...$args) { var_dump($args); }\ntest(1, 2, 3);\n// @see array_shift_
url_exists_|$file_headers = @get_headers($url = 'http://www.domain.com/somefile.jpg' );\nif( $file_headers[0] == 'HTTP/1.1 404 Not Found' ) {\n    return false;\n}
asort_|hash_sort_
ifns_|if( !isset($1\|) ) {\n}
config_|$a_config = include 'config/application.config.php';\n<?php\n// config/application.config.php\nreturn [];\n// see conf_
img_check_http_|//  Check esistenza foto\nif (@get_headers($remoteImg)[0] != 'HTTP/1.1 404 Not Found') {\n\t// L'immagine esiste\n\t$aImg[] = $jpeg;\n} else {\n\tprintln("Foto non trovata: " . $remoteImg );\n}
ctype_|$is_ = ctype_alpha($str); // contains only letters\n$is_ = ctype_digit($str); // contains only numbers\n$is_ = ctype_space($str); // contains only whitespace\n$is_ = ctype_print($str); // contains only printable characters\n$is_ = ctype_alnum($str); // contains only numbers or letters
css_table_|/*----------------------------------------------------------------------------\ntabella generali, attenzione:tag table è usato anche per il layout\n----------------------------------------------------------------------------*/\ntable th {\n    background-color: #e1e1e1;\n}\ntable tr.selected td,\ntable tr.active td {\n    background-color: #f1f1f1;\n}\ntable.data {\n    border-collapse: collapse;\n    width: 100%;\n    font-size: @font_size_small;\n}\ntable.data th, table.data td {\n    padding: 4px;\n    border: 1px solid #ccc;\n}\n//----------------------\ntable.padded th,\ntable.padded td {\n    padding: 5px;\n}\n/*----------------------------------------------------------------------------\ntabella dati\n----------------------------------------------------------------------------*/\ntable.ec {\n    border-collapse: collapse;\n    width: 100%;\n    background-color: #fff;\n}\ntable.ec td,table.ec th {\n    padding: 9px;\n    border: 1px solid #ccc;\n    white-space: nowrap;\n}\ntable.ec th {\n    background-color: #F5F5F5;\n}\ntd.numeric {\n    text-align:right !important;\n}
first_|array_first_
cli_prompt_|// Input from console\n$name = readline('What is your name : ');\n\n//----- input() function\n// read from the command line\nfunction cli_input($prompt, $_is_valid = null, $_on_invalid = null) {\n    // default lascia passare tutto\n    $_is_valid = $_is_valid ?? function ($v) {return true;};\n    $_on_invalid = $_on_invalid ?? function ($v) {die("invalid input $v \\n");};\n    //\n    echo $prompt . PHP_EOL;\n    $input = null;\n    while (empty($input) && $input !== 0) {\n        $input = fgets(STDIN, 128); // read max 128 char\n        $input = rtrim($input);\n    }\n    if ($_is_valid($input)) {\n        return $input;\n    } else {\n        return $_on_invalid($input);\n    }\n}\n    $action = cli_input("chose an action (1,2,3): ");\n    echo "action: $action \\n";\n\n// Define STDIN for compatibility\nif(!defined("STDIN")) {\n    define("STDIN", fopen('php://stdin','rb'));//"b" Here for Binary-Safe\n}\nfunction input($msg) {\n    echo "$msg\\n";\n    $str = fread(STDIN, 80); // Read up to 80 characters or a newline\n    return $str;\n}\nfunction input_bool($msg) {\n    $str = input($msg);\n    $str = strtolower( $str );\n    return $str == 'yes' || $str == 'y';\n}\nfunction input_int($msg){\n    $str = input($msg);\n    return parseInt( $str );\n}\n\n//----------------------------------------\n//get 3 commands from user\nfor ($i=0; $i < 3; $i++) {\n    $line = readline("Command: ");\n    readline_add_history($line);\n}\n// dump history\nprint_r(readline_list_history());\nprint_r(readline_info());
like_|str_like_
array_key_exists_|array_key_exists($key, $a\|)
n_|"\\n"
link_|$_link = function($url, $txt ) {\n  return sprintf('<a href="%s">%s</a>', $url, $txt );\n};\n// js handling\n                $_js_url = function($cb) {\n                    return sprintf('javascript:void(0);%s', $cb );\n                };\n                $_js_pf = function() {\n                    $args = func_get_args();\n                    $fmt = array_shift($args);//first arg\n                    // all remaininng args are slashed\n                    $args_m = array_map(function($val) { return addslashes($val); }, $args );\n                    return vsprintf($fmt, $args_m );\n                };\n                $html_link = $_link($_js_url($_js_pf("CartController.add('%s','%s')",$article_id,$qta)), $txt='acquista');\n
file_is_current_|file_is_older_
progress_|<progress value="44" max="100"></progress>\n\n
apc_cache_info_|apcu_cache_info($_limited=false)
mb_|// ----- set mb_http_output encoding to UTF-8 ----- \nmb_http_output('UTF-8'); \n// ----- setup php for working with Unicode data ----- \nmb_internal_encoding('UTF-8');\nmb_http_output('UTF-8');\nmb_http_input('UTF-8');\nmb_language('uni');\nmb_regex_encoding('UTF-8');\nob_start('mb_output_handler');\n\n
twb_card_|echo $this->TWBCard('title', function(){\n    return tmpl('{{aa}}\n\n\n    ', get_defined_vars() );\n}, $btns=[] );
str_to_bytes_|/** from 10m to 10*(1024 * 1024) */\nfunction str_to_bytes(string $logSize): int{\n    $units = [\n        'b' => 1, //Bytes\n        'k' => 1024, //KBytes\n        'm' => 1024 * 1024, //MBytes\n        'g' => 1024 * 1024 * 1024, //GBytes\n    ];\n    $rollAt = 0;\n    if (preg_match('/^\\s*([0-9]+\\.[0-9]+|\\.?[0-9]+)\\s*(k|m|g|b)(b?ytes)?/i', $logSize, $match)) {\n        $rollAt = (int) $match[1] * $units[strtolower($match[2])];\n    }\n    return $rollAt;\n}
dbg_|// elaborated version with close\ndefine('IS_DBG', h_get($_GET, 'v', 0) != 0, false);\nfunction dbg(array $h_values) {\n    // only in DEV/TEST\n    // if (ENV::isRequestDev() && !ENV::IsProd()) { }\n    if (IS_DBG) {\n        $_function_ = (debug_backtrace(0, 2)[1]['function']); // __METHOD__;\n        $html = '<pre style=\\"border: 1px solid #ddd;background:#f3f3f3;\\"  id="' . $_function_ . '" >' .\n        'caller:' . $_function_ . '()' . "\\n";\n        foreach ($h_values as $k => $v) {\n            $html .= sprintf('%s=%s' . PHP_EOL, $k, $v);\n        }\n        $html .= '<a href="javascript:void(0);" onclick="$(\\'#' . $_function_ . '\\').remove();return false">close</a>'\n        . '</pre> ';\n        // ensure jquery is loaded once\n        static $i = 0;\n        if ($i === 0) {\n            $i++;\n            $html .= ' <script src="http://code.jquery.com/jquery-latest.min.js" ></script>';\n        }\n        return $html . " \\n";\n    } else {\n        return '';\n    }\n}\necho dbg([\n                    'sql' => $sql,\n                    'params' => json_encode($params),\n                    'count' => count($rs),\n                ]);\n    
curl_get_|$c = curl_init($url='http://www.example.com/directory');\ncurl_setopt($c, CURLOPT_RETURNTRANSFER, 1);\ncurl_setopt($c, CURLOPT_FOLLOWLOCATION, 1);\ncurl_setopt($ch, CURLOPT_ENCODING, '');// accept encodig bz\n// alternative per processare il file\n// curl_setopt($c, CURLOPT_WRITEFUNCTION, function($c,$page) {\n//    $info = curl_getinfo($c);\n//});\n// curl_setopt($c,CURLOPT_FILE);\n//curl_setopt($c, CURLOPT_HTTPHEADER, ['X-Factor: 12', 'My-Header: Bob'] );\n//curl_setopt($c, CURLOPT_VERBOSE, 1);\n//curl_setopt($c, CURLOPT_REFERER, 'http://www.example.com/form.php');\n//curl_setopt($c, CURLOPT_USERAGENT, 'CURL via PHP');\n$page = curl_exec($c);\ncurl_close($c);\n// req info\ncurl_getinfo($ch, CURLINFO_TOTAL_TIME);  \ncurl_getinfo($ch, CURLINFO_SIZE_DOWNLOAD_T); 
header_nochace_|// the page is always modified.\n        header("Last-Modified: " . gmdate("D, d M Y H:i:s") . " GMT");\n\n// nocache for img server generated\nheader("Cache-Control: no-store, no-cache, must-revalidate"); // HTTP/1.1\nheader("Cache-Control: post-check=0, pre-check=0", false);\nheader("Pragma: no-cache"); // HTTP/1.0
template_str_|// minimalistic implementation\n// strtr('{{aa}} {{bb}}',[':aa'=>'111',':bb'=>'222'])\nfunction tmpl(string $tmpl, array $get_defined_vars, $do_htmlspecialchars=false): string{\n    $_f = function (string $k): string {\n        return sprintf('{{%s}}', $k);\n    };\n    return strtr($tmpl, $vars = array_map_keys($get_defined_vars, $_f));\n}\n//--- v2 -------------------- \n// tmpl('{{aa}}', get_defined_vars() );\n/**\n * @psalm-suppress TypeDoesNotContainType\n * @psalm-suppress MissingClosureParamType\n * @psalm-suppress MissingClosureReturnType\n */\nfunction tmpl(string $tmpl, array $get_defined_vars = [], $do_htmlspecialchars=false): string {\n    if (!is_string($tmpl)) {\n        $msg = sprintf('Errore %s ', 'invalid template');\n        throw new \\Exception($msg);\n    }\n    $_stringable = function ($v, $k): bool {\n        // false will be skipped\n        return is_string($k) && (is_scalar($v) || (is_object($v) && method_exists($v, '__toString')));\n    };\n    $get_defined_vars = array_filter($get_defined_vars, $_stringable, ARRAY_FILTER_USE_BOTH); // php5.6+\n    // le variabili che provengono da $_REQUEST vanno sanitizzate per evitare xss / js injection\n    if($do_htmlspecialchars){\n        $get_defined_vars = array_map($get_defined_vars, 'htmlspecialchars');\n    }\n    $_f = function ($k): string {\n        // Scalar are float, string or boolean.  array, object and resource are not\n        if (is_scalar($k)) {\n            $k = is_bool($k) ? ($k ? 'Y' : 'N') : $k;\n            return sprintf('{{%s}}', $k);\n        } else {\n            return '';\n        }\n    };\n    $vars = array_map_keys($get_defined_vars, $_f);\n    return strtr($tmpl, $vars);\n}\n\n\n\n// tmpl tests\n    $aa='test';\n    ok( tmpl('{{aa}}', get_defined_vars() ), 'test', 'tmpl 1' );\n    ok( tmpl('{{aa}}', ['aa' => [1,2,3] ] ), '{{aa}}', 'tmpl a' );\n    ok( tmpl('{{aa}}', ['aa' => 0 ] ), '0', 'tmpl e 0' );\n    ok( tmpl('{{aa}}', ['aa' => null ] ), '{{aa}}', 'tmpl e n' );\n    ok( tmpl('{{aa}}', ['aa' => false ] ), '', 'tmpl e f' );\n    ok( tmpl('{{aa}}', ['aa' => new \\stdClass() ] ), '{{aa}}', 'tmpl obj ' );\n    class test_stringable { function __toString(){ return 'test';} }\n    ok( tmpl('{{aa}}', ['aa' => new test_stringable() ] ), 'test', 'tmpl obj stringable' );\n//\n// data una stringa interpola i valori passati in this->binds nei segnaposto\n// espressi con la sintassi {{nome_var}}\nfunction str_template($str_template, array $a_binds, $default_sub='__') {\n    $substitute = function ($buffer, $name, $val) {\n        $reg = sprintf('{{%s}}', $name );\n        $reg = preg_quote($reg, '/');\n        return preg_replace('/'.$reg.'/i', $val, $buffer);\n    };\n    $cleanUnusedVars = function ($buffer) use($default_sub) {\n        return preg_replace('/\\{\\{[a-zA-Z0-9_]*\\}\\}/i', $default_sub, $buffer );\n    };\n    $buffer = $str_template;\n\n    // le variabili che provengono da $_REQUEST vanno sanitizzate per evitare xss / js injection\n    if($do_htmlspecialchars){\n        $a_binds = array_map($a_binds, 'htmlspecialchars');\n    }\n\n    // TODO: gestire il caso in cui si passi un oggetto come $a_bind\n    // $obj->view_$name || $obj->view_$name()\n    foreach ($a_binds as $name => $val) {\n        $buffer = $substitute($buffer, $name, $val);\n    }\n    $buffer = $cleanUnusedVars($buffer);\n    return $buffer;\n}\n\n
twb_list_|<ul class="list-unstyled">\n  <li>...</li>\n</ul>\n\n<ul> \n\t<li>Lorem ipsum dolor sit amet</li> \n\t<li>Consectetur adipiscing elit</li>\n\t\t<ul> \n\t\t\t<li>Phasellus iaculis neque</li> \n\t\t\t<li>Purus sodales ultricies</li> \n\t\t\t<li>Vestibulum laoreet porttitor sem</li> \n\t\t\t<li>Ac tristique libero volutpat at</li> \n\t\t</ul> \n\t</li> \n</ul>\n\n<dl class="dl-horizontal"> \n   <dt>Description lists</dt> <dd>A description list is perfect for defining terms.</dd> \n   <dt>Euismod</dt> <dd>Vestibulum id ligula porta felis euismod semper ege .</dd> \n</dl>\n\n<ul class="list-inline">\n  <li>aaa</li>  <li>bbb</li>  <li>ccc</li>\n</ul>\n\n\n\n\n\n
zf_partial_|echo $this->partial('_partial.phtml', [\n    // injiect vars\n    'from' => 'Team Framework',\n] ); \n
zf_h_partial_loop_|$model = [\n    ['key' => 'Mammal', 'value' => 'Camel'],\n    ['key' => 'Bird', 'value' => 'Penguin']\n];\necho $this->partialLoop('partialLoop.phtml', $model);
image_placeholder_|<?php\n/*\ngenera una immagine delle dimensioni specifiche\n*/\nerror_reporting(-1); // E_ALL Report all PHP errors\nini_set('display_errors', '1');\nini_set('html_errors', '1');\n// log app errors\nini_set('log_errors', '1');\nini_set('error_log', __DIR__ . '/../../PHP_' . date('y_m') . '.txt');\n//\nfunction gets($k, $d, \\Closure $f_filter = null) {\n    $v = isset($_GET[$k]) ? $_GET[$k] : $d;\n    if (!empty($f_filter)) {\n        $v_f = $f_filter($v);\n    } else {\n        $v_f = $v;\n    }\n    return $v_f;\n}\nfunction geti($k, $d = 0) {\n    return filter_input(INPUT_GET, $k, FILTER_SANITIZE_NUMBER_INT);\n}\n \n\n//----------------------------------------------------------------------------\n//  GD routines\n//----------------------------------------------------------------------------\n    header('Content-Type: image/png');\n// @see image_create_ \n//----------------------------------------------------------------------------\n// main\n//----------------------------------------------------------------------------\n$width = geti('w', 100);\n$height = geti('h', 100);\n$bg_color = gets('bg', 'cfcfcf');\n$txt_color = gets('c', '000000');\ncreate_image($width, $height, $bg_color, $txt_color);\n
date_sub_|date_add_
Object_|object_
log_file_|\nclass _loggable {\n    public static function _log(string $message): void{\n            if( ENV::isDEV() ) { }\n\t\t$dir = realpath(sprintf('%s/../..', __DIR__));\n        \t$log_path = sprintf('%s/%s_%s.log', $ns = __CLASS__, date('Y-m'));\n            //---\n            static $i = 0;\n            if (file_exists($log_path) && $i === 0 ) {\n\t\t// elimina files vecchi\n            if (1 === random_int(0, 99)) {\n                $wildcard = str_replace($sub = date('Y-m'), '*-*', $log_path);\n                $res = shell_exec($cmd = "find $wildcard -mtime +45 -delete &");\n                $log_msg = sprintf('%s > %s ' . PHP_EOL, date('Y-m-d H:i:s'), $cmd . ' ' . json_encode($res));\n                file_put_contents($log_path, $log_msg, (FILE_APPEND | LOCK_EX));\n            }\n            // assicurati che i files non crescano oltre una certa soglia\n            $MB = pow(1024, $_factor = 2);\n            if (intval(filesize($log_path)) > (50 * $MB)) {\n                unlink($log_path);\n            }\n            \t$i++;\n            }\n            //---\n            $message = substr(str_inline($message), 0, $len = 1000);\n            static $a_m = []; // allow the same msg to be logged once\n            if (in_array($message, $a_m)) {return;} else { $a_m[] = $message; }\n            $user = $GLOBALS['current_user']->user_name; // TODO: app specific\n            $log_msg = sprintf('%s %s > %s ' . PHP_EOL, date('Y-m-d H:i:s'), $user, $message);\n            file_put_contents($log_path, $log_msg, (FILE_APPEND | LOCK_EX));\n    }\n}\n\n/* \n// elimina files vecchi!\nlog_roll_ \ndir_clean_\nfile_put_contents_\npsr_log_\n// checks:\n// -file exists and is read-only\n// -path name may be too long\n// -disk may be full\n\n// log routine $isOK is a semplification of PSR-Log level\nprotected static function log($isOK=true, $message, array $context=[] ) {\n    $context = array_merge([\n      'IP'      => str_pad( coalesce(@$_SERVER['HTTP_X_REAL_IP'], $_SERVER['REMOTE_ADDR']) , 15, ' ', STR_PAD_RIGHT),\n      'BROWSER' => Browser::translate(),\n      'METHOD'  => substr($_SERVER['REQUEST_METHOD'],0,1),\n      'req_par' => substr(json_encode(array_merge($_GET,$_POST)),0,2000),\n      'action'  => $this->getRequest()->getActionName(), // __METHOD__ could go here\n    ], $context);\n    $log_msg = sprintf('%s %s %s  params:%s '.PHP_EOL,\n        date('Y-m-d H:i:s'),\n        $isOK ? 'OK' : 'KO',        \n        $message,\n        json_encode($context),\n    );\n    $log_path = sprintf('%s/../var/logs/%s_%s.log', APPLICATION_PATH, $ns='api_requests', date('my') );\n    file_put_contents($log_path, $log_msg, (FILE_APPEND | LOCK_EX));\n}\n// mette testo su singola linea per migliorare il logging\nfunction str_inline(string $txt): string{\n    // suddivide commenti sql\n    $a_lines = explode("\\n", $txt);\n    foreach ($a_lines as &$line) {\n        $line = trim($line);\n        $line = '--' == substr($line, 0, $len = 2) ? $line . ';;' : $line;\n    }\n    $txt = implode($sep = ' ', $a_lines);\n    $txt = preg_replace($regex = '/(\\s{2,}|\\\\n)/ui', ' ', $txt);\n    return $txt;\n}\n*/\n\n\n\n
location_|$_redirect = function($url) {\n    $url = Safe::url($url);// dont allow user specified redirect locations!\n    header('HTTP/1.1 301 Moved Permanently');\n    header('Location: '.$url);\n    // $logger->info('reason');\n    die('redirect');\n};\n// SECUTITY: don't allow user devfined urls, it can be used to for phishing, like redirect $_GET['url']\n$_redirect( 'http://www.test.it/' );
suite_redirect_|SugarApplication::redirect('index.php?module=Administration');
m_|method_
json_respond_|return DMS_JSON::response($isOK=false, $msg='', $data=[] );\n// @see json_respond_def_\n
fsockopen_|function sock_https($server, $url, $post_array, $port = 443, $conn_timeout = 60, $rw_timeout = 86400) {\n    $rispcrm='';\n    $host = $server;\n    $path = $url; \n    $errno = '';\n    $errstr = '';\n    set_time_limit(0);\n    $post_data = '';\n    foreach ($post_array as $k => $v) {\n        $post_data .= $k . '=' . $v . '&';\n    }\n    $fp = fsockopen("ssl://".$host, $port, $errno, $errstr, $timeout = 30);\n    if(!$fp){\n\t//error tell us\n        $rispcrm.= "Errore: "."$errstr ($errno)\\n";\n    } else {\n        //send the server request\n        fputs($fp, "POST $path HTTP/1.1\\r\\n");\n        fputs($fp, "Host: $host\\r\\n");\n        fputs($fp, "Content-type: application/x-www-form-urlencoded\\r\\n");\n        fputs($fp, "Content-length: ".strlen($post_data)."\\r\\n");\n        fputs($fp, "Connection: close\\r\\n\\r\\n");\n        fputs($fp, $post_data . "\\r\\n\\r\\n");\n        //loop through the response from the server\n        while(!feof($fp)) {\n            $rispcrm.=  fgets($fp, 4096);\n        }\n        fclose($fp);\n        return $rispcrm;\n    }\n}
array_find_|_find_
psalm_return_void_|/** @return void */\nfunction lacks_return(): void { return; } // php7.1+
spl_|/* http://php.net/book.spl\nInterfaces\n    Countable\n    OuterIterator\n    RecursiveIterator\n    SeekableIterator\n    SplObserver_\n    SplSubject_\nIterator Classes\n    AppendIterator\n    ArrayIterator_\n    ArrayObject_\n    CachingIterator\n    CallbackFilterIterator\n    DirectoryIterator_\n    EmptyIterator\n    FilesystemIterator\n    FilterIterator\n    GlobIterator\n    InfiniteIterator\n    IteratorIterator\n    LimitIterator\n    MultipleIterator\n    NoRewindIterator\n    ParentIterator\n    RecursiveArrayIterator\n    RecursiveCachingIterator\n    RecursiveCallbackFilterIterator\n    RecursiveDirectoryIterator\n    RecursiveFilterIterator\n    RecursiveIteratorIterator\n    RecursiveRegexIterator\n    RecursiveTreeIterator\n    RegexIterator\nClasses\n    SplDoublyLinkedList\n    SplFileInfo\n    SplFileObject\n    SplFixedArray_\n    SplHeap\n    SplMinHeap\n    SplMaxHeap\n    SplObjectStorage\n    SplPriorityQueue\n    SplQueue_\n    SplStack_\n    SplTempFileObject\nExceptions\n    spl_exceptions_\n*/\n
sql_clean_|sql_escape_
__tostring_|public function __toString(){ reutn ''; }
array_foldl_|array_reduce_
debug_backtrace_|$bt = debug_backtrace();\n            $trace = '';\n            for ( $i = count($bt) ; $i-- ; $i > 0 ) {\n                $line = $bt[$i];\n                $args = substr(json_encode($line['args']),0,$len=200);\n                $trace .= "${line['file']}:${line['line']} ${line['function']}(". $args .")\\n";\n            }\necho $trace;
prompt_|cli_prompt_
memory_get_peak_usage_|$mem_max = round(memory_get_peak_usage() / (1024 * 1024), 2) . 'MB';
array_keys_reject_|function h_keys_reject(array $array, array $a_keys): array{\n    return array_diff_key($array,  $a_keys );\n}
enum_|enum Suit {\n\tcase Clubs;\n\tcase Diamonds;\n\tcase Hearts;\n\tcase Spades;\n}\n// useful for type checking\nfunction pick_card(Suit $suit):Suite { return $suit; }\npick_card(Suit::Clubs);\n/*php7\nclass Month extends SplEnum {\n    const __default = self::January;\n    const January = 1;\n    const February = 2;\n    const March = 3;\n    const April = 4;\n    const May = 5;\n    const June = 6;\n    const July = 7;\n    const August = 8;\n    const September = 9;\n    const October = 10;\n    const November = 11;\n    const December = 12;\n}\necho new Month(Month::June) . PHP_EOL;\ntry {\n    new Month(13);\n} catch (UnexpectedValueException $uve) {\n    echo $uve->getMessage() . PHP_EOL;\n}*/\n// 8.1 methods for transformations\nenum Status {\n    case draft;\n    case published;\n    case archived;    \n    public function color(): string {\n        return match($this) {\n            Status::draft => 'grey',\n            Status::published => 'green',\n            Status::archived => 'red',\n        };\n    }\n}\n// string or integer values to enums, which makes them so-called "backed enums":\nenum Status: string {\n    case draft = 'draft';\n    case published = 'published';\n    case archived = 'archived';\n}\n// useful for type checking\nfunction xxxxx( Status $status ) {}\nxxxxx(Status::draft);//call it\n\n\n
case_|case '$1':\|\nbreak;
str_left_|mb_substr($str, 0, $l=4)\n\n$_str_left = function str_left($str, $length) {\n    return mb_substr($str, 0, $length);\n};\n// str_begin_
str_replace_all_|/**\n * @param string|array<string> $m_sub\n * @param string|array<string> $m_re\n*/\npublic static function str_replace_all( $m_sub, $m_re, string $str):string {\n    do {\n        $str = str_replace($m_sub, $m_re, $str, $c);\n    } while ($c > 0);\n    return $str;\n}
private_|//\nprivate function \|(){ return true; }
l_|lambda_
once_|// esegui op solo una volta per request\n$_once = function($op){\n  static $c = 0;\n  if( $c === 0 ) {\n     $c = $op();\n  }\n  return $c;\n};\n\n// or use $_SESSION\n// system wide once()\n$_once = function($op_key, \\Closure $operation, $ttl_secs = 0 ) {\n    $op_key = 'once_'.$op_key;\n    $val = apc_fetch($op_key);\n    if (false === $val) {\n        $val = $operation();\n        apc_store($op_key, $val, $ttl_secs );//secs, 0=forever\n        return $val;\n    } else {\n        // operation already done\n        return $val;\n    }\n};\n\n$val = $_once(function(){\n  // ie. Mail::toMainters\n  return $val;\n});\n
breack_|break
request_is_ajax_|$is_ajax_request = isset($_SERVER['HTTP_X_REQUESTED_WITH']);
pf_|sprintf_
sql_inline_|sql_compress_
array_is_assoc_|\n// A quick and dirty way to determine whether the passed in array is associative\n// All the keys are strings \nfunction array_is_associative(array $objects) {\n    // This isn't true in the general case, but it's a close enough (and quick) approximation for the context in\n    // which we're using it.\n    reset($objects);\n    return count($objects) > 0 && is_string(key($objects));\n}\n\n\n
file_ext_|//\nfunction extension_get(string $filename):string {\n    preg_match('/^.*\\.([a-z0-9]{2,4})$/i', $filename, $matches);\n    $ext = h_get($matches, 1, '');\n    $ext = strtolower($ext);\n    return $ext;\n}\n//\nfunction extension_replace(string $filename, string $new_extension):string {\n    return preg_replace('/\\..+$/i', '.' . $new_extension, $filename);\n}\n// $ext = stringtolower(pathinfo($file_path, PATHINFO_EXTENSION));// usa sempre il lowercase per evitare che sfuggano a successivo confronto x via del case\n// $name = pathinfo($file_path, PATHINFO_FILENAME);// nome file senza estensione es. xxx.txt=>'xxx'\n// string based:   $ext = strtolower(end( explode('.', $path) ));\n
which_|// testare che un programma sia installato    \n$_check_bin=function($binary){\n\tif( '' == trim(`which $binary`) ) {\n    \t\tdie("ERROR $binary is not installed!");\n\t}\n};\n    foreach( ['yui-compressor'] as $binary ) {\n        $_check_bin( $binary );\n    }\n
spl_autoload_register_|        //\n        // @see PSR-4 autoload reference implementation\n        //\n        // new \\Foo\\Bar\\Baz\\Qux;\n        // \\Foo\\Bar\\Baz\\Qux class => /path/to/project/src/Baz/Qux.php:\n        //\n        spl_autoload_register(function ($pClassName) {\n            // project-specific namespace prefix\n            $prefix = '';//'Mobile';// Foo\\\\Bar\\\\\n            // base directory for the namespace prefix\n            $base_dir = __DIR__.'/'; // . '/src/';\n            // does the class use the namespace prefix?\n            $len = strlen($prefix);\n            if (strncmp($prefix, $pClassName, $len) !== 0) {\n                // DBG echo " autoloading NS prefix: $pClassName \\n";\n                // no, move to the next registered autoloader\n                return;\n            }\n            // get the relative class name\n            $relative_class = substr($pClassName, $len);\n            // replace the namespace prefix with the base directory, replace namespace\n            // separators with directory separators in the relative class name, append\n            // with .php\n            $file = $base_dir . str_replace('\\\\', '/', $relative_class) . '.php';\n            if (file_exists($file)) {\n                // echo "LOADING: $file\\n"; // DBG\n                require $file;\n            } else {\n                // DBG\n                die( " autoloading KO: $file\\n" );\n            }\n        });
psalm_generics_|psalm_template_
mysql_connect_|mysqli_connect_
csv_parse_|csv_decode_
k_|'$1' => '\|',
__get_|    public function __get($name) {\n        // echo "Getting '$name'\\n";\n        if ( property_exists( $this, $name ) ) {\n            return $this->{$name};\n        } else {\n            $trace = debug_backtrace();\n            trigger_error(\n                'Undefined property via __get(): ' . $name .\n                ' in ' . $trace[0]['file'] .\n                ' on line ' . $trace[0]['line'],\n                E_USER_NOTICE);\n            return null;\n        }\n    }\npublic function __set($name, $value) {\n        echo "Setting '$name' to '$value'\\n";\n        $this->data[$name] = $value;\n}\n//  As of PHP 5.1.0 \npublic function __isset($name) {\n        echo "Is '$name' set?\\n";\n        return isset($this->data[$name]);\n}\npublic function __call($name, $arguments) {\n    // Note: value of $name is case sensitive.\n    echo "Calling object method '$name' " . print_r( $arguments, 1). "\\n";\n}
zf_h_escape_|$this->escape($this->str)
shared_mem_|shmop_
dir_process_|// processa una entry per volta della dir, accetta un filtro per ext e un limite massimo di files\n// ottimale per processare grandi quantità di files,\n// quando glob() che legge tutta la cartella in un array diventa lento\nfunction dir_process($dir, $_op, $ext_ok = '.txt', $n_limit = 1500, array $options=[] ) {\n    $_opt = array_merge( [\n        // defaults\n        'debug' => false,\n        ], $options);\n    extract( $_opt );\n    //\n    $handle = opendir($dir);\n    $i = 0;\n    while (($file = readdir($handle)) !== false) {\n        if( $i >= $n_limit ){\n            echo "reached file limit $n_limit \\n";\n            closedir($handle);\n            die('retry.');\n            return;\n        }\n        if ($file == '.' || $file == '..') {\n            continue;\n        }\n        $filepath =  $dir . '/' . $file; // $dir == '.' ? $file :\n        if (is_link($filepath)){\n            continue;\n        }\n        if ($debug && is_dir($filepath)){\n            echo "dir $filepath \\n";\n            continue;\n        }\n        if (is_file($filepath)) {\n            $ext = substr( $file, -1 * strlen($ext_ok) );\n            if( $ext != $ext_ok ) {\n                // echo "skipping $file ext !$ext_ok \\n";\n                continue;\n            }\n            // if( ENV == 'DEV'){ echo "processing $filepath \\n"; }\n            $_op( $filepath );\n            $i++;\n        }\n    }\n    closedir($handle);\n}
str_template_|strtr_
str_start_with_|function str_starts_with($haystack,$needle){\n    return (mb_substr($haystack,0,mb_strlen($needle)) === $needle);\n}
h_select_keys_|$h_xxx = h_select_keys( $h_$1, ['k1', 'k2']);\|// def:\n// return and hash that has only the specified keys\n// h_select_keys( $promo_group, [\n//               "items_qta_tot" ,\n//               "promo_txt"])\nfunction h_select_keys(array $h, array $a_keys) {\n    $a2 = [];\n    foreach ($a_keys as $key) {\n        $a2[$key] = h_get($h, $key, null);\n    }\n    return $a2;\n}\n// \n// $parameters = ['foo' => 'bar', 'bar' => 'baz', 'boo' => 'bam'];\n// $allowedKeys = ['foo', 'bar'];\nfunction h_keys_retain($parameters, $allowedKeys ) {\n\t$filteredParameters = array_intersect_key($parameters, array_flip($allowedKeys));\n\t// => ['foo' => 'bar', 'bar' => 'baz]\n\treturn $filteredParameters; \n}\n\n\n
var_|echo sprintf("<pre>%s() L:%s F:%s\\n",__FUNCTION__,__LINE__,__FILE__),var_dump(\n$1\n\|),"</pre>\\n"; \ndie(); // debug_print_backtrace()\n
multi_thread_|thread_
set_time_limit_|set_time_limit(0);// run forever\nignore_user_abort(true);// ignore user abort, both web and cli\n
grep_|array_filter_\npreg_\ntext_grep_
array_keep_if_|$a2=array_keep_if($a, function($v){return $v>10;});\n// new arr with all items that return true\nfunction array_keep_if(array $a, callable $_f):bool{\n        $a2=[];\n\tforeach($a as $v){\n\t\tif( $_f($v) ) $a2[]=$v;\n\t}\n\treturn $a2;\n}
chart_bar_|include ("../../jpgraph/jpgraph.php");\ninclude ("../../jpgraph/jpgraph_bar.php");\ninclude ("../../jpgraph/jpgraph_line.php");\n// We need some data\n$datay=[31,44,49,40,24,47,12];\n// Set up the graph\n$graph = new Graph(600,300,"auto");\n$graph->img->SetMargin(60,30,30,40);\n$graph->SetScale("textlin");\n$graph->SetMarginColor("teal");\n$graph->SetShadow();\n// Create the bar pot\n$bplot = new BarPlot($datay);\n$bplot->SetWidth(0.6);\n// Set up color for gradient fill style\n$tcol=[100,100,255];\n$fcol=[255,100,100];\n$bplot->SetFillGradient($fcol,$tcol,GRAD_VERT);\n$bplot->SetFillColor("orange");\n$graph->Add($bplot);\n// Set up the title for the graph\n$graph->title->Set("Sample Bargraph");\n$graph->title->SetColor("yellow");\n$graph->title->SetFont(FF_VERDANA,FS_BOLD,12);\n// Set up color for axis and labels\n$graph->xaxis->SetColor("black","white");\n$graph->yaxis->SetColor("black","white");\n// Set up font for axis\n$graph->xaxis->SetFont(FF_VERDANA,FS_NORMAL,10);\n$graph->yaxis->SetFont(FF_VERDANA,FS_NORMAL,10);\n$graph->yaxis->title->Set("Value Range");\n$graph->yaxis->title->SetColor("white");\n$graph->yaxis->title->SetFont(FF_VERDANA,FS_NORMAL,10);\n// Set up X-axis title (color & font)\n$graph->xaxis->title->Set("item Count");\n$graph->xaxis->title->SetColor("white");\n$graph->xaxis->title->SetFont(FF_VERDANA,FS_NORMAL,10);\n// Finally send the graph to the browser\n$graph->Stroke();
twb_tooltip_|<button type="button" class="btn btn-default" data-toggle="tooltip" data-placement="top" title="Tooltip on top">Tooltip on top</button>
assert_|ini_set('assert.exception', 1);\ntry {\n    assert(2 < 1, "Two is not less than one");\n} catch (AssertionError $ex) {\n    echo $ex->getMessage();\n}\n\nif( !is_numeric($n) ) {\n    throw new Exception("VARNAME deve essere in formato numerico, '$n' ricevuto");\n}
date_default_timezone_set_|date_default_timezone_set('Europe/Rome');
vsprintf_|$str = vsprintf("%04d-%02d-%02d", explode('-', '1988-8-1'))
sql_update_|@see SQL_\n\n\n
scp_|scp_download_\n\n//\n// TODO: richiamare il dump su dbauto in modo da essere certi che sia fresco e attendibile\n// scp dbauto_dump /home/tmirandola/dbauto_dump\n// es. ssh user@ssh-server.com '( cat ~/myscript.sh )'\n// cmd: sudo -u tmirandola  /home/tmirandola/dbauto_dump DEV dump\n//\n//\n// remote command call:\n//     ssh systemsboy@rhost.systemsboy.edu 'ls -l; ps -aux; whoami'\n//\n//
php_self_|$_SERVER["PHP_SELF"],\n            sprintf('%s://%s/%s',\n                $_SERVER['REQUEST_SCHEME'],\n                $_SERVER["HTTP_HOST"],\n                $_SERVER["REQUEST_URI"]\n            )
array_slice_|// base:\narray_slice($a_rows, $pos, $page_len);\n// paginazione:\n$page_len = 1000;\n$pages_count = ceil(count($a_rows_all) / $page_len);\nfor ($page_num = 1; $page_num <= $pages_count; $page_num++) {\n   $a_rows_paged = array_slice($a_rows_all, (($page_num - 1) * $page_len), $page_len);\n}\n// closure version:\n$_for_pages = function(array $a_rows_all, $page_len, $_generator ){\n  $pages_count = ceil(count($a_rows_all) / $page_len);\n  for ($page_num = 1; $page_num <= $pages_count; $page_num++) {\n      $a_rows_paged = array_slice($a_rows_all, (($page_num - 1) * $page_len), $page_len);\n      $res[] = $_generator( $a_rows_paged );\n  }\n  return $res;\n};\n\n
psalm_return_|/** \n * @return $1 array<string, string>  \n */\n
_filter_|$a_data = __::filter([1, 2, 3, 4], function($num) { return $num % 2 === 0; });\n// => [2, 4]
image_create_|class ImgTool {\n    //----------------------------------------------------------------------------\n    //\n    //----------------------------------------------------------------------------\n    //  create_image($img_path = '/tmp/images/87249.jpg',\n    //      $width = 1200, $height = 600, $bg_color = 'cfcfcf', $txt_color = '000000');\n    function create_image($img_path, $width, $height, $bg_color, $txt_color) {\n        $image = ImageCreate($width, $height);\n        //\n        list($r, $g, $b) = self::str_color_to_dec($bg_color);\n        $bg_color = ImageColorAllocate($image, $r, $g, $b);\n        //\n        list($r, $g, $b) = self::str_color_to_dec($txt_color);\n        $txt_color = ImageColorAllocate($image, $r, $g, $b);\n        //\n        ImageFill($image, 0, 0, $bg_color);\n        imagestring($image, 1, 5, 5, $text = "$width X $height", $txt_color);\n        $_has_ext = function ($search) use ($img_path) {\n            return stripos($img_path, $search) !== false;\n        };\n        if ($_has_ext('.png')) {\n            ImagePNG($image, $img_path);\n        } elseif ($_has_ext('.jpg')) {\n            imageJpeg($image, $img_path);\n        }\n        ImageDestroy($image);\n        return $img_path;\n    }\n    function esa2dec($n) {return (int) base_convert($n, 16, 10);}\n    function str_color_to_dec($str) {\n        $len = strlen($str);\n        if ($len != 6) {\n            $msg = sprintf('Errore color str should be 6, %s found ', $len);\n            throw new \\Exception($msg);\n        }\n        // estrae range 0-2, 2-4, 4-6 dalla stringa\n        $_token = function ($str, $n) {return substr($str, $n * 2, 2);};\n        $r = self::esa2dec($_token($str, 0));\n        $g = self::esa2dec($_token($str, 1));\n        $b = self::esa2dec($_token($str, 2));\n        return [$r, $g, $b];\n    }\n}\n\n
filter_html_|$html = filter_var($html, FILTER_SANITIZE_SPECIAL_CHARS);//escape, not removes, bad html
EOL_|eol_
web_controller_|class UploaderController extends ActionController {\n    public function ActionIndex() {\n        return $html='ok';;\n    }\n}\n$c = new UploaderController();\necho $c->run();
zurb_grid_|<!--\n<div class="grid-x">\n  <div class="cell">full width cell</div>\n  <div class="cell">full width cell</div>\n</div>\n<div class="grid-x">\n  <div class="small-6 cell">6 cells</div>\n  <div class="small-6 cell">6 cells</div>\n</div>\n<div class="grid-x">\n  <div class="medium-6 large-4 cell">12/6/4 cells</div>\n  <div class="medium-6 large-8 cell">12/6/8 cells</div>\n</div>\n-->
defer_|register_shutdown_function_
singleton_|    public static function getInstance() {\n        static $__instance = null;\n        if (null === $__instance) {\n            $__instance = new static();\n        }\n        return $__instance;\n    }\n    // should not circumvent the singleton\n    protected function __construct() { }\n  \n  // 7.4+ sintax\n  private static ?Foo $instance = null;\n  public static function getInstance(): Foo {\n    return self::$instance ??= new static();\n  }\n
md5_|$md5_str = md5($xxxx);\n$md5_str = substr(base_convert($md5_str, 16,32), 0, 12); // shortener\n// $md5 = base_convert_x( md5($str), 16, 62 ) ; // even shorter\n// @see hash_\n\n
range_check_|// true if number is in range\nfunction isInRange($number, $low, $high){\n    if ($low > $high) {\n      throw new Exception("Low:" + low + " greater than High:" + high);\n    }\n    return ($low <= $number && $number <= $high);\n}\n
mail_phpmailer_|// composer require phpmailer/phpmailer\nclass Mail{\n    public static function send($to, $msg){\nrequire 'PHPMailerAutoload.php';\n\n$mail = new PHPMailer;\n\n//$mail->SMTPDebug = 3;                               // Enable verbose debug output\n\n$mail->isSMTP();                                      // Set mailer to use SMTP\n$mail->Host = 'smtp1.example.com;smtp2.example.com';  // Specify main and backup SMTP servers\n$mail->SMTPAuth = true;                               // Enable SMTP authentication\n$mail->Username = 'user@example.com';                 // SMTP username\n$mail->Password = 'secret';                           // SMTP password\n$mail->SMTPSecure = 'tls';                            // Enable TLS encryption, `ssl` also accepted\n$mail->Port = 587;                                    // TCP port to connect to\n\n$mail->setFrom('from@example.com', 'Mailer');\n$mail->addAddress('joe@example.net', 'Joe User');     // Add a recipient\n$mail->addAddress('ellen@example.com');               // Name is optional\n$mail->addReplyTo('info@example.com', 'Information');\n$mail->addCC('cc@example.com');\n$mail->addBCC('bcc@example.com');\n\n$mail->addAttachment('/var/tmp/file.tar.gz');         // Add attachments\n$mail->addAttachment('/tmp/image.jpg', 'new.jpg');    // Optional name\n$mail->isHTML(true);                                  // Set email format to HTML\n\n$mail->Subject = 'Here is the subject';\n$mail->Body    = 'This is the HTML message body <b>in bold!</b>';\n$mail->AltBody = 'This is the body in plain text for non-HTML mail clients';\n\nif(!$mail->send()) {\n    echo 'Message could not be sent.';\n    echo 'Mailer Error: ' . $mail->ErrorInfo;\n} else {\n    echo 'Message has been sent';\n}\n    }\n}
zf_cache_|zf_cache_get_
lambda_|function () { return $xxx;};
str_to_upper_|strtoupper($str)
jq_form_validate_|form_
xml_write_|$xml = new XMLWriter();\n$xml->openUri('file:///tmp/output.xml');\n// create the XML open tag\n$xml->startDocument('1.0', 'utf-8');//This will output: <?xml version="1.0" encoding="UTF-8"?>\n// start writing elements:\n$xml->writeElement('foo1', 'bar');\n// \n$xml->startElement('foo2');\n$xml->writeAttribute('bar', 'baz');\n$xml->writeCdata('Lorem ipsum');\n$xml->endElement(); // This will output: <foo bar="baz"><![CDATA[Lorem ipsum]]></foo>\n\n\n
str_to_lower_|strtolower($str)
cast_int_|$1 = intval( $1, $_base=10);
is_str_|ctype_graph($s) || ctype_space($s)
try_|try {\n\n\|} catch (Throwable $e) { // Throwable $e in php7\n            $fmt = __METHOD__ . ' Exception: <b>%s</b><br> file:%s line:%s <br> trace:<pre>%s</pre>';\n            $msg_full = sprintf($fmt, $e->getMessage(), $e->getFile(), $e->getLine(), $e->getTraceAsString()); // @see fmt_exception_trace_\n            $GLOBALS['log']->error(strip_tags($msg_full)); //full log\n\n    // hide details from users\n    $usr_msg = (ENV::isDEV() || ENV::isCERT() || ENV::isRequestDev()) ?\n            $msg_full :\n            sprintf('%s Exception raised: "%s". See logs for details.', __METHOD__, $e->getMessage());\n    // your UI reporting        \n    NLG_Flash::add($usr_msg, 'error'); \n    echo html_alert($usr_msg, 'red');\n//} catch (Exception $e) {// only in PHP 5.x, can be removed otherwise\n//} finally {\n}\n/* tests:\n$var = 1; $var->method(); // Throws an Error object in PHP 7.\nfunction add(int $left, int $right):int{ return $left + $right;} add('left', 'right');// raises TypeError\neval('code that cant be parsed');// raises ParseError\n$value = 1 << -1; $value = 1 % 0; // raises ArithmeticError or DivisionByZeroError\nini_set('zend.assertions', 1);ini_set('assert.exception', 1);$test = 1;assert($test === 0);// raises AssertionError\n// Error should be used to represent coding issues\n// Exception should be used for conditions that can be safely handled at runtime  */\n\n
session_start_|if ( !is_session_started() ) { \n    // tooo much files in the session folder will be slow to access\n    ini_set('session.save_path', realpath(dirname($_SERVER['DOCUMENT_ROOT']) . '/../session') );\n    session_start();\n}\nfunction is_session_started(){\n  if ( php_sapi_name() !== 'cli' ) {\n    if ( version_compare(phpversion(), '5.4.0', '>=') ) {\n      return session_status() === PHP_SESSION_ACTIVE;\n    } else {\n      return session_id() !== '' ;\n    }\n  }\n  return false;\n}
gz_extract_|$filename= preg_match('~\\.gz$~',$filename) ? "compress.zlib://$filename":$filename;\n$str_content=file_get_contents( );\n\n// open file for reading\n$zp = gzopen($filename, "r");\n// read 3 char\necho gzread($zp, 3);\n// output until end of the file and close it.\ngzpassthru($zp);\n// open file and print content (the 2nd time).\nif (readgzfile($filename) != strlen($s)) {\n    echo "Error with zlib functions!";\n}\ngzclose($zp);
array_grep_|array_filter_\npreg_grep_\nh_grep_
var_dump_rs_|// mostra i valori di un RS\n/**\n * @param list< array<array-key, mixed> > $rs\n */\n$_dump_RS = function(array $rs, string $label = "", array $config = []):string {\n    $a = [];\n    if (is_array($rs)) {\n        $a = $rs;\n    }\n    if (empty($a)) {\n        return 'empty RS';\n    } else {\n        $html = '';\n        foreach ($a as $i => $row) {\n            if ($i == 0) {\n                $html .= '<tr>';\n                foreach ($row as $k => $v) {\n                    $html .= "<th>$k</th>";\n                }\n                $html .= '</tr>';\n            }\n            $html .= '<tr>';\n            foreach ($row as $k => $v) {\n                $html .= "<td>$v</td>";\n            }\n            $html .= '</tr>';\n        }\n        static $c = 0;\n        if( $c >0 ){\n            $style='';\n        } else {\n            $c++;\n        $style = <<<__END__\n        <style type="text/css">\n        table.tbldmp {\n            border-collapse: collapse;\n            font-family: monospace;\n        }\n        table.tbldmp td, table.tbldmp th  {\n            padding: 0.5em;\n        }\n        table.tbldmp  th {\n            background-color: #54585d;\n            color: #ffffff;\n            font-weight: bold;\n            border: 1px solid #54585d;\n        }\n        table.tbldmp  td {\n            color: #636363;\n            border: 1px solid #dddfe1;\n        }\n        table.tbldmp  tr {\n            background-color: #f9fafb;\n        }\n        table.tbldmp tbody tr:nth-child(odd) {\n            background-color: #ffffff;\n        }\n        </style>\n__END__;\n        }\n        return "<table border=1 class=\\"tbldmp\\">$html</table>$style";\n    }\n};\nclass Debug {\n    public static function rs(PDOStatement $rs) {\n        $out = '<table border=1>';\n        $row = $rs->fetch(PDO::FETCH_ASSOC);\n        $header = 0;\n        if ($row) {\n            $header = array_keys($row);\n            $out .= "<tr>";\n            foreach ($header as $input) {\n                $out .= '<th>' . $input . '</th>';\n            }\n            $out .= "</tr>\\n";\n            $out .= "<tr>";\n            foreach ($header as $input) {\n                $out .= '<td>' . $row[$input] . '</td>';\n            }\n            $out .= "</tr>\\n";\n        }\n        while ($row = $rs->fetch(PDO::FETCH_ASSOC)) {\n            $out .= "<tr>";\n            foreach ($header as $input) {\n                $out .= '<td>' . $row[$input] . '</td>';\n            }\n            $out .= "</tr>\\n";\n        }\n        $out .= "</table>";\n        return $out;\n    }\n}\necho $_dump_RS($a_order);\n\n\n\n
is_dir_|is_dir($path_)
pc_|pcntl_
array_add_head_|array_unshift_
mysql_fetch_assoc_|mysql_fetch_array_
usleep_|// wait for 2 seconds\nusleep(2*1000000);
psr_autoloading_|autoload_
url_parse_|// $url = 'http://www.example.com/page?foo=1&bar=baz#anchor';\n$h_parts = parse_url($url); \n/*[\n  scheme  => http\n  host    => www.example.com\n  path    => /page\n  query   => foo=1&bar=baz\n  fragment  => anchor\n]*/
parallel_|// @see memory parallel\nswitch($action) {\n        // php test.php 92 | parallel  php test.php 93 |  tee /tmp/fg_import.log\n        case 94:\n            echo `php test.php 92 | parallel  php test.php 93 |  tee /tmp/fg_import.log`;\n            break;\n        case 92:\n            // passa le date da importare\n            foreach ($a_monts = range(1, 12) as $m) {\n                echo json_encode(['da' => $d_da, 'a' => $d_a]) . "\\n";\n            }\n            break;\n        // single thread processing\n        case 93:\n            $json_str = $argv[2];// il params è in argv\n            list($r, $json_msg, $params) = JSON::decode($json_str);\n            // ... do provessing\n            break;\n}\n\n\n\n\n
class_name_|get_class_
size_|count_
array_fill_|array_fill($i=0, $n=10 , $v='');
strlen_|mb_strlen($str)\n        /**\n         * Returns the length of a string, using mb_strwidth if it is available.\n         *\n         * @param string $string The string to check its length\n         *\n         * @return int The length of the string\n         */\n        public static function strlen($string) {\n            if (!function_exists('mb_strwidth')) {\n                return strlen($string);\n            }\n            if (false === $encoding = mb_detect_encoding($string)) {\n                return strlen($string);\n            }\n            return mb_strwidth($string, $encoding);\n        }
cli_|php_cli_
***|/**\n * $1\| */\n
pattern_strategy_|// Incapsulando gli algoritmi permetti agli sviluppatori di aggiungere altri tipi di output senza che questo influisca sul chiamante\n// implementando un’interfaccia comune potrai sfruttare il Type Hinting nel chiamante\ninterface OutputInterface {\n    public function load();\n}\nclass SerializedArrayOutput implements OutputInterface {\n    public function load() {\n        return serialize($arrayOfData);\n    }\n}\nclass JsonStringOutput implements OutputInterface {\n    public function load() {\n        return json_encode($arrayOfData);\n    }\n}\nclass ArrayOutput implements OutputInterface {\n    public function load() {\n        return $arrayOfData;\n    }\n}\n// ... il chiamante sceglie l'algoritmo più opportuno\n
modulus_|abs($int)
module_|namespace_
array_access_|class obj implements ArrayAccess {\n    private $container = array();\n\n    public function __construct() {\n        $this->container = array(\n            "one"   => 1,\n            "two"   => 2,\n            "three" => 3,\n        );\n    }\n\n    public function offsetSet($offset, $value) {\n        if (is_null($offset)) {\n            $this->container[] = $value;\n        } else {\n            $this->container[$offset] = $value;\n        }\n    }\n\n    public function offsetExists($offset) {\n        return isset($this->container[$offset]);\n    }\n\n    public function offsetUnset($offset) {\n        unset($this->container[$offset]);\n    }\n\n    public function offsetGet($offset) {\n        return isset($this->container[$offset]) ? $this->container[$offset] : null;\n    }\n}\n\n$obj = new obj;\n\nvar_dump(isset($obj["two"]));\nvar_dump($obj["two"]);\nunset($obj["two"]);\nvar_dump(isset($obj["two"]));\n$obj["two"] = "A value";\nvar_dump($obj["two"]);\n$obj[] = 'Append 1';\n$obj[] = 'Append 2';\n$obj[] = 'Append 3';\nprint_r($obj);
psalm_pure_|/** \n * no side-effects, Output is solely dependent on Input \n\t- no I/O: filesystem, databases, Net, printing to the screen, stdin\n\t- time/date functions\n\t- All arguments are passed by value, and not by reference, No arguments with &\n\t- No objects passed as arguments as objects are passed by reference\n\t- static: They don’t access state of the class, no access anything with $this or static::\n\t- no global or super globals, no $_* variables\n * @psalm-pure //output is deterministically a function of its input\n * @psalm-mutation-free //does not mutate state, either internally or externally of the class's scope \n * @psalm-external-mutation-free // uses $this, does not mutate state externally of the class \n */\n\n
icon_svg_|// should work with imgs and SVG\n$path = 'myfolder/myimage.png';\n$path = 'myfolder/myimage.svg';\nfunction icon_svg($path, $fallback_url ) {\n\n    $type = pathinfo($path, PATHINFO_EXTENSION);\n    $data = file_get_contents($path);\n    $src = 'data:image/' . $type . ';base64,' . base64_encode($data);\n\n    // Format the image SRC:  data:{mime};base64,{data};\n    // $mime = image/svg+xml\n    // $src = 'data: '.mime_content_type($img_file).';base64,'. base64_encode($data);\n\n    echo '<img src="'.$src.'" onerror="this.onerror=null; this.src=\\'$fallback_url\\'" >';\n\n\n    /*\n    <img src="data:image/svg+xml;base64,[data]">\n\n    // alternative via css\n    <a href="/" class="logo"> Kiwi Corp </a>\n    .logo {\n      display: block;\n      text-indent: -9999px;\n      width: 100px;\n      height: 82px;\n      background: url("data:image/svg+xml;base64,{{data}}");\n      background-size: 100px 82px;\n    }\n    */\n    return $html;\n}
file_exists_|$is_present = file_exists( $path_ );\n
collapse_|border-collapse:collapse;
ifis_|if( isset( $1 ) ) {\|\n}
strpos_|str_pos_
sql_create_idx_|CREATE UNIQUE INDEX IF NOT EXISTS $idx_name ON $tbl ($field)
h_|h_$1 = [\n    'aaa' => 'bbb',\n];
func_|f_
str_begins_|str_ends_
suite_user_|$user = $GLOBALS['current_user']->user_name;
suite_query_|$db = DBManagerFactory::getInstance();\n// escaping params\nif (!empty($h_params)) {\n    foreach ($h_params as $key => $val) {\n        $sql = str_replace( sprintf('{{%s}}', $key), $re = $db->quote($val),  $sql );\n    }\n}\n$result = $db->query($sql);\nif ($result == false) {\n    $err_msg = $db->database->error;\n}\n$rs=[];\nwhile (($row = $db->fetchByAssoc($result)) != null) { $rs[] = $row; }\n
twb_pagination_|                <nav  >\n                    <ul class="pagination pagination-sm ">\n                        <li>\n                            <a href="#" class="disabled">\n                                <i class="fa fa-step-backward" aria-hidden="true"></i>\n                            </a>\n                        </li>\n                        <li class="active"><a href="#"   >1</a></li>\n                        <li><a href="#">2</a></li>\n                        <li><a href="#">3</a></li>\n                        <li><a href="#">4</a></li>\n                        <li><a href="#">5</a></li>\n                        <li>\n                            <a href="#"  >\n                                <span aria-hidden="true">\n                                    <i class="fa fa-step-forward" aria-hidden="true"></i>\n                                </span>\n                            </a>\n                        </li>\n                    </ul>\n                </nav>
SQL_|    class SQL {\n        /**\n         *  genera insert statement\n         */\n        public static function insert(string $table, array $h_input): string{\n            $_quote = function (string $val): string {return "'$val'";};\n            $_map_quote = function (array $data) use ($_quote): array{\n                return array_map($_quote, $data);\n            };\n            $sql_data_fields = implode(',', array_keys($h_input));\n            $sql_data_values = implode(',', $_map_quote(array_values($h_input)));\n            //\n            $sql = "INSERT INTO $table\n            ($sql_data_fields)\n            VALUES\n            ($sql_data_values) ";\n            return $sql;\n        }\n        /**\n         * genera un statement sql update\n         * @param array<string, scalar>  $a_fields\n         */\n        public static function update(string $table, array $a_fields, string $sql_where): string{\n            $_quote = function (string $val): string {return "'$val'";};\n            $_map_quote = function (array $data) use ($_quote): array{\n                return array_map($_quote, $data);\n            };\n            // get key => val pairs && implode\n            $_sql_set_fields = function (array $a_fields_f): string{\n                $a_fields_pair = array_map(function (string $k, string $v): string {\n                    return "$k = '$v'";\n                }, array_keys($a_fields_f), array_values($a_fields_f));\n                $sql_fields = implode($sep = ',' . PHP_EOL, $a_fields_pair);\n                return $sql_fields;\n            };\n\n            $sql_fields = $_sql_set_fields($a_fields);\n            //\n            $sql = "update $table set " .\n            $sql_fields .\n            " where  $sql_where";\n            return $sql;\n        }\n        // where condition ['a'=>1] -> where a = 1\n        public static function where(array $h_filters): string {\n            // $_sql_where_fields = function (array $a_fields_f) use ($_map_quote) :string {\n            //     $_pair = function (string $k, string $v) use ($_map_quote) :string {\n            //         if (is_scalar($v)) {\n            //             return "`$k` = '$v'" . PHP_EOL;\n            //         } elseif (is_array($v)) {\n            //             return sprintf('%s in(%s)', $k, implode(',', $_map_quote($v))) . PHP_EOL;\n            //         }\n            //     };\n            //     $a_fields_pair = array_map($_pair, array_keys($a_fields_f), array_values($a_fields_f));\n            //     $sql_fields = implode($sep = ' and ', $a_fields_pair);\n            //     return $sql_fields;\n            // };\n            // $sql_where = $_sql_where_fields($h_filters);\n            return '';\n        }\n    }
json_decode_|try {\n    $data=json_decode($json_str, $use_assoc = true, 512, JSON_THROW_ON_ERROR);\n    \n} catch (\\JsonException $exception) { //php7.3\n    echo $exception->getMessage(); // echoes "Syntax error"\n}\nfunction json_decode_def(string $json_str):array { \n    $data=json_decode($json_str, $use_assoc = true, $depth = 512, \n       $json_opt = JSON_BIGINT_AS_STRING | JSON_OBJECT_AS_ARRAY | JSON_THROW_ON_ERROR);\n    if (json_last_error() !== JSON_ERROR_NONE) {\n        die( "JSON decode error: " . json_last_error_msg() . "\\n" );\n    }    \n    return $data;\n}\n\n\n    \n    \n\n// @see json_decode_safe_\n\n
dba_|$id = dba_open("/tmp/test.db", "n", "db2");\nif (!$id) {\n    die( "dba_open failed\\n" );\n    // find available handler\n    foreach (dba_handlers(true) as $handler_name => $handler_version) {\n        echo " - $handler_name \\n";\n    }\n}\ndba_replace("key", "This is an example!", $id);\nif (dba_exists("key", $id)) {\n    echo dba_fetch("key", $id);\n    dba_delete("key", $id);\n}\n// read all the keys to read all the db\n$key = dba_firstkey($id);\nwhile ($key != false) {\n    $a_keys[] = $key;\n    $key = dba_nextkey($id);\n}\ndba_close($id);\n\nclass QueueMetadata {\n    static $db = null;\n    public static function init($p=null) {\n        // already init\n        if( !is_null(self::$db) ){\n            return;\n        }\n        // no esplicit path for test, calc it\n        if( is_null($p) ){\n            $p = QPrintableLabel::calcPath('_queue_data') . '/pending.nmdb';\n        }\n        // if not open, do open\n        if( is_null(self::$db) ){\n            self::$db = dba_open($p, "c", "flatfile");\n        }\n        // register the close()\n        register_shutdown_function(function (){\n            if( is_null(self::$db) ) return;\n            dba_close(self::$db);\n            self::$db = null;\n            //echo "closing DB ".PHP_EOL;\n        });\n    }\n    // cached get\n    static $__cached_data = [];\n    public static function get($file_path) {\n        $key = basename($file_path);\n        if( array_key_exists($key, self::$__cached_data ) ) {\n            return self::$__cached_data[$key];\n        } else {\n            $a_data = self::_get($key);\n            self::$__cached_data[$key] = $a_data;\n            return $a_data;\n        }\n    }\n    // legge nel DB\n    public static function _get($file_path) {\n        self::init();\n        $data = dba_fetch($k=basename($file_path), self::$db);\n        if (!empty($data)) {\n            $data = unserialize($data);\n        }\n        if (empty($data)) {\n            return [];\n        }\n        return $data;\n    }\n    // scrive nel DB\n    public static function set($file_path, array $p_data) {\n        $k=basename($file_path);\n        $data = self::get($file_path);\n        $data = array_merge($data, $p_data);\n        // push to memory\n        self::$__cached_data[$k ] = $data;\n        // persist\n        dba_replace($k , serialize($data), self::$db);\n    }\n}\n// if colled directly in CLI, run the tests:\nif( isset($argv[0]) && basename($argv[0]) == basename(__FILE__) ) {\n    class QPrintableLabel {}// compat\n    QueueMetadata::init('/tmp/pending.nmdb');\n    $file = 'test_file';\n    $data_1 = QueueMetadata::get($file);\n    for( $i=0; $i < 10; $i++) {\n        $k = sprintf('a_%s',$i);\n        QueueMetadata::set($file, [\n            $k =>date('H:i:s')\n        ]);\n    }\n    $data_2 = QueueMetadata::get($file);\n\n    echo '<pre>'.__FUNCTION__.'()'.' L:'.__LINE__.' F:'.__FILE__."\\n", var_dump(\n    $data_1, $data_2\n    ),"</pre>\\n"; die();// debug_print_backtrace()\n}
hydrate_|array_to_object_
foreach_|ife_#$1#\nforeach( $1 as $key => $val ) {\n\|}
parse_int_|intval($i)
require_all_|// include all classes from a dir\nfunction require_all(string $dir):void {\n    // check if there is a special file __init__.php\n    foreach( glob($dir.'/*.php') as $file_path ) {\n        require_once $file_path;\n    }\n}\n//\nfunction require_from( string|array $dir ):void {\n  spl_autoload_register(function ($className) use($dir) {\n    if( is_string($dir) ){\n    $file_path = $dir. '/' . $className . '.php';\n    if (is_readable($file_path)) {\n        require_once $file_path;\n    }\n  });\n  } elseif( is_array( $dir )) {\n        $directorys = $dir; //[ 'classes/', 'classes2/'];\n        foreach($directorys as $directory) {\n            if(file_exists($directory.$class_name . '.php')) {\n                require_once($directory.$class_name . '.php');\n                //only require the class once, so quit after to save effort (if you got more, then name them something else\n                return;\n            }           \n        }\n  }\n}
dir_ensure_exists_|// testa e crea una directory\nfunction dir_ensure_exists( $path ){\n    if( is_dir( $path ) ){\n        return true;\n    }\n    echo "mkdir $path \\n";\n    $oldumask = umask(0);\n    $r = mkdir( $path , $mode = 0775 );\n    umask($oldumask);\n    return $r;\n}
contruct_|function __construct() {\n    parent::__construct();\n    \|\n}\n// php8.1 initializer\npublic function __construct(\n        public readonly string $title,\n        public readonly DateTimeImmutable $createdAt\n) {}
str_ends_|$last_char = mb_substr( $path, -1 );\n\nfunction str_ends($str, $end) {\n    $len = mb_strlen($end);\n    $sub = mb_substr($str, (-1 * $len) );\n    if( $len === 0 ) return true;\n    return ( ($sub) === ($end) );// cmp case sensitive\n}\nfunction str_iends($str, $end) {\n    $len = mb_strlen($end);\n    $sub = mb_substr($str, (-1 * $len) );\n    if $len === 0 return true;\n    return (mb_strtolower($sub) === mb_strtolower($end)); // cmp case insensitive\n}\nfunction str_begins($str, $s_begin) {\n    $len = mb_strlen($s_begin);\n    $sub = mb_substr($str, 0, $len);\n    return mb_strtolower($sub) === mb_strtolower($s_begin);\n}
date_time_|try {\n  $d_ = new DateTime('2016-11-20');\n  // Static constructor with format\n  $d_3 = DateTime::createFromFormat('M j, Y H:i:s', 'Jan 2, 2014 23:04:12');\n  // interval operations\n  $d_start = new DateTime();\n  $interval_ = new DateInterval('P2W');\n  $period = new DatePeriod($start, $interval_, 3);\n  foreach ($period as $nextDateTime) {\n    echo $nextDateTime->format('Y-m-d H:i:s'), PHP_EOL;\n  }\n} catch ($e) {\n  // date parsing error\n  die( print_r(DateTime::getLastErrors(),1) );\n}\n\n
callable_|callable $_f
typeoff_|instanceof_
twb_color_|<p class="text-muted">...</p>\n<p class="text-primary">...</p>\n<p class="text-success">...</p>\n<p class="text-info">...</p>\n<p class="text-warning">...</p>\n<p class="text-danger">...</p>
parent_|parent::func_name();//call parent impl.\nparent::{__FUNCTION__}();
__construct_|public function __construct(){\n    parent::__construct();\n} 
java_call_|// estrae etichette as400 con un programa java e restituisce json\nclass AS400Label {\n    //\n    public static function call() {\n        // diamo risorse al programma java\n        set_time_limit(60);\n        ini_set('memory_limit', '256M');\n        // env per recuperare le configurazioni\n        $env = Bootstrap::isEnvProd() ? 'production' : 'test';\n        $cmd = sprintf('/usr/bin/java -jar -Dsystem.env=%s %s/../java_labels/dist/xxxx_etichette3.jar', $env, APPLICATION_PATH);\n        echo $cmd;\n        $json_str = `$cmd`;\n        $json_str = trim($json_str);\n        $a_result = json_decode($json_str, $use_assoc = true);\n        if ($a_result === false) {die(json_last_error_msg());}\n        // result:\n        // ["result"]=>  "ok"\n        // ["output_file"]=> "/tmp/label_20170718_170926.zip"\n        //\n        if ($a_result['result'] == 'ok') {\n            return [true, $a_result['output_file']];\n        } else {\n            return [false, $a_result];\n        }\n    }\n}
tostring_|public function __toString():string { return ''; }
spf_|sprintf(
array_index_of_|array_search_
zf_redirect_|$url = $this->view->url(['controller'=>'items','action'=>''], $r_name='default');\nreturn $this->_redirect($url);\n
strtoupper_|mb_strtoupper($str);
yaml_3_|// composer require symfony/yaml\nrequire_once "yaml/sfYaml.php";\n// wrapper per isolre il componenente SF\nclass YAML {\n    public function load($filePath) {\n        try {\n            return sfYaml::load($filePath);\n        } catch (Exception $e) {\n            throw new Exception( $e->getMessage(), $e->getCode(), $e);\n        }\n    }\n    public function dump($array) {\n        try {\n            return sfYaml::dump($array);\n        } catch (Exception $e) {\n            throw new Exception( $e->getMessage(), $e->getCode(), $e);\n        }\n    }\n}\n\n\n
strtolower_|$s = mb_strtolower($str);
ipc_pipes_|// using proc_open, will execute the command and return a resource that we can communicate with. \n$descriptor = [\n  0 => array('pipe', 'r'), // pipe for stdin of child\n  1 => array('pipe', 'w'), // pipe for stdout of child\n];\n$process = proc_open('bash', $descriptor, $pipes);\nif (is_resource($process)) {\n  $cmd = 'pwd';\n  fwrite($pipes[0], $cmd . "\\n");//write a cmd in stdin\n  fclose($pipes[0]);\n  echo $stdout=stream_get_contents($pipes[1]);// get stdout of executed cmd\n  fclose($pipes[1]);\n  $exit_status_code = proc_close($process);//get exit code\n}\n/*\nruns bash command with $descriptor as descriptor specifications. After that we use\nis_resource to validate the process. Once done we can start interacting with the child process\nusing $pipes which is generated according to descriptor specifications.\nproc_open\nAfter that we can simply use fwrite to write to stdin of child process. In this case pwd followed by\ncarriage return. Finally stream_get_contents is used to read stdout of child process.\nAlways remember to close the child process by using proc_close() which will terminate\nthe child and return the exit status code.\n*/
def_|fun_
mail_html_|define('RN', "\\r\\n", false);\n// usefull for sysadmin tasks, for frontend tasks use libraries\nfunction mail_html($to, $subject, $html_message) {\n    $html_message = "\n<html>\n<head>\n<title>$subject</title>\n</head>\n<body>\n  $html_message\n</body>\n</html> ";\n    // Always set content-type when sending HTML email\n    $headers = "MIME-Version: 1.0" . RN;\n    $headers .= "Content-type:text/html;charset=UTF-8" . RN;\n    // More headers\n    // $headers .= 'From: <webmaster@example.com>' . RN;\n    // $headers .= 'Cc: myboss@example.com' . RN;\n    return mail($to, $subject, $html_message, $headers);\n}\n\n\n\n
array_take_|// take first n elements of the array\n
sql_escape_|mysqli_real_escape_string()\nPDO::quote()\n\n// manual escaping\nfunction mysql_escape($inp):string {\n    if(is_array($inp)){\n        return array_map(__METHOD__, $inp);\n    }\n    if(!empty($inp) && is_string($inp)) {\n        return str_replace(\n            ['\\\\', "\\0", "\\n", "\\r", "'", '"', "\\x1a"], \n            ['\\\\\\\\', '\\\\0', '\\\\n', '\\\\r', "\\\\'", '\\\\"', '\\\\Z'], \n        $inp);\n    }\n    return (string) $inp;\n}\n
array_contains_|    // @see in_array_\n\n    $is_contained = count( array_intersect($a_1, $a_2) );\n\n    // intersection of arrays using keys for comparison\n    // restituisce solo i codici richiesti\n    $data=['a'=>1,'b'=>2];$item_list=['a'];\n    $part_list = array_intersect_key($data =['a'=>1,'b'=>2] , array_flip($item_list=['a']) );\n
substr_|mb_substr($s, 0, $len=2)\n\|// $str_s = mb_substr($str='grp.0001-0002-0004', $len=1+mb_strpos($str, ".") );//=>0001-0002-0004\n\n\n
realpath_|// NEVER use user suplied _REQEST vars in path for includes\n$root_dir = realpath($s_dir=__DIR__ . '/..');\nif (false === $root_dir) {\n        throw new \\Exception(sprintf('Errore Dir Path not readable %s ', (string)$s_dir));\n}
fun_|f_
twb_print_|// classes to use in printing\n.visible-print-block\n.visible-print-inline\n.visible-print-inline-block\t \n.hidden-print
var_dump_|var_
str_ends_with_|str_ends_\n
gzcompress_|$str = file_get_contents(__DIR__ . '/../data/typSearch.txt')\ngzcompress($str);\ngzuncompress_
ret_|return true;
stdin_|$stdin_text = stream_get_contents(STDIN) ;
ftp_connect_|    //\n    // test connessione sia OK\n    //\n    $con = ftp_connect($host);\n    if ($con !== false) {\n        ftp_login($con, $username, $password);\n        $a_list = ftp_nlist($con, ".");\n        ftp_close($con); // ensure conncecion close\n        if (is_array($a_list)) {\n            echo 'Connected!' . PHP_EOL;\n        } else {\n            echo 'login error! :(' . PHP_EOL;\n            return;\n        }\n    } else {\n        echo "Couldn't connect, network error \\n";\n        return;\n    }
jq_main_|$(function(){\n});
twb_modal_|<!-- Button trigger modal -->\n<button type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal">\n  Launch demo modal\n</button>\n\n<!-- Modal -->\n<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n        <h4 class="modal-title" id="myModalLabel">Modal title</h4>\n      </div>\n      <div class="modal-body">\n        ...\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>\n        <button type="button" class="btn btn-primary">Save changes</button>\n      </div>\n    </div>\n  </div>\n</div>
filter_hash_|    // filtra un array in input con i filtri proposti,\n    // solo i valori che hanno un filtro passano\n    //   $_safe_an = function($v) {return Safe::alphanum($v); };\n    //   $_safe_int = function($v) {return Safe::int($v); };\n    //   $_safe_txt = function($v) {return Safe::text($v); };\n    //   $a_fields_val = [\n    //       'name' => $_safe_an,\n    //       'note'  => $_safe_txt,\n    //       'destination_id'  => $_safe_int,\n    //   ],\n    //   $a_data = Safe::hash( $a_data, $a_fields_val );\n    public static function hash(array $a_data, array $a_fields_val) {\n        $a_data_f = [];\n        foreach ($a_fields_val as $key => $_filter) {\n            if (isset($a_data[$k])) {\n                $v = $a_data[$k];\n            } else {\n                continue;\n            }\n            $a_data_f[$key] = $_filter($v);\n        }\n        return $a_data_f;\n    }
zf_flash_|$this->_helper->flashMessenger->addMessage('');\n// DMS_Flash::add($msg, 'success');
call_ensure_|$_call_ensure =  function($maybe_callable) {\n    if( $maybe_callable instanceof \\Closure ) {\n        $args = func_get_args();\n        //$maybe_callable = array_shift($args);\n        $resolved = call_user_func_array($maybe_callable, $args );\n    } else {\n        $resolved = $maybe_callable;\n    }\n    return $resolved;\n};\n
zf_registry_|if( Zend_Registry::isRegistered('acl') ){\n    $acl = Zend_Registry::get('acl');\n} else {\n    $acl =;\n    Zend_Registry::set('acl', $acl);\n}
js_log_|console.log( );
f_|/** comment */\nfunction $1(int $i): ?string {\n    return $xxx;\n}\n// arrow or closure: f__#$1#\n// f_go_#$1#
is_|test_
file_is_eq_|/* 2 files ara equal */\nfunction file_is_eq(string $f1, string $f2): bool{\n    $c1 = file_exists($f1) ? md5_file($f1) : false;\n    $c2 = file_exists($f2) ? md5_file($f2) : false;\n    return $c1 === $c2;\n}
h_get_def_|\n/**\n * optional: ottieni una chiave di hash o un defualt\n * ritorna stringa o altro tipo\n * if $k is array\n * return the first of $keys found or default\n * TODO: def potrebbe essere una lambda per decidere che fare con un valore mancante function($h,$k,$def){}\n * @return mixed\n * @param string|int $k\n * @param mixed $def\n * @psalm-suppress RedundantConditionGivenDocblockType\n * @psalm-suppress DocblockTypeContradiction\n ok( h_get(['a'=>1],'a','def'), 1, 'test 1');\n ok( h_get(['a'=>1],'x','def'), 'def, 'test 1');\n // obj\n class test_obj { public a = 'aa'; }\n ok( h_get( new test_obj(),'a','def'), 'def', 'test 1');\n // subkeys\n ok( h_get(['a'=>['b'=>'ab']],'a.b','def'), 'ab, 'test a.b');\n // nuls & empty\n ok( h_get([],'a','def'), 'def', 'test 1');\n ok( h_get(['a'=>1],'','def'), '', 'test 1');\n ok( h_get(['a'=>1],false,'def'), 1, 'test 1');\n ok( h_get(['a'=>1],null,'def'), 1, 'test 1');\n */\nfunction h_get(array $h, $k, $def = '') {\n    if (empty($h)) {\n        return $def;\n    }\n    if (is_null($k) || $k === '' ) {\n        return $def;\n        // boolean, double, integer, or string types are scalar. Array, object, and resource are not\n    } elseif ( is_numeric($k) ) {\n        return array_key_exists($k, $h) ? $h[$k] : $def;\n    } elseif ( is_string($k) ) {\n        // subkey 'kk.jjj'\n        if (strpos($k, '.') !== false) {\n          foreach (explode('.', $k) as $segment) {\n            if (is_array($h) && array_key_exists($h, $segment)) {\n                $h = $h[$segment];\n            } else {\n                return $def;\n            }\n          }\n          return $h;\n        } else {\n           return array_key_exists($k, $h) ? $h[$k] : $def;\n        }\n    } elseif (is_array($k)) {\n\t$h_tmp=$h;\n        foreach ($k as $key) {\n            if (array_key_exists($key, $h_tmp)) {\n                $h_tmp = $h[$key];\n            } else {}\n        }\n        return $h_tmp;\n    } elseif( is_object($h) ){\n        // TODO: subkey if (strpos($k, '.') !== false) {}\n        return ( isset( $k->$k )) ? $k->$k : $def;\n    } else {\n        $msg = sprintf('Errore %s ', 'unsopported key type ' . gettype($k));\n        throw new \\Exception($msg);\n    }\n}\n/**\n * case insensitive h_get\n * @return mixed\n * @param mixed $def\n */\nfunction h_get_i( array $h, string $k, $def=false ) {\n    foreach ($h as $key => $val ) {\n        if (strtolower($k) == strtolower($key)) {\n            return $val;\n        }\n    }\n    return $def;\n}
sf_|sprintf_
except_|throw new \\Exception( $msg=sprintf('Errore %s', ) );\nspl_exceptions_\n
yaml_2_|// pecl install yaml\n$config = yaml_parse_file('config.yaml');\nprint_r($config);
type_string_|/** @param string $str */
filter_boundary_|// dato un valore massimo e uno minimo, ritorna un valore compreso trai limiti\nfunction clamp($current, $min=0, $max=999) {\n    return max($min, min($max, $current));\n}\n// substr_
array_remove_last_|array_pop_\n
plural_|$_plural=function(int $c,string $s_sing, string $s_plur):string {\n\treturn $c==1 ? $s_sing : $s_plur;\n};
php_|<?php\ndeclare(strict_types=1);//php7.0+, will throw a catchable exception if call typehints and returns do not match declaration \n\|\n
nl_|PHP_EOL
zf_layout_|$layout = $this->_helper->layout();\n$layout->setLayout('three-column');
exec_|\n// SECURITY: escapeshellarg($_GET['path'])\n// always use safe variables\n\nfunction e(string $cmd): string {\n    if (!empty($cmd)) {\n        echo "cmd: " . $cmd . "\\n";\n        /** @psalm-suppress ForbiddenCode  */\n        $r = shell_exec($cmd)  ;\n        if ( $r ) {\n            echo $r, "\\n";\n            return $r;\n        } else {\n            return '';\n        }\n    } else {\n        return '';\n    }\n}\n// exec with exit code check\nfunction e(string $cmd, $is_debug = false) {\n    if ($is_debug || V_LEVEL) {\n        echo "\\n"."cmd: " . $cmd . "\\n";\n    }\n    $last_line = exec($cmd, $a_output, $exit_code);\n    if (count($a_output)) {\n        echo 'out:' . implode("\\n", $a_output) . "\\n";\n        return $a_output;\n    }\n    if ($exit_code != 0) {\n        echo "exec ERROR! code:$exit_code \\n";\n        exit(1);\n    } else {\n        echo "OK\\n";\n    }\n}\nfunction ex($cmd, $server_password='') {\n                // non stampare informazioni sensibili\n                $cmd_p = str_replace($server_password, '***', $cmd);\n                if( DEBUG ) {\n                echo $cmd_p.PHP_EOL;\n                }\n                // 2>&1 ";// redirect errori\n                $res = `$cmd 2>&1 `;\n                return trim($res);\n}\n//\n$cmd = "ls -la 2> /dev/null ";// redirect errori \n$s_result = e($cmd);\n// $s_result = trim(shell_exec(sprintf('/usr/bin/ls -la 2>&1',  escapeshellarg($cmdarg) ));\n// use escapeshellarg() for unsafe input!\n// return:\n//   returns a line break at the end, use trim()\n//   `1> /dev/null` eliminando stdout si vede solo l'errore\n//   return NULL if the executed command doesn't output anything, strict comparisons to '' return false\n// trobleshooting:\n//   It is not possible to detect execution failures using this function. exec() should be used\n//   check www-data has rights to files or directories you are accessing\n//   check safemode\n//   check not using an alias \n//   check script is in your path, the error will be logged to error_log\n//   check "memory_limit" php.ini the program memory used is computed for the total\n//   memory-hogging operations use system() instead\n//   - to run in the background, the output must be redirected to a file, or will hang until the execution ends\n//     $_res = exec($cmd . " > /dev/null &", $_output, $_retval);\n//     $pid = exec("nohup $cmd > /dev/null 2>&1 & echo $!", $_output, $_retval);// we can return the pid of the process\n//   `pwd` e chdir() per settare le directory su cui lavorerà lo script, `cd $dir && $cmd`\n//   $r=getenv("REMOTE_ADDR"); putenv('LANG=en_US.UTF-8'); // to share config \n//\n// to stop waiting for output, just lunch job in nohup mode(ignore termination of parent)\n// function exec_async($cmd){\n//   redirect both stdout and stderr to /dev/null, then background it.\n//   $cmd = "nohup $cmd /dev/null 2>&1 & ";\n//   e($cmd); }\n// to execute in the background without having the script waiting for the result:\n// passthru("/usr/bin/php /path/to/script.php ".$argv_parameter." >> /path/to/log_file.log 2>&1 &");\n// or exec($cmd . " > /dev/null &");\n//\n// to get the exit code:\n// exec( $cmd, $a_output, $exit_code );\n\n/*---------------+-----------------+----------------+----------------+\n|    Command     | Displays Output | Can Get Output | Gets Exit Code |\n+----------------+-----------------+----------------+----------------+\n| system()       | Yes (as text)   | Last line only | Yes            |\n| passthru()     | Yes (raw)       | No             | Yes            |\n| exec()         | No              | Yes (array)    | Yes            |\n| shell_exec()   | No              | Yes (string)   | No             |\n| backticks (``) | No              | Yes (string)   | No             |\n+----------------+-----------------+----------------+---------------*/\n\n\n\n
file_rename_|$ok_rename = rename($old_path, $new_path);
test_|/* own test suite:\n        ok(0, 0, 'ok for same value');// should pass\n        ok(0, null, 'type warning');//should pass with type warning\n        ok(['b'=>2,'a'=>1], ['a'=>1,'b'=>'2']);\n        ok([1,2], [2,1]);\n        ok(['a','b'], ['b','a']);\n        // this should be true in all impelemetations\n        ok([1,2], [1,2]);\n        ok(['a'=>1,'b'=>2], ['a'=>1,'b'=>2]);\n        ok('aaa000', '/^[A-Z0-1]*$/i');    \n*/\n/**\n * @param mixed $res\n * @param mixed $expected\n * @return void\n */\nfunction ok($res, $expected, $label = '') {\n    $_colored = (PHP_SAPI == 'cli') ?\n    function ($str, $foreground_color = 'green') {\n        static $a_fg = ['red' => '0;31', 'green' => '0;32', 'brown' => '0;33'];\n        return sprintf("\\e[%sm", $a_fg[$foreground_color]) . $str . "\\033[0m";\n    } :\n    function ($str, $foreground_color = 'green') {\n        static $a_fg = ['red' => '#f74848', 'green' => '#8bc34a', 'brown' => '#9E9E9E'];\n        $css_c = $a_fg[$foreground_color];\n        return sprintf('<p style="background-color:%s; padding:5px;font-family: monospace;">%s</p>', $css_c, $str);\n    };\n    // be careful passing arrays, @see array_compare_\n    if ($res === $expected) {\n        echo $_colored("OK $label \\n", 'green');\n    } elseif ($res == $expected) {\n        $s = sprintf("OK (but type differ) name:%s | %s<>%s\\n", $label, var_export($res, true), var_export($expected, true));\n        echo $_colored($s, 'brown');\n    } else {\n        $s = sprintf("ERROR(%s)  GOT %s <> %s EXP  \\n", $label, var_export($res, true), var_export($expected, true));\n        echo $_colored($s, 'red');\n    }\n}\n// full version, array/hash checking\nfunction ok_($res, $expected, $label='' ) {\n    @$GLOBALS['test_count']++;\n    $is_regexp = is_string($expected) && substr( $expected,0,1 )=='/'; // se la stringa inizia con '/' è interpretata come regexp @try preg_match("/^\\/.+\\/[a-z0-1]*$/i",$expected)\n    $colored = function ($str, $foreground_color = '' ) {\n        static $a_fg = [ 'red' => '0;31', 'green' => '0;32', 'brown' => '0;33' ];\n        $s = '';\n        if (isset( $a_fg[$foreground_color])) {\n            $s .= sprintf("\\e[%sm", $a_fg[$foreground_color] );\n        }\n        $s .= $str . "\\033[0m";\n        return $s;\n    };\n    $is_hash = function (array $array) {\n        return count(array_filter(array_keys($array), 'is_string')) > 0;\n    };\n    // basic comparison (using $a == $b or $a === $b fails) works for associative arrays but will not work as expected with indexed arrays\n    // which elements are in different order, for example:\n    // (array("x","y") == array("y","x")) === false;\n    $array_equal = function ($a, $b) {\n        return ( is_array($a) && is_array($b) &&\n            count($a) == count($b) &&\n            array_diff($a, $b) === array_diff($b, $a) );\n    };\n    // comparazione di array associativi\n    $hash_equal = function ($a, $b) {\n        return json_encode( ksort($a, SORT_STRING) ) === json_encode( ksort($b, SORT_STRING) );\n    };\n    $dmp = function($v) { return var_export($v,true); };\n\n    if( $res === $expected ) {\n        echo $colored("OK $label \\n", 'green' );\n    } elseif( !is_array($expected) && $res == $expected ) {\n        $s = sprintf("OK (but type differ) %s %s<>%s \\n", $label, $dmp($res), $dmp($expected) );\n        echo $colored( $s, 'brown' );\n    } elseif( is_array($expected) ) {\n        if( !$is_hash($expected) ) {\n            if( $array_equal($res, $expected) ) {\n                $s = sprintf("OK array  %s %s %s \\n", $label, $dmp($res), $dmp($expected) );\n                echo $colored($s, 'green');\n            } else {\n                $s = sprintf("ERROR array  %s %s %s \\n", $label, $dmp($res), $dmp($expected) );\n                echo $colored($s, 'red');\n            }\n        } elseif( $is_hash($expected) ) {\n            if( $hash_equal($res, $expected) ) {\n                $s = sprintf("OK hash  %s %s %s \\n", $label, $dmp($res), $dmp($expected) );\n                echo $colored($s, 'green');\n            } else {\n                $s = sprintf("ERROR hash  %s %s %s \\n", $label, $dmp($res), $dmp($expected) );\n                echo $colored($s, 'red');\n            }\n        }\n    } elseif( $is_regexp ) {\n        $m = preg_match($reg=$expected, $str=$res );\n        if( 1 === $m ) {\n            $s = sprintf("OK regexp %s %s %s %s \\n", $label, $dmp($res), $dmp($expected), $dmp($m) );\n            echo $colored( $s, 'green' );\n        } else {\n            $s = sprintf("ERROR regexp %s %s %s %s \\n", $label, $dmp($res), $dmp($expected), $dmp($m) );\n            echo $colored( $s, 'red' );\n        }\n    } else {\n        $s = sprintf("ERROR(%s)  GOT %s <> %s EXP  \\n", $label, $dmp($res), $dmp($expected) );\n        echo $colored($s, 'red');\n    }\n}\n\n// function is($res, $label ) { return ok($res, $expected=true, $label ); }\n//\n// performa una closure sui dati in ingresso, return bool per verificarli\n//\nfunction check($data, closure $check, string $label) {\n    $res = $check($data);\n    return ok($res, $expected = true, $label);\n}\n\n/** \n*test delle eccezioni\n*/\nfunction ok_excheption(callable $operation, string $label, string $ex_msg=''):void {\n    $is_e_rised = false;\n    $e_msg = '';\n    try {\n        $operation();\n    } catch (\\Exception $e) {\n        $e_msg = $e->getMessage();\n        $is_e_rised = true;\n        if( !empty($ex_msg) ) {\n            ok($ex_msg, $e_msg, $label . ': ==' . $ex_msg);\n        }\n    }\n    ok($is_e_rised, true, $label . ' ' . $e_msg);\n}\n\n// @see test_suite_\n\n\n\n
cache_|cache_apc_\ncache_file_\ncache_mem_\ncache_dba_\ncache_redis_\ncache_mysql_\npsr_cache_\nheader_cache_\n\n
psalm_h_shape_|array{count: int, obj: CRM_Richieste_mandanti}
e_|<?= escape_\|?> // never output user defined, unfiltered content, XXS/JS injection attack
parser_line_|// when file contents are formatted, extract informations from tags and sections\nclass parser_line_ {\n    // logica di base per scrivere un parserino\n    static function _parse($c) {\n        $res = [];\n        $a_lines = explode("\\n", $c);\n        $a_lines = array_map('trim', $a_lines);\n        foreach ($a_lines as $line) {\n            // parsa linee che cominciano con un tag es. "query: xxxx"\n            $a_label = [\n                'query', 'method', 'content-type', 'soapaction',\n                'time', 'date', 'remote addr',\n            ];\n            foreach ($a_label as $label) {\n                if (str_starts($line, $label . ':')) {\n                    $res[$label] = trim($line, $label . ':');\n                    if (trim($res[$label]) == 'null') {\n                        $res[$label] = '';\n                    }\n                }\n            }\n        }\n        $res = array_map('trim', $res);\n        //---------------------------------------------\n        // extract 'parameters: { (.*) }'\n        $a_p = [];\n        $capturing = false;\n        foreach ($a_lines as $line) {\n            if (str_starts($line, 'parameters:')) {\n                $a_p[] = '{';\n                $capturing = true;\n                continue;\n            }\n            if (trim($line) == '}') { // end capture\n                $a_p[] = '}';\n                $capturing = false;\n                break 1; // Exit only the loop.\n            }\n            if ($capturing) {\n                $a_p[] = $line;\n            }\n        }\n        return $res;\n    }\n    //------------------------------------------------------------------------------\n    // funzioni su log file format in dir_v1 and info extraction\n    //------------------------------------------------------------------------------\n    // estrae una sezione markata da una riga come:\n    //- Request\n    // e terminata da una nuova sezione, un caratere o la fine del file\n    static function log_extract_section(array $a_lines, $begin_marker, $end_marker) {\n        $a_p = [];\n        $capturing = false;\n        foreach ($a_lines as $line) {\n            if (str_starts($line, $begin_marker)) { // like '- Request'\n                $capturing = true;\n                continue;\n            } elseif (str_starts($line, $end_marker)) { // like '- Response'\n                $capturing = false;\n                break 1; // Exit only the loop.\n            }\n            if ($capturing) {\n                $a_p[] = trim($line);\n            }\n        }\n        if (!empty($a_p)) {\n            return $res = implode("\\n", $a_p);\n        } else {\n            return '';\n        }\n    }\n    // dal file di log estrae il solo XML\n    static function log_file_get_xml($file_path) {\n        $res = [];\n        $c = file_get_contents($file_path);\n        $a_lines = explode("\\n", $c);\n        $a_lines = array_map('trim', $a_lines);\n        $a_lines = array_filter($a_lines); // remove empty\n        //\n        $xml = '';\n        $capture = false;\n        foreach ($a_lines as $line) {\n            if (str_starts($line, '- Response')) {\n                $capture = true;\n                continue; // load next line\n            }\n            // capture till the end\n            if ($capture) {\n                $xml .= $line;\n            }\n        }\n        return $xml;\n    }\n}\nif (isset($argv[0]) && basename($argv[0]) == basename(__FILE__)) {\n    //\n    $c = '\n    - Parameters\n    remote addr: 10.100.100.46\n    uri: /dna/WebServices/S_DSA_FEEDBACK.jsp\n    content-type: application/x-www-form-urlencoded\n    soapaction: null\n    method: POST\n    query: null\n    time: 1543838940251\n    date: 03-12-2018 13:09:00\n    parameters: {\n    "marca" : "FERRARI",\n    "vin" : "ZFF89FPE4K0242517",\n    "mft_number" : "023",\n    "proxi_date" : "20181130",\n    "proxi_hour" : "050838",\n    "proxi_sequence" : "000",\n    "vehicle_data_timestamp" : "2018-11-29T06:23:44"\n    } ';\n    $result = ReqLogFile::log_text_parse($c);\n    // var_export(  $result);\n    $expected = [\n        'URI' => '/dna/WebServices/S_DSA_FEEDBACK.jsp',\n        'content-type' => 'application/x-www-form-urlencoded',\n        'soapaction' => 'null',\n        'method' => 'POST',\n        'query' => 'null',\n        'time' => '1543838940251',\n        'date' => '03-12-2018 13:09:00',\n        'parameters' => [\n            'marca' => 'FERRARI',\n            'vin' => 'ZFF89FPE4K0242517',\n            'mft_number' => '023',\n            'proxi_date' => '20181130',\n            'proxi_hour' => '050838',\n            'proxi_sequence' => '000',\n            'vehicle_data_timestamp' => "2018-11-29T06:23:44",\n        ],\n    ];\n    ok($result['method'], $expected['method'], $label = 'method');\n    ok($result['parameters'], $expected['parameters'], $label = 'parameters');\n}
ftp_push_|// sposta il db backup sul NAS\nfunction ftp_upload($local_file, $ftp_username, $ftp_password, $server_host, $remote_dir, $is_dry_run=false) {\n    //\n    $ftp_cmd = "curl --user $ftp_username:$ftp_password --upload-file $local_file ftp://$server_host/$remote_dir";\n    //\n    // echo $ftp_cmd . "\\n";\n    if (!$is_dry_run) {\n        echo `$ftp_cmd` . "\\n";\n    }\n}\n\n// @see memeory ftp_php_pull_push\n// lftp -d -u usr,pass  -e "put /var/www/vhosts/xxx/backup/immagini_31-05-2011_14:00.tar.gz" xx.xx.xx.xx\n\n\n \n//\nfunction do_backup(\n    $server_addr,    $ftp_username ,    $ftp_password ,\n    $remote_dir ,    $a_files\n) {\n    $connessione = ftp_connect($server_addr, 21) or die('Impossibile connettersi al server FTP.');\n    ftp_login($connessione, $ftp_username, $ftp_password) or die('Username o password FTP errati.');\n    foreach ($a_files as $local_file) {\n        $invia = ftp_put($connessione, basename($local_file), $local_file, FTP_BINARY);\n        if ($invia) {\n            echo "$local_file traferito \\n";\n        } else {\n            echo "$local_file errore trasferimento\\n";\n        }\n    }\n    ftp_close($connessione);\n}\n\nfunction do_backup(){\n\n                 \n                $backup_path = dirname(__FILE__) . '/backup';\n\n                // dump db\n                echo "dump DB\\n";\n                $date = date("dmY_Hi");\n                $backup_db_file = "$backup_path/" . $date . ".sql";\n                echo "file:$backup_db_file\\n";\n                echo exec("/usr/bin/mysqldump -u$__login --password=$__password $__dbname > $backup_db_file");\n                // comprimo file sql\n                echo exec("gzip $backup_db_file");\n                $backup_db_file = "$backup_db_file.gz";\n\n                // zip files immagini\n                echo "zip immagini \\n";\n                $uploads_path = dirname(__FILE__) . '/uploads';\n                $backup_immagini_file = "$backup_path/immagini_$date.tar.gz";\n                echo exec("tar -zcvpf $backup_immagini_file $uploads_path");\n\n                // elimina backup troppo vecchi mtime +3 giorni per essere utili\n                // non elimina tutto il contenuto della cartella, per evitare che siano mangiati i files .svn\n                echo "\\nelimina vecchi(mtime +3 giorni) backup \\n";\n                //echo exec("find $backup_path/*.sql -mtime +3 -exec rm {} \\;")   ."\\n";\n                echo exec("find $backup_path/*.sql.gz -mtime +3 -exec rm -f {} \\;") . "\\n";\n                echo exec("find $backup_path/*.tar.gz -mtime +3 -exec rm -f {} \\;") . "\\n";\n\n                echo "Backup directory:\\n";\n                echo `ls -l $backup_path/* `;\n\n                echo "trasferisci backup su server interno\\n";\n                //  copia files su server in sede\n                // - rimane size 0\n                // - nomi diversi riempiono il disco\n\n                $connessione = ftp_connect($server_addr, 21) or die('Impossibile connettersi al server.');\n                ftp_login($connessione, $ftp_username, $ftp_password) or die('Username o password errati.');\n\n                echo "Current directory: " . ftp_pwd($connessione) . "\\n";\n                if( !empty($remote_dir) ) {\n                    if (ftp_chdir($connessione, $remote_dir)) {\n                        echo "Current remote directory is now: " . ftp_pwd($connessione) . "\\n";\n                    } else {\n                        echo "Couldn't change directory\\n";\n                    }\n                }\n\n                foreach ( [$backup_db_file, $backup_immagini_file] as $local_file) {\n\n                    $invia = ftp_put($connessione, basename($local_file), $local_file, FTP_BINARY);\n                    if ($invia) {\n                        echo "$local_file traferito \\n";\n                    } else {\n                        echo "$local_file errore trasferimento\\n";\n                    }\n                }\n                ftp_close($connessione);\n\n}\n\n\n
set_error_handler_|set_error_handler(function (\n    int $errno,\n    string $errstr,\n    string $errfile = '',\n    int $errline = 0,\n    array $errcontext = []\n): bool {\n    throw new \\ErrorException($errstr, $errno, $severity = 0, $errfile, $errline);\n    return null;\n} /*, int $error_levels = E_ALL*/);\n\n\n// defining your own way of handling errors during runtime,\n// you need to do cleanup of data/files when a critical error happens\nset_error_handler( function(){ // use func signature above\n    // error was suppressed with the @-operator\n    if (0 === error_reporting()) { \n      return false;// ignore error \n    }\n\n    /* switch ($errno) {\n        case E_NOTICE:\n        case E_USER_NOTICE:\n            $errors = "Notice";\n            break;\n        case E_WARNING:\n        case E_USER_WARNING:\n            // log your warning or transform in exception:\n            $errors = "Warning";\n            break;\n        case E_ERROR:\n        case E_USER_ERROR:\n            $errors = "Fatal Error";\n            break;\n        default:\n            $errors = "Unknown Error";\n            break;\n    } */\n\t// log your warning or transform in exception:\n        throw new ErrorException($errstr, 0, $errno, $errfile, $errline);\n\n\t//  is your responsibility to die() if necessary\n\t//  standard PHP error handler is completely bypassed for the error types specified by error_types unless the callback function returns FALSE\n\treturn false;\n}, \n  // on which error report level the user-defined error will be shown. Default is "E_ALL"\n  $on_err_level = self::isEnvProd() ? E_WARNING : E_ALL\n);\n// test: trigger_error("This becomes an exception");\n\n/// to get rid of a specific warning\nset_error_handler(function (int $errno, string $errstr, string $file):bool {\n                // limit to lib strpos($file, 'path/to/legacy/library') !== false\n                return strpos($errstr, 'Declaration of') === 0;\n                // se ritorna true, il messaggio non viene gestito da php e loggato\n}, E_WARNING);\n\n// class error + flags\nset_error_handler( [$this, 'errorHandler'], E_ALL & ~E_NOTICE & ~E_STRICT);\n
twb_form_|<div class="panel panel-default" id="forms">\n        <div class="panel-heading">Forms\n        </div>\n        <div class="panel-body">\n        <form>\n          <fieldset>\n            <legend>Legend</legend>\n            <div class="form-group">\n              <label for="exampleInputEmail">Email address</label>\n              <input type="text" class="form-control" id="exampleInputEmail" placeholder="Enter email">\n            </div>\n            <div class="form-group">\n              <label for="exampleInputPassword">Password</label>\n              <input type="password" class="form-control" id="exampleInputPassword" placeholder="Password">\n            </div>\n            <div class="form-group">\n              <label for="exampleInputFile">File input</label>\n              <input type="file" id="exampleInputFile">\n              <p class="help-block">Example block-level help text here.</p>\n            </div>\n            <div class="checkbox">\n              <label>\n                <input type="checkbox">Check me out</label>\n            </div>\n            <button type="submit" class="btn btn-default">Submit</button>\n          </fieldset>\n        </form>\n        <hr>\n        <form class="form-inline">\n          <input type="text" class="form-control" placeholder="Email" style="width: 200px;">\n          <input type="password" class="form-control" placeholder="Password" style="width: 200px;">\n          <div class="checkbox">\n            <label>\n              <input type="checkbox">Remember me</label>\n          </div>\n          <button type="submit" class="btn btn-default">Sign in</button>\n        </form>\n        <hr>\n        <form class="form-horizontal">\n          <div class="form-group">\n            <label for="inputEmail" class="col-lg-2 control-label">Email</label>\n            <div class="col-lg-10">\n              <input type="text" class="form-control" id="inputEmail" placeholder="Email">\n            </div>\n          </div>\n          <div class="form-group has-warning">\n            <label for="inputEmail" class="col-lg-2 control-label">Email</label>\n            <div class="col-lg-10">\n              <input type="text" class="form-control" id="inputEmail" placeholder="Email">\n            </div>\n          </div>\n          <div class="form-group has-error">\n            <label for="inputEmail" class="col-lg-2 control-label">Email</label>\n            <div class="col-lg-10">\n              <input type="text" class="form-control" id="inputEmail" placeholder="Email">\n            </div>\n          </div>\n          <div class="form-group has-success">\n            <label for="inputEmail" class="col-lg-2 control-label">Email</label>\n            <div class="col-lg-10">\n              <input type="text" class="form-control" id="inputEmail" placeholder="Email">\n            </div>\n          </div>\n          <div class="form-group">\n            <label for="inputPassword" class="col-lg-2 control-label">Password</label>\n            <div class="col-lg-10">\n              <input type="password" class="form-control" id="inputPassword" placeholder="Password">\n              <div class="checkbox">\n                <label>\n                  <input type="checkbox">Remember me</label>\n              </div>\n              <button type="submit" class="btn btn-default">Sign in</button>\n            </div>\n          </div>\n        </form>\n        </div>\n      </div>
strpad_|str_pad_
_memoize_|$fibonacci = function($n) use (&$fibonacci) {\n  return $n < 2 ? $n : $fibonacci($n - 1) + $fibonacci($n - 2);\n};\n$fastFibonacci = __::memoize($fibonacci);
request_is_https_|/**\n * \n */\nfunction isSSL():bool {\n    if ((!empty($_SERVER['HTTPS']) && $_SERVER['HTTPS'] !== 'off') ||\n            (!empty($_SERVER['HTTP_X_FORWARDED_PROTO']) && $_SERVER['HTTP_X_FORWARDED_PROTO'] === 'https') ||\n            (!empty($_SERVER['HTTP_X_FORWARDED_SSL']) && $_SERVER['HTTP_X_FORWARDED_SSL'] === 'on')\n    ) {\n        return true;\n    }\n    return false;\n}
match_|str_match_\n// since php8\nreturn match ($this->value) {\n    self::PENDING => 'orange',\n    self::PAID => 'green',\n    default => 'gray',\n};
__MAIN__|// if colled directly in CLI, run the tests:\nif( isset($argv[0]) && basename($argv[0]) == basename(__FILE__) ) {\n    // include substr(__FILE__, 0, -4) . 'Test.php';\n    error_reporting(-1); // E_ALL Report all PHP errors / E_ALL & ~E_NOTICE =>Report all errors except E_NOTICE\n    ini_set('display_errors', '1'); // PROD shoul only log, not displaying achitecture informations    \n    $test_id = isset($_SERVER['argv'][1]) ? $_SERVER['argv'][1] : '0'; // 0=>pgr name\n\n\n} elseif( isset($_SERVER['SCRIPT_FILENAME']) && basename($_SERVER['SCRIPT_FILENAME']) == basename(__FILE__) ) {\n\t// callled by web\n}\n
error_trigger_|trigger_error_
int_|intval($str)
isset_|array_key_exists('key', $1)\n// isset($1)
issetor_|$$1 = isset($$1) ? $$1 : null;\n$$1 = $$1 ?? 'default'; //php7.0+ null coalescing\n$parameters['property'] ??= 'default'; // 7.4+ null coalescing assignment operator
file_mv_|file_rename_
cli_stdin_|/*\n// libe based processing\n$_read_STDIN = function(){\n    $txt = '';\n    $fh = STDIN;\n    // getting a buffer\n    while (($buffer = fgets($fh, 4096)) !== false) {\n        $txt .= $buffer;\n    }\n    // line processing\n    while( !feof($fh) ) {\n      $s_line = trim(fgets($fh));\n      line_process($s_line);\n    }\n    \n};*/\n/*\n// read in the file, a line at a time\nwhile( !feof(STDIN) ) {\n    $line = trim(fgets(STDIN));\n}\n*/\n$str_content = file_get_contents('php://stdin');\n\n\n\n
_reduce_|$final_v = __::reduce( [1, 2, 3], function($carry_v, $cur_v) { return $carry_v + $cur_v; }, $initial_v=0);
stack_|lifo_
php_sapi_name_|PHP_SAPI == 'cli'
__map_|__::map(['one'=>1], function($v, $k) {\n  return $v * 3;\n});
cache_dba_|dba_
html_entity_decode_|$q = html_entity_decode($q, ENT_QUOTES| ENT_HTML401); // in input arrivano entities, le tolgo
instanceof_|if( !($var instanceof ParentClass) ){ }
img_text_|        function gen_image($text) {\n            $file = __DIR__ . '/' . __CLASS__ . '_' . md5($text) . '.png';\n            if (!file_exists($file)) {\n                $im = imagecreate(74, 25) or die("Cannot Initialize new GD image stream");\n                $background_color = $white= imagecolorallocate($im, 255, 255, 255);\n                $text_color = imagecolorallocate($im, 110, 110, 110);\n                imagestring($im, 5, 5, 5, $text, $text_color);\n                imagepng($im, $file);\n                imagedestroy($im);\n            }\n            return img_inline($file);\n        }
array_max_|$num = max($n1,$n2);\n$num = max($a_n);
str_len_|strlen_
input_date_|<label for="date">Start date</label>\n<span id="date-format">(DD-MM-YYYY):</span>\n<input type="date" id="date" aria-describedby="date-format" name="date" min="2021-03-01" max="2031-01-01" />\n\n
finally_|finally {\n\|}
type_|/* parma & return hinting\nstring\nfloat\nint\nbool\narray | iterable\ncallable\n// OOP: InterfaceName ClassName self object\n// Nullable type declaration: function f(MyClass $c = null){ // accepts null }\n\n// By default, PHP is weakly typed, PHP will 'ignore' wrong type,\n// return the expected type if possible to coerce(str becomes bool true etc.). \n// unless you use:\ndeclare(strict_types=1);\n\narray\n    function foo(array $bar)  PHP 5.1+\n    function foo(array $bar = null)  PHP 5.1+\n    function foo(): array  PHP 7.0+\n    function foo(): ?array  PHP 7.1+\nbool\n    function foo(bool $bar)  PHP 7.0+\n    function foo(bool $bar = null)  PHP 7.0+\n    function foo(): bool  PHP 7.0+\n    function foo(): ?bool  PHP 7.1+\ncallable\n    function foo(callable $bar)  PHP 5.4+\n    function foo(callable $bar = null)  PHP 5.4+\n    function foo(): callable  PHP 7.0+\n    function foo(): ?callable  PHP 7.1+\nfloat\n    function foo(float $bar)  PHP 7.0+\n    function foo(float $bar = null)  PHP 7.0+\n    function foo(): float  PHP 7.0+\n    function foo(): ?float  PHP 7.1+\nint\n    function foo(int $bar)  PHP 7.0+\n    function foo(int $bar = null)  PHP 7.0+\n    function foo(): int  PHP 7.0+\n    function foo(): ?int  PHP 7.1+\niterable\n    function foo(iterable $bar)  PHP 7.1+\n    function foo(iterable $bar = null)  PHP 7.1+\n    function foo(): iterable  PHP 7.1+\n    function foo(): ?iterable  PHP 7.1+\nobject\n    function foo(object $bar)  PHP 7.2+\n    function foo(object $bar = null)  PHP 7.2+\n    function foo(): object  PHP 7.2+\n    function foo(): ?object  PHP 7.2+\nself\n    function foo(self $bar)  PHP 5.0+\n    function foo(self $bar = null)  PHP 5.1+\n    function foo(): self  PHP 7.0+\n    function foo(): ?self  PHP 7.1+\nstring\n    function foo(string $bar)  PHP 7.0+\n    function foo(string $bar = null)  PHP 7.0+\n    function foo(): string  PHP 7.0+\n    function foo(): ?string  PHP 7.1+\nclass names\n    function foo(ClassName $bar)  PHP 5.0+\n    function foo(ClassName $bar = null)  PHP 5.1+\n    function foo(): ClassName  PHP 7.0+\n    function foo(): ?ClassName  PHP 7.1+\n\nmultiple types:\nPHP 8.0+\n  function foo(File|Resource|string $f): int|float|bool {   }\nPHP 5+\n  - you can have an interface, and implement it for both custom classes\nor implement run-time check\n    if (!is_string($message) && !$message instanceof Message) {\n        throw new \\InvalidArgumentException('$message must be a string or a Message object.');\n    }\n*/\n
f_arrow_|fn($book) => $book->title;
date_to_time_|strtotime_
dec_|@see class Dec {}
css_input_type_|input[type="text"]
str_pos_|mb_strpos($str, $substr  ) !== false\n\nfunction str_contains($str, $search) {\n    return stripos( $str, $search ) !== false;\n}
ignore_user_abort_|$ua_prev_val = ignore_user_abort($ini_chg=true);
log_error_|error_log($message);
file_put_contents_|file_put_contents($log_path, $log_msg, (FILE_APPEND | LOCK_EX) );\n\nfile_put_contents($file_path, $txt ); // default is overwriting file\n\nlog_file_\n
include_|require_
zf_log_|// application error\n                $msg = sprintf('%s %s %s %s', $e->getMessage(), $e->getFile(), $e->getLine(), $e->getTraceAsString() );\n                Zend_Registry::get('logger')->err( $msg );\n\n\\DMS_Logger::getInstance('mail')->log($msg, Zend_Log::WARN);\n\n// ZF:\n$logger = Zend_Registry::get('logger');\n$logger->info('');\n$logger->warn('');\n$logger->err('');
publics_|staticp_
psalm_template_|/**\n * @template T\n * @psalm-param T $t\n * @return T\n */\nfunction mirror($t) {\n    return $t;\n}\n/**\n * @template T\n */\nclass MyContainer {\n  /** @var T */\n  private $value;\n  /** @param T $value */\n  public function __construct($value) {\n    $this->value = $value;\n  }\n  /** @return T */\n  public function getValue() {\n    return $this->value;\n  }\n}\n\n
chown_|$is_ok = chown( $file_path, $user='www-data' );
ifin_|if_#is_null($1)#
ifs_|ifis_
c_|closure_
cd_|$ok=chdir('public_html');\necho getcwd() . "\\n";\n
array_page_|array_slice_
ip_|$IP = get_forwarded_IP();\n//\npublic static function get_forwarded_IP() {\n  // Do not check any HTTP_* headers for the client IP unless you specifically know your application is configured behind a reverse proxy. \n  // Trusting the values of these headers unconditionally will allow users to spoof their IP address.\n  // The only $_SERVER field containing a reliable value is REMOTE_ADDR.\n  return $IP = coalesce(\n    h_get($_SERVER, 'HTTP_X_REAL_IP'), // nginx rewrite, unsafe\n    $_SERVER['REMOTE_ADDR'],\n    'UNKNOWN'\n  );\n  // others possible UNSAFE header rewrites:\n  // h_get($_SERVER,'HTTP_CLIENT_IP'),\n  // h_get($_SERVER,'HTTP_X_FORWARDED_FOR'),\n  // h_get($_SERVER,'HTTP_X_FORWARDED'),\n  // h_get($_SERVER,'HTTP_FORWARDED_FOR'),\n  // h_get($_SERVER,'HTTP_FORWARDED'),\n}\n//\n// use http_* pokable vars only if certain the app is behind a proxy\nfunction get_ip_safe($env_has_prox){\n  if( $env_has_prox ) {\n      return h_get($_SERVER, 'HTTP_X_REAL_IP'), // nginx rewrite, unsafe\n  } else {\n      return $_SERVER['REMOTE_ADDR'];\n  }\n}\n//\n// get the ip of the execution machine\n$server_IP = h_get($_SERVER, 'SERVER_ADDR',\n    $cli_ip=gethostbyname(gethostname())\n);\n// @see ip_check_
println_def_|// variadic func >= 5.6\nfunction println(string $msg, ...$args) {\n    $args = func_get_args();\n    $msg = array_shift($args); // first arg\n    if (!empty($args)) {\n        echo vsprintf($msg, $args) . "\\n";\n    } else {\n        echo $msg . "\\n";\n    }\n}
exception_|spl_exceptions_
lzw_compress_|// algoritmo efficace per le stringhe e http\n/** \n* @link http://code.google.com/p/php-lzw/\n* @author Jakub Vrana, http://www.vrana.cz/\n* @copyright 2009 Jakub Vrana\n* @license http://www.apache.org/licenses/LICENSE-2.0 Apache License, Version 2.0\n*/\n/** LZW compression\n* @param string data to compress\n* @return string binary data\n*/\nfunction lzw_compress($string) {\n\t// compression\n\t$dictionary = array_flip(range("\\0", "\\xFF"));\n\t$word = "";\n\t$codes = array();\n\tfor ($i=0; $i <= strlen($string); $i++) {\n\t\t$x = substr($string, $i, 1);\n\t\tif (strlen($x) && isset($dictionary[$word . $x])) {\n\t\t\t$word .= $x;\n\t\t} elseif ($i) {\n\t\t\t$codes[] = $dictionary[$word];\n\t\t\t$dictionary[$word . $x] = count($dictionary);\n\t\t\t$word = $x;\n\t\t}\n\t}\n\t\n\t// convert codes to binary string\n\t$dictionary_count = 256;\n\t$bits = 8; // ceil(log($dictionary_count, 2))\n\t$return = "";\n\t$rest = 0;\n\t$rest_length = 0;\n\tforeach ($codes as $code) {\n\t\t$rest = ($rest << $bits) + $code;\n\t\t$rest_length += $bits;\n\t\t$dictionary_count++;\n\t\tif ($dictionary_count >> $bits) {\n\t\t\t$bits++;\n\t\t}\n\t\twhile ($rest_length > 7) {\n\t\t\t$rest_length -= 8;\n\t\t\t$return .= chr($rest >> $rest_length);\n\t\t\t$rest &= (1 << $rest_length) - 1;\n\t\t}\n\t}\n\treturn $return . ($rest_length ? chr($rest << (8 - $rest_length)) : "");\n}\n\n/** LZW decompression\n* @param string compressed binary data\n* @return string original data\n*/\nfunction lzw_decompress($binary) {\n\t// convert binary string to codes\n\t$dictionary_count = 256;\n\t$bits = 8; // ceil(log($dictionary_count, 2))\n\t$codes = [];\n\t$rest = 0;\n\t$rest_length = 0;\n\tfor ($i=0; $i < strlen($binary); $i++) {\n\t\t$rest = ($rest << 8) + ord($binary[$i]);\n\t\t$rest_length += 8;\n\t\tif ($rest_length >= $bits) {\n\t\t\t$rest_length -= $bits;\n\t\t\t$codes[] = $rest >> $rest_length;\n\t\t\t$rest &= (1 << $rest_length) - 1;\n\t\t\t$dictionary_count++;\n\t\t\tif ($dictionary_count >> $bits) {\n\t\t\t\t$bits++;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t// decompression\n\t$dictionary = range("\\0", "\\xFF");\n\t$return = "";\n\tforeach ($codes as $i => $code) {\n\t\t$element = $dictionary[$code];\n\t\tif (!isset($element)) {\n\t\t\t$element = $word . $word[0];\n\t\t}\n\t\t$return .= $element;\n\t\tif ($i) {\n\t\t\t$dictionary[] = $word . $element[0];\n\t\t}\n\t\t$word = $element;\n\t}\n\treturn $return;\n}\n// uso e test\n$data = "";\n$compressed = lzw_compress($data);\nvar_dump($data === lzw_decompress($compressed));
decimal_|bc_
file_|file_put_contents($path\|,$str);
for_backward_|// itera dall'ultimo al primo\nfor ($i = strlen($ean_code) - 1; $i >= 0; $i--) {\n    $val = $a_list[$i];\n}
table_a_simple_|var_dump_rs_
str_to_float_|$_s2f = function($input) { return floatval(preg_replace("/[^-0-9\\.]/",'', $input)); };
suite_cache_|// perform a query and cache it\nprotected static function _qryc(string $sql, array $h_params = []): array{\n        $key = __FUNCTION__ . md5($sql . json_encode($h_params));\n        $var = sugar_cache_retrieve($key);\n        if (false === $var) {\n            $var = self::_qry($sql, $h_params);\n            sugar_cache_put($key, $var, $ttl = 2 * 60 * 60);\n        }\n        return $var;\n}
chart_line_|//\nfunction plot_X($data){\n  // @see /home/taz/Dropbox/projects/gh_phpgraphlib/src/phpgraphlib.php\n  include_once __DIR__.'/../phpgraphlib.php';\n  $set1 = [\n\t1917 => 4011, 1918 => 4886, 1919 => 5411,\n\t1920 => 5831, 1921 => 5865, 1922 => 5704, 1923 => 5337, 1924 => 5144,\n\t1925 => 5018, 1926 => 4971, 1927 => 4630, 1928 => 4411, 1929 => 4287,\n\t1930 => 4116, 1931 => 3940, 1932 => 3764, 1933 => 3592, 1934 => 3447,\n\t1935 => 3280, 1936 => 3215, 1937 => 3366, 1938 => 3569, 1939 => 3598,\n\t1940 => 4436, 1941 => 5939, 1942 => 7397, 1943 => 8855, 1944 => 9835,\n\t1945 => 9998, 1946 => 10631, 1947 => 11340, 1948 => 11549, 1949 => 11642 ];\n  $set2 = [ 1910 => 2059, 1911 => 2135, 1912 => 2209, 1913 => 2332, 1914 => 2437,\n\t1915 => 2786, 1916 => 3747, 1917 => 5011, 1918 => 5886, 1919 => 6411,\n\t1920 => 6831, 1921 => 6865, 1922 => 6704, 1923 => 6337, 1924 => 6144,\n\t1925 => 6018, 1926 => 5971, 1927 => 5630, 1928 => 5411, 1929 => 5287,\n\t1930 => 5116, 1931 => 4940, 1932 => 4764, 1933 => 4592, 1934 => 4447,\n\t1935 => 4280, 1936 => 4215, 1937 => 4366, 1938 => 4569, 1939 => 4598,\n\t1940 => 5436, 1941 => 5939, 1942 => 8397, 1943 => 9855, 1944 => 10835 ];\n  //\n  $graph = new PHPGraphLib($w=750, $h=400, $path=__DIR__.'/test_11.png');\n  $graph->addData($set1, $set2);\n  $graph->setTitleLocation('left');\n  $graph->setTitle($title="Two sets with different start points");\n  $graph->setBars(false);\n  $graph->setLine(true);\n  $graph->setDataPoints(false);\n  $graph->setLineColor('blue', 'red');\n  $graph->setDataValues(false);\n  // $graph->setXValuesInterval(5);\n  $graph->setDataValueColor('blue', 'red');\n  $graph->setLegend(true);\n  $graph->setLegendTitle("set1", "set2");\n  // $graph->setIgnoreDataFitErrors(true);//se ci sono errori nei dati provare a plottare ugualmente\n  $graph->createGraph();\n}
f___|f_go_#$1#
unittest_|// \nclass Math {\n    // \n    static function add(int x, int y) { return x + y; }\n    // \n    public function unittest() {\n        assert(add(2, 2) == 4);\n    }\n}\n// main\nunittest([\n  'test1' => function($suite){\n      math = new Math();\n      result = math.add(2, 2);\n},\n  'test2' => new Math(), // run $this->unittest()\n]);\n// def\nfunction unittest($tests){\n\n}\n
f_go_|/**\n * @return array{0: bool, 1: string, 2: list<string>}\n */\nfunction $1(string $str):array {\n    if ( $ok ){\n\treturn [ $v, null];\n    }\n    // always return value and an error\n    return [false, "err message here"];\n}\nlist($res, $err) = $1($str);\nif(!$res || !empty($err) ){\n  // use $err\n} else {\n  // use $res\n}\n\n
cli_once_|// ensure the script has only 1 instance running!\nfunction run_once($fl_path, callable $_generator){\n\t// use flock with LOCK_EX to gain an exclusive lock on a file.\n\t$fp = fopen($fl_path, 'r+');\n\tif (!flock($fp, LOCK_EX | LOCK_NB)) {\n\t    die("script already running, flock $fl_path \\n");\n\t}\n\t// ... do stuff\n\ttry {\n\t\t$r=$_generator();\n        }//todo\n\tfclose($fp);\n\t//For PHP versions after 5.3.2 you need to manually release the lock using \n\tflock($fp, LOCK_UN);\n\treturn $r;\n}\n$r = run_once( $fl_path='/tmp/php-commit.lock', $_generator);
this_|$this->$1\|;
preg_replace_callback_|// always wrap regexp to thest them\nfunction normalixe_x($line) {\n  $line = preg_replace_callback( '/([A-Z0-9]*)/', \n  // or [&$this, 'method_name']\n  function (array $matches): string {\n    return strtolower($matches[0]);\n  }, $line );\n  return $line;\n}\nok( normalixe_x($line), true, 'normalize line');\n\n
rsync_|\n// trasferimento con ssh + rsync\n// v: verbose\n// a: archive mode, copia i symlink\n// z: zipped compresssed\n// working: rsync  -vazC --force --delete --stats -e "ssh -p22" /media/data/Volatile/www/business.xxxx.it/ user@192.168.1.100:/var/zend-applications/xxxx_backoffice/\nfunction remote_syncronize($cmd_dry_run, $user, $passwd, $host, $local_path, $remote_path, $exclude) {\n    $rsync_opts = " $cmd_dry_run --cvs-exclude --archive --compress --stats --progress --force --delete --no-perms --no-owner --no-group $exclude  -e \\"ssh -p22\\" ";\n    $cmd = "rsync $rsync_opts $local_path $user@$host:$remote_path";\n    echo "\\n" . $cmd . "\\n\\n";\n    echo `$cmd`;\n}\n$cmd_dry_run = ''; // '--dry-run';\n$user = 'tmirandola';\n$passwd = '';\n$host = 'ticket';\n$local_path = __DIR__.'/';\n$remote_path = '/home/tmirandola/db_check/';\n//\n$exclude = "--exclude-from=".__DIR__."/config/rsync_exlude.txt" ;\nremote_syncronize($cmd_dry_run, $user, $passwd, $host, $local_path, $remote_path, $exclude);\n\n\n// esempio:\nfunction action_sync_prod_java($cmd_dry_run ) {\n    $user   = 'username';\n    $passwd = null;\n    $host   = '192.168.1.202';\n    echo "\\n\\n".colored_ko("STO SCRIVENDO JAVA IN PRODUZIONE")."\\n\\n";\n    // sincronizza anche il worker\n    // ATENZIONE al path che deve finire con /\n    $local_path = '/var/www/xxxx_etichette2/';\n    $remote_path = '/var/beanstalk-listeners/java-worker/';\n    $exclude='';\n    $exclude =" --exclude-from=$local_path/bin/rsync_exclude.txt";\n    remote_syncronize( $cmd_dry_run, $user, $passwd, $host, $local_path, $remote_path, $exclude );\n}
autocomplete_js_|// autocomplete from array data\n        // autocomplete from array data\n        public static function autocomplete_h(string $name, string $value, string $value_decoded, array $a_data): string{\n            // @see https://github.com/devbridge/jQuery-Autocomplete\n            $id = "autocomplete_$name";\n            //\n            // var js_data = [\n            // { value: 'Andorra', data: 'AD' },\n            // { value: 'Zimbabwe', data: 'ZZ' },\n            // { value: 'Italy', data: 'IT' },\n            // { value: 'France', data: 'FR' },\n            // ];\n            //\n            $json = json_encode($a_data); // , JSON_PRETTY_PRINT\n            if ($json == false) {\n                $json = "[]; // " . json_last_error_msg() . "\\n";\n            }\n            // dependency:\n            // <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.devbridge-autocomplete/1.2.24/jquery.autocomplete.min.js"></script>\n            return <<<__END__\n            <input type="hidden" name="$name" value="$value" />\n            <div class="btn-group">\n                <input type="text" name="AC_{$name}" value="$value" id="$id" class="form-control" _style="width: 300px;"/>\n                <span class="glyphicon glyphicon-remove searchclear"\n                    onclick="{$name}_clear();return false;"\n                    style="position: absolute; right: 5px; top: 0; bottom: 0; height: 14px; margin: auto; font-size: 14px; cursor: pointer; color: #666;"\n                ></span>\n            </div>\n            <span style="color:#999; margin-left:15px;" id="{$name}_decoded">\n                $value_decoded\n            </span>\n            <script >\n            var a_data_{$name} = $json ;\n            $( function() {\n                $('#$id').autocomplete({\n                    lookup: a_data_{$name},\n                    // onSelect: {$name}_on_select,\n                    onSelect: function (suggestion) {\n                        console.log('You selected: ' + suggestion.value + ', ' + suggestion.data);\n                        $('[name=$name]').val( suggestion.data );\n                    }\n                });\n            });\n            function {$name}_clear() {\n                $('#$id').val('');\n                $('#{$name}_decoded').text('');\n                $('[name=$name]').val('');\n            }\n            </script>\n__END__;\n        }\n\n// autocomplete from url ajax\nfunction autocomplete_ajax_render($name, $value, $url) {\n    // @see https://github.com/devbridge/jQuery-Autocomplete\n    $id = "autocomplete_$name";\n    //\n    //\n    // dependency:\n    // <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.devbridge-autocomplete/1.2.24/jquery.autocomplete.min.js"></script>\n    return <<<__END__\n    <input type="text" name="$name" value="$value" id="$id" class="form-control"/>\n    <script >\n    // it and all sub-elements have been completely loaded\n    $( function() {\n            $.ajax({\n                    url: '$url' ,\n                    // type: 'GET',\n                    dataType: 'json',\n                    success: function( resp_o ) {\n                        console.log( resp_o );\n                        //\n                        $('#$id').autocomplete({\n                                lookup: resp_o,\n                                onSelect: function (suggestion) {\n                                    console.log('You selected: ' + suggestion.value + ', ' + suggestion.data);\n                                    var url = suggestion.data;\n                                    // window.location = url;\n                                    window.open(url, "_blank");\n                                }\n                        });\n                    },\n                    error: function( req, status, err ) {\n                        console.log( 'something went wrong', status, err );\n                    }\n            });\n    });\n    </script>\n__END__;\n}\n\n\n<!-- if not present \n<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0-alpha1/jquery.min.js"></script>\n-->\n<style type="text/css">\n// TODO: define globally if you plan to reuse it\n.autocomplete-suggestions { border: 1px solid #999; background: #FFF; overflow: auto; }\n.autocomplete-suggestion { padding: 2px 5px; white-space: nowrap; overflow: hidden; }\n.autocomplete-selected { background: #F0F0F0; }\n.autocomplete-suggestions strong { font-weight: normal; color: #3399FF; }\n.autocomplete-group { padding: 2px 5px; }\n.autocomplete-group strong { display: block; border-bottom: 1px solid #000; }\n</style>\n//\n// other markup\n//\n<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.0.0-alpha1/jquery.min.js"></script>\n<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.devbridge-autocomplete/1.2.24/jquery.autocomplete.min.js"></script>\n<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-alpha/css/bootstrap.css">\n<div class="container-fluid">\n    <div class="row">\n      <div class="col-md-8">testo</div>\n      <div class="col-md-4">\n        <input type="text" name="" value="" id="autocomplete" />\n       </div>\n    </div>\n</div>\n<script >\n// @see https://github.com/devbridge/jQuery-Autocomplete\nvar countries = [\n    { value: 'Andorra', data: 'AD' },\n    // ...\n    { value: 'Zimbabwe', data: 'ZZ' },\n    { value: 'Italy', data: 'IT' },\n    { value: 'France', data: 'FR' },\n];\n$('#autocomplete').autocomplete({\n    lookup: countries,\n    onSelect: function (suggestion) {\n        alert('You selected: ' + suggestion.value + ', ' + suggestion.data);\n    }\n});\n</script>\n\n\n\n\n\n\n@see html5_autocomplete_
chmod_|$is_ok = chmod($file_path, 0755);// use octal val\n\nfunction chmod_R($path, $filemode) {\n    if (!is_dir($path))\n        return chmod($path, $filemode);\n\n    $dh = opendir($path);\n    while (($file = readdir($dh)) !== false) {\n        if($file != '.' && $file != '..') {\n            $fullpath = $path.'/'.$file;\n            if(is_link($fullpath))\n                return FALSE;\n            elseif(!is_dir($fullpath))\n                if (!chmod($fullpath, $filemode))\n                    return FALSE;\n            elseif(!chmod_R($fullpath, $filemode))\n                return FALSE;\n        }\n    }\n\n    closedir($dh);\n\n    if(chmod($path, $filemode))\n        return TRUE;\n    else\n        return FALSE;\n}
str_begin_|str_begins_
shutdown_|register_shutdown_function(function(){\n});
psr_|// list of interesting PSR @ https://packagist.org/packages/psr/\npsr_formatting_ // PSR-1 e PSR-2(stricter)\npsr_log_ //PSR-3\npsr_cache_ //PSR-6\npsr_autoloading_ //PSR-4\n// PSR-5 phpdoc
apc_clear_cache_|apc_clear_cache($cache_type='user');
file_rm_|unlink($filename);
array_reverse_|$a2 = array_reverse($a1);
msg_get_queue_|// tutti i processi leggono dallo stesso ID di coda\n$tok = ftok(__FILE__, chr(time() & 255));\n$queue = msg_get_queue($tok);\n\nif (!msg_send($queue, 2, $result, TRUE, FALSE, $errno)) {\n   var_dump("$errno");\n   var_dump(msg_stat_queue($queue));\n}\n\nmsg_receive($queue, 2, $msgtype, 4096, $result, TRUE);\n\nmsg_remove_queue($queue);
mixed_|/**\n * @param mixed $r\n * @return mixed\n */\n:mixed // typehint since 8.0
array_walk_recursive_|array_walk_recursive($arr, function good_example(&$item,$key){\n   if($key=='test'){\n        // needs pass-by-reference if you want to change the item\n        $item='PHP Rocks';  \n   }\n});
dns_|/*\n\ngethostbyname()        Gets IP address corresponding to the hostname\n\ngethostbynamel()       Gets list of IP addresses corresponding to the hostname\n\ngethostbyaddr()        Gets hostname corresponding to an IP address\n\ngetmxrr()                Fetches the mail exchange (MX) record associated with a hostname\n\ndns_get_mx()             Alias for getmxrr()\n\ncheckdnsrr()             Checks for the existence of DNS records for a hostname\n\ndns_check_record()       Alias for checkdnsrr()\n\ndns_get_record()         Fetches DNS records associated with a hostname\n*/\n\n$ip = gethostbyname("www.example.com");\necho "IP = $ip\\n";\n$host = gethostbyaddr("192.0.34.166");\necho "Host = $host\\n";\n$ip = gethostbynamel("yahoo.com");\nprint_r($ip);\n\n\n\n
window_popup_|function open_popup(URL, width, height, initial_filter, close_popup, hide_clear_button, popup_request_data, popup_mode, create, metadata) {\n    // set the variables that the popup will pull from\n    window.document.popup_request_data = popup_request_data;\n    window.document.close_popup = close_popup;\n    //\n    windowName = 'popup_window';\n    windowFeatures = 'width=' + width + ',height=' + height + ',resizable=1,scrollbars=1';\n    if (popup_mode == '' && popup_mode == 'undefined') {\n        popup_mode='single';\n    }\n    if (create == '' && create == 'undefined') {\n        create = 'false';\n    }\n    win = window.open(URL, windowName, windowFeatures);\n    if(window.focus) {\n        // put the focus on the popup if the browser supports the focus() method\n        win.focus();\n    }\n    return win;\n}
check_css_|<!--\ntext\n-->\n<div class="checkbox">\n                    <input type='checkbox' name='thing1' value='valuable' id="thing1"/>\n                    <label for="thing1"></label>\n                    <label for="thing1" class="checkbox-text">Checkbox</label>\n</div>\n<style type="text/css">\n                input[type=checkbox] {\n                    display:none;\n                }\n                input[type=checkbox] + label{\n                    border: 1.5px solid #FFFFFF;\n                    outline: 2px solid #000000;\n                    height: 16px;\n                    width: 16px;\n                    display:inline-block;\n                    padding: 0;\n                    cursor: pointer;\n                }\n                input[type=checkbox]:checked + label {\n                    background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAlElEQVQ4T6WTXQ2AMAwGDwdIQAISQAEWsIQCQAkWkIAEJJCSNCljP7Dtdblb26+rKDxVIU+uoAY2YMoRKNwC61/BAwbGP4IXLPP7KvDCVtAARyCRIKyCBRiAHtgdSRRWwQjMwOlIkrBtwZVIO5LzHZVMO7RwdohWIoIk7EtBJXIXfVkr8sUoki5Wtm3n6x4E/1yx4AI+qiERKNFzCwAAAABJRU5ErkJggg==") #fff;\n                    height: 16px;\n                    width: 16px;\n                    display:inline-block;\n                    padding: 0;\n                }\n                /* .checkbox-text {\n                    position: relative;\n                    font-size: 14px;\n                    padding: 0 6px;\n                    top: -4px;\n                    cursor: pointer;\n                } */\n</style>\n\n
zf_get_|$name = $this->getRequest()->getParam('name\|', '');
unserialize_|$data = unserialize($str, ['allowed_classes' => false]);// do not allow classes, may be attack vector
log_php_|error_log( $msg , $type = 0 , $s_dest='');\n        // type=0 log di sistema di PHP, configurazione error-log.
isset2_|issetor_#var#\n
array_multisort_|<?php\n// array_orderby($data, $column, SORT_ASC );\nfunction array_orderby() {\n    $args = func_get_args();\n    $data = array_shift($args);// the first arg\n    foreach ($args as $n => $field) {\n        if (is_string($field)) {\n            $tmp = array();\n            foreach ($data as $key => $row){\n                $tmp[$key] = $row[$field];\n            }\n            $args[$n] = $tmp;\n        }\n    }\n    $args[] = &$data;\n    call_user_func_array('array_multisort', $args);\n    $sorted_data = array_pop($args);\n    return $sorted_data;\n}\n\n// The sorted array is now in the return value of the function instead of being passed by reference.\n$data[] = array('volume' => 67, 'edition' => 2);\n$data[] = array('volume' => 86, 'edition' => 1);\n$data[] = array('volume' => 85, 'edition' => 6);\n$data[] = array('volume' => 98, 'edition' => 2);\n$data[] = array('volume' => 86, 'edition' => 6);\n$data[] = array('volume' => 67, 'edition' => 7);\n\n// Pass the array, followed by the column names and sort flags\n$a_sorted = array_orderby($data, 'volume', SORT_ASC /*, 'edition', SORT_ASC*/ );\n\n\n\n\n\n\n\n\n
output_handler_|function mangle_email($s) {\n    // elimina email dall'output\n    return preg_replace('/([^@\\s]+)@([-a-z0-9]+\\.)+[a-z]{2,}/is', '<$1@...>', $s);\n}\n// esegue la funzione di pulizzia sull buffer\nob_start('mangle_email');\n// equivalente al settaggio php.ini\n// output_buffering = On\n// output_handler=mangle_email
class_methods_|get_class_methods_
number_clamp_|clamp_
println_|println("msgmsg %s %s", 1, 2);\n// @see println_def_\n
get_class_|$class_name = get_class( $object );
htmlspecialchars_decode_|$s = htmlspecialchars_decode( $s );
array_select_|array_keep_if_
printf_|pf_
timestamps_|// notable TSs\nnamespace Utils {\n    // notable TSs\n    class TimeStamps {\n        //\n        public const MINUTE = 60;\n        //\n        public const HOUR = 60 * self::MINUTE;\n        //\n        public const DAY = 24 * self::HOUR;\n        //\n        public const WEEK = 7 * self::DAY;\n        // NOTA: average month in seconds\n        public const MONTH = 2629800;\n        // NOTA: average year in seconds\n        public const YEAR = 31557600;\n    }\n}\nnamespace {\n    define('TS_MINUTE', \\Utils\\TimeStamps::MINUTE, false);\n    define('TS_HOUR', \\Utils\\TimeStamps::HOUR, false);\n    define('TS_DAY', \\Utils\\TimeStamps::DAY, false);\n    define('TS_WEEK', \\Utils\\TimeStamps::WEEK, false);\n    define('TS_MONTH', \\Utils\\TimeStamps::MONTH, false);\n    define('TS_YEAR', \\Utils\\TimeStamps::YEAR, false);\n}
br2nl_|\nfunction br2nl(string $str):string {\n    $regex = '#<[^>]+br.+?>#i';\n    preg_match_all($regex, $str, $matches);\n    foreach ($matches[0] as $match) {\n        $str = str_replace($match, '<br>', $str);\n    }\n    $brs = ['<br>', '<br/>', '<br />'] ;\n    $str = str_replace("\\r\\n", "\\n", $str); // make from windows-returns, *nix-returns\n    $str = str_replace("\\n\\r", "\\n", $str); // make from windows-returns, *nix-returns\n    $str = str_replace("\\r", "\\n", $str); // make from windows-returns, *nix-returns\n    $str = str_ireplace($brs, "\\n", $str); // to retrieve it\n    return $str;\n}\nfunction br2nl(string $text):string {\n    return  preg_replace('/<br\\\\s*?\\/??>/i', '', $text);\n}\n
require_once_|require_
file_lock_|/*\nLOCK_EX => EXCLUSIVE LOCK =>  Only a single process may possess an exclusive lock to a given file at a time.\nflock with LOCK_EX will BLOCK until ALL reader locks have been released.\n*/\nclass FLocker {\n    // hash path => resource handler\n    protected static $loc_files = array();\n    public static function lock($file_name, $wait = false) {\n        $loc_file = fopen($file_name, 'c');\n        if ( !$loc_file ) {\n            throw new \\Exception('Can\\'t create lock file! '.$file_name);\n        }\n        if ( $wait ) {\n            $is_locked = flock($loc_file, LOCK_EX);\n        } else {\n            $is_locked = flock($loc_file, LOCK_EX | LOCK_NB);\n        }\n        if ( $is_locked ) {\n            self::$loc_files[$file_name] = $loc_file;\n            fprintf($loc_file, "%s\\n", getmypid() );\n            return $loc_file;\n        } else if ( $wait ) {\n            throw new \\Exception('Can\\'t lock file!');\n        } else {\n            return false;\n        }\n    }\n    public static function unlock($file_name) {\n        fclose(self::$loc_files[$file_name]);\n        @unlink($file_name);\n        unset(self::$loc_files[$file_name]);\n    }\n    /*\n    $lock_path = sprintf( '/tmp/order_%s_%s.lock',  $i_nuord=1, $i_annor=2 );\n    FLocker::run( $lock_path,\n    function(){\n        echo "goin sleep \\n";\n        sleep(20);\n        echo "done\\n";\n    },\n    function($pid, $time)  {\n        echo "another process ($pid) $time is running. \\n";\n    }, $wait=false );\n    */\n    public static function run($file_name, $operation, $on_busy, $wait=false) {\n        if ( !self::lock($file_name, $wait) ) {\n            $pid = file_get_contents( $file_name );\n            $time = filemtime( $file_name );\n            $on_busy( trim($pid), $time );\n        } else {\n            $r = $operation();\n            self::unlock($file_name);\n        }\n    }\n    // get contents if file is not busy\n    // to write a file with lock: file_put_contents($log_path, $log_msg, (FILE_APPEND | LOCK_EX) );\n    public static function file_get_contents($path, $wait = true) {\n        if(!file_exists($path)) {\n            throw new Exception('File "'.$path.'" does not exists');\n        } else {\n            $file_handler = fopen($path, 'r');\n            $is_locked = flock($file_handler, LOCK_SH, $wait);\n            if(!$is_locked) {\n                // busy resource\n                return false;\n            } else {\n                $text = file_get_contents($path);\n                flock($file_handler, LOCK_UN);\n                fclose($file_handler);\n                return $text;\n            }\n        }\n    }\n}\n\n\n$lock_path = sprintf( '/tmp/order_%s_%s.lock',  $i_nuord=1, $i_annor=2 );\nFLocker::run( $lock_path,\n    function(){\n        echo "goin sleep \\n";\n        sleep(20);\n        echo "done\\n";\n    },\n    function($pid, $time)  {\n        echo "another process ($pid) $time is running. \\n";\n    }, $wait=false );\n\n\n// example 2\nclass FileLocked {\n    function get($name) {\n        $name = $this->file_path . '/smf_' . md5($name);\n        if (!file_exists($name)) {\n            return [];\n        }\n        $fp = fopen($name, 'rb');\n        if (is_resource($fp)) {\n            flock($fp, LOCK_SH);\n            $str = fread($fp, filesize($name));\n            fclose($fp);\n            return $str == '' ? [] : unserialize($str);\n        }\n        return t_('Cannot open file.');\n    }\n    function set($name, $value) {\n        $fp = fopen($this->file_path . '/smf_' . md5($name), 'ab');\n        if (is_resource($fp)) {\n            flock($fp, LOCK_EX);\n            ftruncate($fp, 0);\n            fseek($fp, 0);\n            fwrite($fp, serialize($value));\n            fclose($fp);\n            clearstatcache();\n            return true;\n        }\n        return t_('Cannot write to file.');\n    }\n}\n/*\nanother example:\nclass file_lock_2 {\nfunction readStatus() {\n    $f = fopen($this->path, 'r');\n    if (!$f) return false;\n    if (flock($f, LOCK_SH)) {\n        $ret = fread($f, 8192);\n        flock($f, LOCK_UN);\n        fclose($f);\n        return $ret;\n    }\n    fclose($f);\n    return false;\n}\nfunction updateStatus($new) {\n    $f = fopen($this->path, 'w');\n    if (!$f) return false;\n    if (flock($f, LOCK_EX)) {\n        ftruncate($f, 0);\n        fwrite($f, $new);\n        flock($f, LOCK_UN);\n        fclose($f);\n        return true;\n    }\n    fclose($f);\n    return false;\n}\n// read, calculate, update value\nfunction update_with( Closure $_uptater ) {\n    $f = fopen($this->path, 'rw');\n    if (!$f) return false;\n    if (flock($f, LOCK_EX)) {\n        $current = fread($f, 8192); // read the current value\n        $current = $_uptater($current); // manipulate the value\n        ftruncate($f, 0);\n        fwrite($f, $current); // write back the value\n        flock($f, LOCK_UN);\n        fclose($f); // close the storage\n        return true;\n    }\n    fclose($f);\n    return false;\n}\n}\n*/\n// adminer locked files\nfunction file_open_lock($sc){\n    $p=@fopen($sc,"r+");\n    if(!$p) {\n        $p=@fopen($sc,"w");\n        if(!$p)\n            return;\n        chmod($sc,0660);\n    }\n    flock($p,LOCK_EX);\n    return$p;\n}\nfunction file_write_unlock($p,$rb){\n    rewind($p);\n    fwrite($p,$rb);\n    ftruncate($p,strlen($rb));\n    flock($p,LOCK_UN);\n    fclose($p);\n}\n\n
date_day_num_|// number of the day, 1-1-2020 => 1; 31-12-2021 => 365\nfunction get_day_num(){\n   return date("z")+1;\n}
a_|$$1 = [];
img_size_|image_size_
else_|else {\n\|\n}\n
date_parse_|$date = '22/11/1968';\n$o_d = DateTime::createFromFormat('d/m/Y', $date );\necho   $o_d->format('Y-m-d');\necho   $o_d->format('U'); // to UNIX timestamp\n//\nstrtotime("15 November 2018"); //converts most English date formats\n\n
array_search_|$a = array(0 => 'blue', 1 => 'red', 2 => 'green', 3 => 'red');\n\n$key = array_search('green', $a ); // $key = 2;
concurrent_|pcntl_
header_cache_|// .htaccess file and add the following:\n// FileETag MTime Size\nfunction header_cache( $do_cache=true, $file_path, $ttl = 60*60 ){\n\n\t$now = date(DATE_RFC2822, time() + $ttl );\n\theader('Expires: '.$now );\n\theader("Last-Modified: " .$now);\n\t//\t\n        if( $file_path ) {\n\t\t$etag = md5_file($file_path);\n        \theader("Last-Modified: ". filemtime($file_path)  ); \n        \theader("Etag: $etag");\n        } \n\tif( $do_cache ){\n\t\theader("Pragma: cache");\n\t\theader("Cache-Control: max-age=$ttl");\n\t} else {\n\t\t// no chache\n\t\theader("Pragma: no-cache");\n\t\theader("Cache-Control: no-cache, must-revalidate");\n\t}\n\n}
switch_|switch($1\|) { \n  case 0:\n  break;\n  default:\n  break;\n}
_inidex_|/*\n_each_\n_map_ _collect_\n_reduce_ _inject_ _foldl_\n_reduceRight_ _foldr_\n_pluck_\n_contains_ _includ_\n_invoke_ // Returns a copy of the collection after running functionName across all elements.\n_some_\n_any_\n_every_\n_all_\n_select_ _filter_\n_reject_\n_detect_ _find_\n_size_\n_head_\n_first_\n_tail_\n_rest_\n_initial_\n_last_\n_compact_\n_flatten_\n_without_\n_unique_\n_uniq_\n_intersection_\n_union_\n_difference_\n_indexOf_\n_lastIndexOf_\n_range_\n_zip_\n_max_\n_min_\n_sortBy_\n_groupBy_\n_sortedIndex_\n_shuffle_\n// object\n_toArray_\n_keys_\n_values_\n_extend_\n_defaults_\n_methods_ _functions_\n// utilities\n_tap_\n_has_\n_uniqueId_ // genarate a globally unique ID\n_times_ // repeat n times closure\n_escape_\n_memoize_\n_throttle_ // Throttles a function so that it can only be called once every wait milliseconds.\n// type judging\n_isEqual_\n_isEmpty_\n_isObject_\n_isArray_\n_isString_\n_isNumber_\n_isBoolean_\n_isFunction_\n_isDate_\n_isNaN_\n// less used\n_wrap_\n_compose_\n_clon_\n_once_\n_after_\n// not very useful\n_identity_\n_chain_\n_templateSettings_\n_template_\n*/
captcha_|// * @see https://www.phpcaptcha.org/documentation/quickstart-guide/\n// * jpgrph lib based\nrequire_once "../../jpgraph/jpgraph_antispam.php";\n$spam = new AntiSpam();\n// saved to $chars for later verification of correct entry\n$chars = $spam->Rand(8);\n$spam->Stroke() ;
file_map_|// legge line by line *files grandi* e restituisce un array di dati estratti linea per linea\nfunction file_map(string $path, callable $_map): array{\n    $result = [];\n    $handle = fopen($path, 'r');\n    if ($handle) {\n        while (($line = fgets($handle)) !== false) {\n            // process the line read\n            $r = $_gerp($line);\n            $result[] = $r;\n        }\n        fclose($handle);\n    } else {\n        // error opening the file.\n    }\n    return $result;\n}
SplStack_|$stack = new SplStack();\n$stack->push( $obj );
mail_ini_|// to use the Gmail server you will need edit the "php.ini" file and update the mail settings to something like the following:\nSMTP = ssl://smtp.gmail.com\nsmtp_port = 465\nusername = info@Mmydomainname.com\npassword = myemailpassword\nsendmail_from = info@mydomainname.com
ifne_|if( !empty($1\|) ) {\n}
gz_|gz_compress_\ngz_extract_
array_every_|// all elements passes the test\n$all_are_x = array_every($a_xxx, function($v){ return $v>10; });\n// all elements pass the test $_f\nfunction array_every(array $a, callable $_f):bool {\n    foreach( $a as $k => $v ) {\n        $r = $_f($k,$v);\n        if( !$r ){\n            return false;\n        }\n    }\n    return true;\n}
array_reindex_|//  self::$_a_art_camion_list = \n//  $_array_reindex( self::$a_art_camion_list, $k='codice', $v='id_gruppo' ); \n$_array_reindex = function(array $a_rs, $key_field, $value_field) {\n    $a_result = array();\n    foreach($a_rs as $k=>$a_agent ) {\n        $id = $a_agent[ $key_field ];\n        $descr = $a_agent[ $value_field ];\n        $a_result[$id] = $descr;\n    }\n    return $a_result;\n};\n// versione semplificata\n// resforma da [[a],[b]] a [a=>[],b=>[]]\nfunction array_reindex(array $a_rs, $key_field, $value_field = null) {\n    $a_result = array();\n    foreach ($a_rs as $k => $a_rec) {\n        $id = $a_rec[$key_field];\n        if (!empty($value_field)) {\n            $descr = $a_rec[$value_field];\n            $a_result[$id] = $descr;\n        } else {\n            $a_result[$id] = $a_rec;\n        }\n    }\n    ksort($a_result); //in-place sort!\n    return $a_result;\n}\n\n\n/*\nuso:\n$a_cart_qta = reindex($a_cart_rows, 'article_id', function($rec){\n    return [\n        'article_id' => $rec['article_id'],\n        'qta'        => $rec['qta']\n    ];\n});\n*/\nfunction array_reindex($a_recs, $idx_field, $rec_mapper = null) {\n                    $a_recs_idx = array();\n                    $rec_mapper = ($rec_mapper === null) ? (function($r) {\n                                return $r;\n                        }) : $rec_mapper;\n                    $idx_field_c = $idx_field;\n                    foreach ($a_recs as $i => $rec) {\n                        if (!empty($rec_mapper)) {\n                            $rec = call_user_func($rec_mapper, $rec);\n                        }\n                        $id = "";\n                        if (is_string($idx_field)) {\n                            $id = (string) $rec[$idx_field];\n                        } else {\n                            if (is_callable($idx_field)) {\n                                $id = (string) call_user_func($idx_field_c, $rec);\n                            }\n                        }\n                        $a_recs_idx[$id] = $rec;\n                    }\n                    return $a_recs_idx;\n}\n\n\n\n\n
array_diff_|$array1 = array("a" => "green", "red", "blue", "red");\n$array2 = array("b" => "green", "yellow", "red");\n$result = array_diff($array1, $array2);\n// => ['blue']\n
call_|call_user_func_array_\ncall_user_func_\ncall_ensure_
array_push_first_|// Prepend one or more elements to the beginning of an array\narray_unshift_
array_column_|$a = [['a'=>1],['a'=>3]];\n$a_num = array_column($a, 'a'); // [1,3]  \n
md5file_|file_eq_
agent_|$agent = lower($_SERVER['HTTP_USER_AGENT']);
get_class_vars_|$class_vars = get_class_vars(get_class($this));\nforeach ($class_vars as $name => $value) {\n    echo "$name : ".json_encode($value)."\\n";\n}
year_|date('Y') // 2022\ndate('y') // 22\n$year = function ($date){\n\t// parsing date\n    return $y;\n};\n\n\n
str_pad_|str_pad($s, 5, '_', STR_PAD_LEFT);//no utf8 support\n\nfunction lz_pad( $s,$n ){\n    return str_pad($s, $n, '0', STR_PAD_LEFT);\n}\nfunction rz_pad( $s,$n ){\n    return str_pad($s, $n, '0', STR_PAD_RIGHT);\n}
__reject_|$a_ = __::reject($a_=[1,2,3], function($n) {\n  return $n % 2 === 0; \n});\n
command_|// pattern Command\n// definisce un oggetto operazione, assegna le operazioni a una lista, esegue le operazioni nella lista\ninterface ICommand{\n  public funcion execute();\n}\n \nclass Commnad_1 implements ICommand{}\nclass Commnad_2 implements ICommand{}\n \n \nclass Commander {\n  function __constructor(){\n    // i command possono essere caricati a runtime o seguendo logiche opportune\n    $this->commands = [ new Command_1(), new Command_2() ];\n  }\n \n  // esegue i comandi per aggregare un output complesso\n  function operate(){\n    //  l'output può essere di un tipo qualsiasi, dipende dalla logica corrente\n    $output = '';\n    foreach( $this->command as $c ){\n      $output .= $c->execute();\n    }\n    return $output;\n  }\n}
trim_|$1_t = trim($1, $charlist='.,'); // ltrim  rtrim\n// trim esteso\n        $_trim = function ($id) {\n            $id = trim($id);\n            $id = trim($id, ' ' . chr(194) . chr(160));// toglie acii 160 NBSP\n            $id = preg_replace('/\\s+/', '?', $id); //spazi e simili consecutivi\n            return $id;\n        };\n// trim consecutive spaces\n$_inner_trim = function($s){\n    return $s = preg_replace('/[[:blank:]]+/', ' ', $s );\n};\n\n
input_check_|input_checkbox_
str_repeat_|str_repeat('tmpl',5) // works with utf8
datalist_|<?php\n// rende una text input con una datalist collegata\nfunction select_input($i){\n    if( $i === 0 ){\n        ?>\n<datalist id="material_opt" >\n    <option value="PAP20">Cartone ondulato</option>\n    <option value="PAP21">Cartone non ondulato</option>\n    <option value="FOR50">Paletta legno</option>\n    <option value="PVC3">Sacchetto di plastica pvc</option>\n    <option value="HDPE2">Sacchetto in Polietilene alta densità</option>\n    <option value="LDPE4">Sacchetto in Polietilene bassa densità</option>\n    <option value="PVC3">Film Termoretraibile in pvc</option>\n    <option value="LDPE4">Film Termoretraibile in polietilene</option>\n</datalist>\n        <?php\n    }\n    ?>\n<input type="text"   name="material_text_<?=$i?>" id="material_text_<?=$i?>"  class="input-small" placeholder="Materiale" list="material_opt">\n<input type="hidden" name="material[<?=$i?>]"   id="material_hidden_<?=$i?>">\n<script >\n// When the user selects an option,\n// the browser replaces input.value with the value of the datalist option instead of the innerText.\ndocument.querySelector('#material_text_<?=$i?>').addEventListener('input', function(e) {\n        var input = e.target,\n        list = input.getAttribute('list'),\n        options = document.querySelectorAll('#' + list + ' option[value="'+input.value+'"]'),\n        hiddenInput = document.getElementById("material_hidden_<?=$i?>");\n        //  checks for an option with that value,\n        // pushes that into the hidden field and replaces the input.value with the innerText.\n        if (options.length > 0) {\n            hiddenInput.value = input.value;\n            input.value = input.value; //options[0].innerText;\n        }\n});\n$('#material_text_<?=$i?>').on('change', function(){\n        var val = $(this).val();\n        $('#material_hidden_<?=$i?>').val( val );\n});\n</script>\n<?php\n}
file_extension_|file_ext_
ipc_|msg_get_queue_
[ada]
[yab]
[lua]
[makefile]
[sas]
[rtf]
[ptl]
[gcbasic]
[xsl]
[drawj2d]
[moin]
code_|<code bash>\|</code>
quote_|<quote "">\|</quote>
[bibtex]
[modula3]
[hxml]
[tsp]
[perl]
[swift]
[transact-sql]
[lisp]
[smi-mib]
[actionscript]
[pop11]
[progress]
[ini]
[jamon]
[html]
[go]
foreach_|    for k, v := range pow {\n        fmt.Printf("2**%d = %d\\n", k, v)\n    }
array_add_|array_append_
if_|if v, ok := map[k]; ok { \n    fmt.Println(k, v, " key is present")\n}
str_multiline_|txt := `{"London":18,"Rome":30}`
cast_int_|n, _ := strconv.Atoi(os.Args[1])
type_|interface_\ntypes_
switch_type_|switch e := event.(type) {\n    case subscribeEvent:\n            // code for type\n    case publishEvent:\n            // ...\n    default:\n            panic(fmt.Sprintf("Unknown event type %s", type ))\n}\ntype subscribeEvent struct {\n    messageChan chan<- string\n}\ntype publishEvent struct {\n    message string\n}
str_begins_|import (\n  "fmt"\n  "strings"\n)\n  fmt.Println(strings.HasPrefix("Australia", "Aus"))\n  fmt.Println(strings.HasPrefix("Australia", "aus"))\n  fmt.Println(strings.HasPrefix("Australia", "Jap"))\n  fmt.Println(strings.HasPrefix("Australia", ""))\n
types_|/\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* predefined lang types\nstring\nbool\nint  int8  int16  int32  int64 // Signed integer\nuint uint8 uint16 uint32 uint64 uintptr // Unsigned integers\nbyte // alias for uint8\nrune // alias for int32\nfloat32 float64\ncomplex64 complex128\narray\nslices\nmap\nstruct */
__ENV__|import ( "os" )\n\nos.Environ() // returns []string where each string is in form of FOO=bar, where FOO is the name of environment variable and bar is the value\nos.Getenv("FOO") // returns the value of environment variable.\n\n\n\n        port := "8080"\n        if fromEnv := os.Getenv("PORT"); fromEnv != "" {\n                port = fromEnv\n        }\n        \nhost, _ := os.Hostname()
sprintf_|fmt.Sprintf("foo: %s", bar)
chan_|// Unbuffered channels provide a guarantee between an exchange of data. Buffered channels do not.\n\n// Unbuffered, no capacity to hold any value before it’s received.\nunbuffered := make(chan int)\n// Buffered channel of strings.\nbuffered := make(chan string, 10)\n\n//-----------------------------\nmessageChan chan<- string\nsubs      []chan<- string\np.subs = append( subs,  messageChan)\nfor _, sub := range  subs {\n        sub <- messageChan\n}\n// example 2\n// WriteOnly serves the purpose of demonstrating\n// a method that writes to a write-only channel.\nfunc WriteOnly(channel chan<- int, order int) {\n\tchannel <- order\n}\nfunc main() {\n\tvar ints []int\n\tchannel := make(chan int, 10)\n\tfor i := 0; i < 10; i++ {\n\t\tgo WriteOnly(channel, i)\n\t}\n\tfor i := range channel {\n\t\tints = append(ints, i)\n\t\tif len(ints) == 10 {\n\t\t\tbreak\n\t\t}\n\t}\n\tfmt.Printf("Ints %v", ints)\n}\n\n\n
lambda_|closure_
cast_interface_|// from variant to types\nvar data map[string]interface{}\ntemp := data["temperature"].(float64)\ncity := data["city"].(string)
argv_|// import os\nif len(os.Args) != 2 {\n    fmt.Fprintf(os.Stderr, "Usage: %s URL\\n", os.Args[0])\n    n, _ := strconv.Atoi(os.Args[1])\n    // os.Exit(1)\n} else {\n    // url := os.Args[1]\n}\n\n// import "flag"\nflag.Parse() \nif flag.NArg() == 1 {\n    n, _ = strconv.Atoi(flag.Arg(0))\n}\narg := flag.Arg(0) // get 1st argument\n\n
slice_|s := []int{1, 2, 3, 4, 5}\n// NOTA: slice normale s[2:4], usa un pointer, non è value type, se viene modificata, modifica l'array puntato\ns2 := append([]int{}, s[2:4]...) // copia di un slice values\n\n    
for_|for i := 0; i < len(p); i++ {\n    fmt.Printf("p[%d] == %d\\n", i, p[i])\n}
array_|a_int := []int{1,2,3}\na_str := [2]string{"hello", "world"}\n// or more verbose\nvar a_str [2]string\na_str[0] = "Hello"\na_str[1] = "World"\n
getenv_|gopath := os.Getenv("GOPATH")\nfmt.Printf("[%s/bin]\\n", gopath)
time_|import "time"\ns_time := time.Now().Unix() // eq. time() \nt0 := time.Now()\nfmt.Println("Unix format:", t0.Format(time.UnixDate))\n// time diff\n\telapsed := time.Since(t0)\n\tfmt.Printf("Took %s", elapsed)\n\n\n
file_remove_|file_delete_
call_|// @see exec_\n\n// function call\ntype formatter func(s string) string\nfunc format(s string, fmtrs ...formatter) string {\n  for _, fmtr := range fmtrs {\n    s = fmtr(s)\n  }\n  return s\n}\nformat(" alan turing ", trim, last, strings.ToUpper)\n
f__|var f = func() {\n    fmt.Println("Dress up for the masquerade.")\n}\n// func_
include_|import_
net_get_json_|package main\nimport (\n\t"encoding/json"\n\t"fmt"\n\t"net/http"\n\t"net/url"\n)\nconst apiURL = "https://api.stackexchange.com/2.2/posts?"\n// Structs for JSON decoding\ntype postItem struct {\n\tScore int\n\t`json:"score"`\n\tLink string `json:"link"`\n}\ntype postsType struct {\n\tItems []postItem `json:"items"`\n}\nfunc main() {\n\t// Set URL parameters on declaration\n\tvalues := url.Values{\n\t\t"order": []string{"desc"},\n\t\t"sort": []string{"activity"},\n\t\t"site": []string{"stackoverflow"},\n\t}\n\t// URL parameters can also be programmatically set\n\tvalues.Set("page", "1")\n\tvalues.Set("pagesize", "10")\n\tresp, err := http.Get(apiURL + values.Encode())\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\tdefer resp.Body.Close()\n\t// To compare status codes, you should always use the status constants\n\t// provided by the http package.\n\tif resp.StatusCode != http.StatusOK {\n\t\tpanic("Request was not OK: " + resp.Status)\n\t}\n\t// Example of JSON decoding on a reader.\n\tdec := json.NewDecoder(resp.Body)\n\tvar p postsType\n\terr = dec.Decode(&p)\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\tfmt.Println("Top 10 most recently active StackOverflow posts:")\n\tfmt.Println("Score", "Link")\n\tfor _, post := range p.Items {\n\t\tfmt.Println(post.Score, post.Link)\n\t}\n}
md5_|//import "crypto/md5"\nhash := md5.New()\nio.WriteString(hash, my_str)  // append into the hash\nfmt.Printf("%x", hash.Sum(nil)) // get the hash\n// @see crypto_
main_gorilla_|// routes.go\npackage main\nimport (\n\t"fmt"\n\t"net/http"\n\t"github.com/gorilla/mux"\n)\nfunc main() {\n\tuserAges := map[string]int{\n\t\t"Alice":  25,\n\t\t"Bob":    30,\n\t\t"Claire": 29,\n\t}\n\tr := mux.NewRouter()\n\tr.HandleFunc("/users/{name}", func(w http.ResponseWriter, r *http.Request) {\n\t\tvars := mux.Vars(r)\n\t\tname := vars["name"]\n\t\tage := userAges[name]\n\t\tfmt.Fprintf(w, "%s is %d years old!", name, age)\n\t}).Methods("GET")\n\thttp.ListenAndServe(":8080", r)\n}\n// go run routes.go\n// curl -s http://localhost:8080/users/Bob\n
file_exists_|// import os\nfile := "file.txt"\nif _, err := os.Stat(file); err == nil {\n    fmt.Println(file, "exist!")\n}\n\n// exists returns whether the given file or directory exists or not\nfunc file_exists(path string) (bool, error) {\n\t_, err := os.Stat(path)\n\tif err == nil {\n\t\treturn true, nil\n\t}\n\tif os.IsNotExist(err) {\n\t\treturn false, nil\n\t}\n\treturn false, err\n}
parse_bool_|str_conv_
array_assoc_|map_
net_get_|import(\n    "log"\n    "net/http"\n    "io/ioutil" )\n// to download a page \nfunc http_get( url string) {\n    resp, err := http.Get(url) // ensure the browsers can access it\n    if err != nil {\n        log.Fatalf("http.Get => %v", err.Error())\n    }\n    defer resp.Body.Close()\n    body, err2 := ioutil.ReadAll(resp.Body)\n    fmt.Printf("\\n%v\\n\\n", string(body) )\n}\n// download binary file\nfunc download_file(URL string) ([]byte, error) {\n\tresponse, err := http.Get(URL)\n\tif err != nil {\n\t\treturn nil, err\n\t}\n        defer response.Body.Close()\n\tif response.StatusCode != http.StatusOK {\n\t\treturn nil, errors.New(response.Status)\n\t}\n\tvar data bytes.Buffer\n\t_, err = io.Copy(&data, response.Body)\n\tif err != nil {\n\t\treturn nil, err\n\t}\n\treturn data.Bytes(), nil\n} \n// download multiple files\nfunc downloadMultipleFiles(urls []string) ([][]byte, error) {\n\tdone := make(chan []byte, len(urls))\n\terrch := make(chan error, len(urls))\n\tfor _, URL := range urls {\n\t\tgo func(URL string) {\n\t\t\tbuf, err := download_file(URL)\n\t\t\tif err != nil {\n\t\t\t\terrch <- err\n\t\t\t\tdone <- nil\n\t\t\t\treturn\n\t\t\t}\n\t\t\tdone <- buf\n\t\t\terrch <- nil\n\t\t}(URL)\n\t}\n\tbytesArray := make([][]byte, 0)\n\tvar errStr string\n\tfor i := 0; i < len(urls); i++ {\n\t\tbytesArray = append(bytesArray, <-done)\n\t\tif err := <-errch; err != nil {\n\t\t\terrStr = errStr + " " + err.Error()\n\t\t}\n\t}\n\tvar err error\n\tif errStr != "" {\n\t\terr = errors.New(errStr)\n\t}\n\treturn bytesArray, err\n} \n\n
str_concatenation_|"a"+"b"\nstr += "a";\n \n\nimport (\t"bytes"\t"strings")\n// simplest, slowest\n\tvar str string\n\tfor n := 0; n < b.N; n++ {\n\t\tstr += "x"\n\t}\n// fast, bytes\n\tvar buffer bytes.Buffer\n\tfor n := 0; n < b.N; n++ {\n\t\tbuffer.WriteString("x")\n\t}\n// fast, strings\n\tvar builder strings.Builder\n\tfor n := 0; n < b.N; n++ {\n\t\tbuilder.WriteString("x")\n\t}\n
cache_mem_|func Memoize(fn func(int) int) func(int) int {\n    cache := make(map[int]int)\n    return func(n int) int {\n        if v, ok := cache[n]; ok {\n            return v\n        }\n        cache[n] = fn(n)\n        return cache[n]\n    }\n}
str_compare_|import (\n  "fmt"\n  "strings"\n)\n// It returns output either greater than zero, less than zero or equal to zero. If string 1 is greater than string 2 then it returns greater than zero. If string 1 is less than string 2 then it returns less than zero. It returns zero, if the strings are equal.\n  fmt.Println(strings.Compare("A", "B"))  // A < B\n  fmt.Println(strings.Compare("B", "A"))  // B > A  \n  fmt.Println(strings.Compare("Japan", "Australia"))  // J > A\n  fmt.Println(strings.Compare("Australia", "Japan"))  // A < J\n  fmt.Println(strings.Compare("Germany", "Germany"))  // G == G\n  fmt.Println(strings.Compare("Germany", "GERMANY"))  // GERMANY > Germany\n  fmt.Println(strings.Compare("", ""))\n  fmt.Println(strings.Compare("", " ")) // Space is less\n// the best approach:\n  fmt.Println(strings.EqualFold("HELLO", "hello")) // true\n  fmt.Println(strings.EqualFold("ÑOÑO", "ñoño"))   // true\n\n
str_contains_|import (\n    "fmt"\n    "strings"\n)\n    fmt.Println(strings.Contains("Australia", "Aus"))   // Any part of string\n    fmt.Println(strings.Contains("Australia", "Australian")) \n    fmt.Println(strings.Contains("Japan", "JAPAN")) // Case sensitive\n    fmt.Println(strings.Contains("Japan", "JAP")) // Case sensitive\n    fmt.Println(strings.Contains("Become inspired to travel to Australia.", "Australia"))\n    fmt.Println(strings.Contains("", ""))\n    fmt.Println(strings.Contains("  ", " ")) // space also consider as string\n    fmt.Println(strings.Contains("12554", "1")) \n\nfunc CaseInsensitiveContains(s, substr string) bool {\n    s, substr = strings.ToUpper(s), strings.ToUpper(substr)\n    return strings.Contains(s, substr)\n}\n  \n
float_to_string_|// import strconv\nstr := strconv.FormatFloat(12342323.234232, 'f', 6, 64)
rand_str_|import  "math/rand" \n// 64 letters\nconst letters = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz+/"\nfunc random_string(n int) string {\n\tbytes []byte := make([]byte, n)\n\t_, err := rand.Read(bytes)\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\tfor i, b := range bytes {\n            bytes[i] = letters[b%64]\n\t}\n\treturn string(bytes)\n}\nstr := random_string(16)\n \n\n
scanf_|/* Scanf scans text read from standard input, storing successive space-separated values\ninto successive arguments as determined by the format. It returns the number of items\nsuccessfully scanned. If that is less than the number of arguments, err will report why.\nNewlines in the input must match newlines in the format. The one exception: the verb\n%c always scans the next rune in the input, even if it is a space (or tab etc.) or newline. */\n# Read integer\nvar i int\nfmt.Scanf("%d", &i)\n# Read string\nvar str string\nfmt.Scanf("%s", &str)\n\n\n# Read integer\nvar i int\nfmt.Scan(&i)\n# Read string\nvar str string\nfmt.Scan(&str)\n\n\n# Sscanln is similar to Sscan, but stops scanning at a newline and after the final item\n# there must be a newline or EOF.\n# Read string\nvar input string\nfmt.Scanln(&input)\n\n\n
substr_count_|str_contains_any_
ajax_|// ajax call example:\n// 1) endode the json of the API:\n// curl -s https://your.service.endpoint | gojson -name=Address\ntype Address struct {\n\tCode    int  `json:"code"`\n\tSuccess bool `json:"success"`\n\tData    struct {\n\t\tID       string `json:"id"`\n\t\tSubnetID string `json:"subnetId"`\n\t\tIP       string `json:"ip"`\n\t\tHostname string `json:"hostname"`\n\t} `json:"data"`\n\tMessage string `json:"message"`\n}\n\n// returns Address struct and error\nfunc (c *MyClientClass) GetJSON(url_and_params string) (Address, error) {\n\tvar data Address // struct to hydrate\n\treq, _ := http.NewRequest("GET", url_and_params, nil)\n\n        // req.Header.Add("token", c.Token)\n\tresp, err := client.Do(req)\n\tif err != nil {\n\t\treturn data, err\n\t}\n\tbody, err = ioutil.ReadAll(resp.Body)\n\tif err != nil {\n\t\treturn data, err\n\t}\n\terr = json.Unmarshal([]byte(body), &data)\n\tif err != nil {\n\t\treturn data, err\n\t}\n        // others data checkes\n\tif data.Code == 200 || data.Code == 404 {\n\t    // ok\n\t} else {\n\t    return data, errors.New(data.Message)\n\t}\n\treturn data, nil\n}\n\n\n
auth_|package main\n\nimport (\n\t"encoding/base64"\n\t"net/http"\n\t"strings"\n)\n\nfunc checkAuth(w http.ResponseWriter, r *http.Request) bool {\n\ts := strings.SplitN(r.Header.Get("Authorization"), " ", 2)\n\tif len(s) != 2 { return false }\n\n\tb, err := base64.StdEncoding.DecodeString(s[1])\n\tif err != nil { return false }\n\n\tpair := strings.SplitN(string(b), ":", 2)\n\tif len(pair) != 2 { return false }\n\n\treturn pair[0] == "user" && pair[1] == "pass"\n}\n\nfunc main() {\n\thttp.HandleFunc("/", func(w http.ResponseWriter, r *http.Request) {\n\t\tif checkAuth(w, r) {\n\t\t\tw.Write([]byte("HAI!"))\n\t\t\t// myOriginalHandler.ServeHTTP(w, r)\n\t\t\treturn\n\t\t}\n\n\t\tw.Header().Set("WWW-Authenticate", `Basic realm="MY REALM"`)\n\t\tw.WriteHeader(401)\n\t\tw.Write([]byte("401 Unauthorized\\n"))\n\t})\n\n\thttp.ListenAndServe(":2424", nil)\n}
log_file_|import (\n    "log"      \n)\n\n\n// example 1\n    f, err := os.OpenFile("testfile.log", os.O_RDWR | os.O_CREATE | os.O_APPEND, 0666)\n    if err != nil {\n        fmt.Printf( "error opening file: %v", err)\n    }\n    defer f.Close()\n    log.SetOutput(f)\n    log.Println("This is a test log entry")\n\n\n// example 2\nfunc init(){\n    log.SetPrefix("LOG: ")\n    log.SetFlags(log.Ldate | log.Lmicroseconds | log.Llongfile)\n    log.Println("init started")\n}\nfunc main() {\n// Println writes to the standard logger.\n    log.Println("main started")\n \n// Fatalln is Println() followed by a call to os.Exit(1)\n    log.Fatalln("fatal message")\n \n// Panicln is Println() followed by a call to panic()\n    log.Panicln("panic message")\n}
iota_|const (\n    zero = iota // 0 => starts numbering in the current block\n    one // 1\n    two = iota // 2\n)
json_encode_|import "encoding/json"\n// basic encoding\nval := map[string]string{"foo":"foo", "bar":"bar"}\ndata, err := json.Marshal(val)\nif err != nil {\n    panic(err)\n}\n// print out the JSON-encoded string\n// remember that data is a []byte\nfmt.Println(string(data))\n// "["foo","bar"]"\n// ecoding simple values\nvar data []byte\ndata, _ = json.Marshal(1)\nfmt.Println(string(data))\n// 1\ndata, _ = json.Marshal("1")\nfmt.Println(string(data))\n// "1"\ndata, _ = json.Marshal(true)\nfmt.Println(string(data))\n// true\ndata, _ = json.Marshal(map[string]int{"London": 18, "Rome": 30})\nfmt.Println(string(data))\n// {"London":18,"Rome":30}\n//-------- encode structures\ntype User struct {\n    Firstname string `json:"firstname"`\n    Lastname  string `json:"lastname"`\n    Age       int    `json:"age"`\n    Rows     []TRow  `json:"rows"`\n}\ntype TRow struct {\n    Title    string  `json:"title"`\n    Pages    int     `json:"num_pages"`\n    // Chapters []string `json:"chapters"`\n}\n// \npeter := User{\n    Firstname: "John",\n    Lastname:  "Doe",\n    Age:       25,\n}\npeter.Rows = make([]TRow, 0)\npeter.Rows = append(peter.Rows, TRow{Title: "title", Pages: 5} )\npeter.Rows = append(peter.Rows, TRow{Title: "title2", Pages: 25} )\n// encode the value\nb_json, err := json.Marshal( peter )\nif err != nil {\n    panic(err)\n}\n// print out the JSON-encoded string, remember that data is a []byte\nfmt.Println(string(b_json))\n\n
__FILE__|// import os\nos.Getenv("GOFILE")
log_|log.Fatal("$USER not set")
profile_|import "time"\nstart := time.Now()\nfmt.Println(time.Since(start))\n\n
strpos_|str_pos_
func_|function_
cast_str_|s_in := string(data)
base64_|import (\n\t"encoding/base64"\n\t"math/rand"\n\t"testing"\n)\n\nfunc BenchmarkEncode(b *testing.B) {\n\tdata := make([]byte, 1024)\n\trand.Read(data)\n\n\tb.ResetTimer()\n\tfor n := 0; n < b.N; n++ {\n\t\tbase64.StdEncoding.EncodeToString([]byte(data))\n\t}\n}\n\nfunc BenchmarkDecode(b *testing.B) {\n\tdata := make([]byte, 1024)\n\trand.Read(data)\n\tencoded := base64.StdEncoding.EncodeToString([]byte(data))\n\n\tb.ResetTimer()\n\tfor n := 0; n < b.N; n++ {\n\t\t_, err := base64.StdEncoding.DecodeString(encoded)\n\t\tif err != nil {\n\t\t\tpanic(err)\n\t\t}\n\t}\n}
h_|map_
sleep_|    // source := rand.NewSource(time.Now().UnixNano())\n    // random := rand.New(source)\n    // duration := time.Duration(random.Intn(150)) * time.Millisecond\n    time.Sleep(duration)
date_|import "time"\nfmt.Println(time.Now().Format("2/1/2006 at 3:04pm"))\nfmt.Println(time.Now().Format("Mon, Jan 2, 2006 at 3:04pm"))\nfmt.Println(time.Now().Format("Monday at 3:04pm"))\n
array_key_exists_|urls = map[string]string;\nif _, present := urls[key]; present {\n   // present\n} else {\n   // not present\n}
args_|func myadd(args ...int) int {\n    total := 0\n    for _, v := range args {\n        total += v\n    }\n    return total\n}
define_|const Greeting string = "Hello World"\nconst Years int = 10\nconst Truth bool = true
json_|// json.go\npackage main\n\nimport (\n\t"encoding/json"\n\t"fmt"\n\t"net/http"\n)\n\ntype User struct {\n\tFirstname string `json:"firstname"`\n\tLastname  string `json:"lastname"`\n\tAge       int    `json:"age"`\n}\n\nfunc main() {\n\thttp.HandleFunc("/decode", func(w http.ResponseWriter, r *http.Request) {\n\t\tvar user User\n\t\tjson.NewDecoder(r.Body).Decode(&user)\n\n\t\tfmt.Fprintf(w, "%s %s is %d years old!", user.Firstname, user.Lastname, user.Age)\n\t})\n\n\thttp.HandleFunc("/encode", func(w http.ResponseWriter, r *http.Request) {\n\t\tpeter := User{\n\t\t\tFirstname: "John",\n\t\t\tLastname:  "Doe",\n\t\t\tAge:       25,\n\t\t}\n\n\t\tjson.NewEncoder(w).Encode(peter)\n\t})\n\n\thttp.ListenAndServe(":8080", nil)\n}\n/*\n$ go run json.go\n$ curl -s -XPOST -d'{"firstname":"Donald","lastname":"Trump","age":70}' http://localhost:8080/decode\nDonald Trump is 70 years old!\n$ curl -s http://localhost:8080/encode\n{"firstname":"John","lastname":"Doe","age":25}\n*/\n\n// ajax_
mysql_|package main\n\nimport (\n\t"database/sql"\n\t"time"\n\t_ "github.com/go-sql-driver/mysql"\n\t"log"\n\t"fmt"\n)\n\n/*type mysql struct {\n\tdbo sql.DB\n}*/\n\nfunc main() {\n\tstart := time.Now()\n\tdb,e := sql.Open("mysql","root:root@/test?charset=utf8")\n\terr(e)\n\n\t/*\n\t * empty your database before insert\n\t */\n\n\t/*\n\t * uncomment below methods for insert, select, update for each cycle\n\t */\n\n\t/*\n\t * send no of rows\n\t */\n\t//u := insert(db,1000000)\n\t//u := update(db,"test")\n\t//u := del(db)\n\n\t//log.Printf("\\t%d\\t%s\\n",u,time.Since(start))\n\n\to := find(db)\n\n\tlog.Printf("\\t%d\\t%s\\n",o,time.Since(start))\n}\n\nfunc insert(db *sql.DB,n int) int64{\n\ts,e := db.Prepare("insert userinfo set username=?,departname=?,created=?")\n\terr(e)\n\n\tvar u int64\n\tfor i:=0;i<n; i++ {\n\t\tr, e := s.Exec("reoxey", "Web", time.Now())\n\t\terr(e)\n\t\ti,e := r.LastInsertId()\n\t\terr(e)\n\n\t\tu = i\n\t}\n\treturn u\n}\n\nfunc update(db *sql.DB,d string) int64{\n\ts,e := db.Prepare("update userinfo set username=?,departname=? where uid <=1")\n\terr(e)\n\n\tr,e := s.Exec(d,d)\n\terr(e)\n\n\tu,e := r.RowsAffected()\n\terr(e)\n\n\treturn u\n}\n\nfunc find(db *sql.DB)  int64{\n\ts,e := db.Query("select * from userinfo where 1")\n\terr(e)\n\n\tvar u int64\n\tu = 0\n\tfor s.Next(){\n\t\tvar uid int\n\t\tvar usn string\n\t\tvar dpt string\n\t\tvar time string\n\t\ts.Scan(&uid,&usn,&dpt,&time)\n\t\tfmt.Print(uid)\n\t\tfmt.Print(" ",usn)\n\t\tfmt.Print(" ",dpt)\n\t\tfmt.Println(" ",time)\n\t\tu++\n\t}\n\treturn  u\n}\n\nfunc del(db *sql.DB)  int64{\n\ts,e := db.Prepare("delete from userinfo")\n\terr(e)\n\tr,e := s.Exec()\n\terr(e)\n\n\tu,e := r.RowsAffected()\n\terr(e)\n\n\treturn u\n}\n\nfunc err(e error)  {\n\tif e != nil {\n\t\tpanic(e)\n\t}\n}
array_int_|array := [...]int{7, 8, 9}\n\nk := make([]int, 0)\nk = append(k, x)\n\t \n
err_|if err != nil { panic(err) }
make_|//for slices, maps and channels: use make, initilize to zero\n//for arrays, structs and all value types: use new\nvar v  []int = make([]int, 100) // slice int inizializzata a 0 di 100 elementi
func_get_args_|// toFullname("carl", "sagan")\nfunc toFullname(name_list ...string) string {\n  return strings.Join(name_list, " ")\n}\n// undefined type\n\nfunc Println(var_list ...interface{})\nfmt.Println([]interface{}{"hello", "world"})\n\nvar_list := []string{"hi", "hello", "merhaba"}\n// a string slice, not an empty-interface slice. A variadic param or a slice can only be of one type.\n// conversion:\nvar ihellos []interface{} = make([]interface{}, len(hello))\nfor i, hello := range hellos {\n  ihellos[i] = hello\n}\nfmt.Println(ihellos...)\n\n\n// mixing fixed+variadic params\nfunc toFullname(id int, names ...string) string {\n  return fmt.Sprintf("#%02d: %s", id, strings.Join(names, " "))\n}\ntoFullname(1, "carl", "sagan")\n\n\n// variadic function example\nfunc variadic_exp(prefix string, worlds ...string) {\n\tfor i := range worlds {\n\t}\t \n}\ntwoWorlds := variadic_exp("New", "Venus", "Mars")\n\n
ife_|if value, err := pack1.Func1(param1); err != nil {\n    return doSomethingWith(v), nil\n} else {\n    return nil, err\n}
wait_group_|sync_waitgroup_
closure_|// \n_less := func(i, j int) bool {    \n    return len(people[i]) < len(people[j])\n}\n// use\npeople := []string{"Alice", "Bob", "Dave"}\nsort.Slice(people, _less)\n\n// reference to  values:\n// NewCounter returns a function Count.\n// Count prints the number of times it has been invoked.\nfunc NewCounter() (Count func()) {\n\tn := 0\n\treturn func() {\n\t\tn++\n\t\tfmt.Println(n)\n\t}\n}\n\nfunc main() {\n\tcounter := NewCounter()\n\totherCounter := NewCounter()\n\n\tcounter()      // 1\n\tcounter()      // 2 <- each invocation shares memmory!\n\tcounter()      // 3\n\totherCounter() // 1 (different n)\n\totherCounter() // 2\n\tcounter()      // 4\n}\n
_GET_|R http.Request\nstr := R.URL.Query().Get("k");
echo_buffered_|\n    n, _ := strconv.Atoi(os.Args[1])\n    w := bufio.NewWriter(os.Stdout)\n    defer w.Flush()\n    for i := 0; i < n; i++ { \n        str := "hello world"\n        w.Write([]byte( str ))\n    }\n
file_get_contents_|// import "io/ioutil"\n// import("bufio", "fmt", "log", "os")\nfile, err := ioutil.ReadFile("testfile.txt")\nif err != nil {\n    fmt.Println(err)\n    return\n}\n// out the file content\nfmt.Println(string(file))\n\n// v2 ----------------------------------------\nfunc file_get_contents(file_path string) string {\n    file, err := os.Open(file_path)\n    if err != nil {\n        fmt.Println(err)\n        return ""\n    }\n    defer file.Close()\n    fileinfo, err := file.Stat()\n    if err != nil {\n        fmt.Println(err)\n        return ""\n    }\n    filesize := fileinfo.Size()\n    buffer := make([]byte, filesize)\n    // bytesread, err := file.Read(buffer)\n    if err != nil {\n        fmt.Println(err)\n        return ""\n    }\n    //fmt.Println("bytes read: ", bytesread)\n    //fmt.Println("bytestream to string: ", string(buffer))\n    return string(buffer)\n}\n//\nfunc get_file_contents_slice(file_path string) string {\n    file, err := os.Open(file_path, os.O_RDWR, 0644)\n    if err != nil {\n        fmt.Println(err)\n        return ""\n    }\n    defer file.Close()\n    buffer := make([]byte, 1024)\n    str := ""\n    for {\n        bytesread, err := file.Read(buffer)\n        if err != nil {\n            if err != io.EOF {\n                fmt.Println(err)\n            }\n            break\n        }\n        // fmt.Println("bytes read: ", bytesread)\n        line := string(buffer[:bytesread])\n        // fmt.Println("bytestream to string: ", mystr)\n        str += line\n    }\n    return str\n}\n// leggi file line per linea\n// uso:    file_get_lines("/home/taz/Dropbox/documenti/CV/lista_lavori.html", func( line string){ fmt.Println( line ) } )\n// leggi file line per linea\nfunc file_get_lines(file_path string, f_processor func(string) )  {\n    file, err := os.Open( file_path )\n    if err != nil {\n        log.Fatal(err)\n    }\n    defer file.Close()\n    scanner := bufio.NewScanner(file)\n    for scanner.Scan() {\n        line := scanner.Text()\n        // fmt.Println( line )\n        f_processor( line )\n    }\n    if err := scanner.Err(); err != nil {\n        log.Fatal(err)\n    }\n}\n// net_get_\n\n\n\n
exit_|os.Exit(code) // 0 ok, 1 errro
struct_|type Circle struct {\n  x, y, r float64\n  urls  map[string]string\n}\nc := new(Circle)\nc := Circle{x: 0, y: 0, r: 5}\nfmt.Println(c.x, c.y, c.r)\n\n// v2\ntype Book struct {\n\tTitle    string   `json:"title"`\n\tAuthor   string   `json:"author"`\n\tPages    int      `json:"num_pages"`\n\tChapters []string `json:"chapters"`\n}\n\nvar book *Book = &Book{\n\tTitle:    "The Art of Computer Programming, Vol. 3",\n\tAuthor:   "Donald E. Knuth",\n\tPages:    800,\n\tChapters: []string{"Sorting", "Searching"},\n}\n\n
main_net_server_|package main\n\nimport "net/http"\n\nfunc main() {\n    http.HandleFunc("/", hello)\n    http.ListenAndServe(":8080", nil)\n}\n\nfunc hello(w http.ResponseWriter, r *http.Request) {\n    w.Write([]byte("hello!"))\n}\n
array_push_|array_append_
http_get_|net_get_
require_|import_\npackage_
main_webserver_|// $ go run hello-world.go\n// $ curl -s http://localhost:8080/\n// file hello-world.go \npackage main\n\nimport (\n\t"fmt"\n\t"net/http"\n)\n\nconst AddForm = `\n<form method="POST" action="/add">\nURL: <input type="text" name="url">\n<input type="submit" value="Add">\n</form>\n`\nvar store = NewURLStore()\n\nfunc main() {\n\thttp.HandleFunc("/", Redirect)\n\thttp.HandleFunc("/add", Add)\n\thttp.HandleFunc("/help", func(w http.ResponseWriter, r *http.Request) {\n\t\tfmt.Fprintln(w, "hello world")\n\t})\n\thttp.ListenAndServe(":8080", nil)\n}\n\nfunc Redirect(w http.ResponseWriter, r *http.Request) {\n\tkey := r.URL.Path[1:]\n\turl := store.Get(key)\n\tif url == "" {\n\t\thttp.NotFound(w, r)\n\t\treturn\n\t}\n\thttp.Redirect(w, r, url, http.StatusFound)\n}\n\n\nfunc Add(w http.ResponseWriter, r *http.Request) {\n\turl := r.FormValue("url")\n\tif url == "" {\n\t\tfmt.Fprint(w, AddForm)\n\t\treturn\n\t}\n\tkey := store.Put(url)\n\tfmt.Fprintf(w, "http://localhost:8080/%s", key)\n}\|/* minimal implementation\npackage main\nimport (\n\t"fmt"\n\t"net/http"\n)\nfunc main() {\n\thttp.HandleFunc("/", func(w http.ResponseWriter, r *http.Request) {\n\t\tfmt.Fprintln(w, "hello world")\n\t})\n\thttp.ListenAndServe(":8080", nil)\n}\n*/
extend_|type Engine interface {\n  Refill()\n}\ntype Body interface {\n  Load()\n}\n// compose interfaces:\ntype Vehicle struct {\n  Engine\n  Body\n}
trim_|str_trim_
file_open_|w, err := os.Create("output.txt")\nif err != nil {\n    panic(err)\n}\ndefer w.Close()
str_replace_|// import stings\nstr := strings.Replace(my_str, " ", "", -1)\n\n    fmt.Println(strings.Replace("Australia Japan Canada Indiana", "an", "anese", 0))\n    fmt.Println(strings.Replace("Australia Japan Canada Indiana", "an", "anese", 1))\n    fmt.Println(strings.Replace("Australia Japan Canada Indiana", "an", "anese", 2))\n    fmt.Println(strings.Replace("Australia Japan Canada Indiana", "an", "anese", -1))\n    fmt.Println(strings.Replace("1234534232132", "1", "0", -1))\n    // case-sensitive\n    fmt.Println(strings.Replace("Australia Japan Canada Indiana", "AN", "anese", -1))\n
hash_|map_
isset_|cities := map[string]string{"city1": "New York", "city2": "Portland"}\n// ok is boolean\nvalue, ok := cities["city2"] // return value if found or ok=false if not found\nif ok {\n    fmt.Println("value: ", value)\n} else {\n    fmt.Println("key not found")\n}
file_put_contents_|// import os\n\n//\nfunc file_put_contents(path string, a_str []string) (bool, error) {\n    // open file using READ & WRITE permission\n    var file, err = os.OpenFile(path, os.O_RDWR, 0644) // os.O_APPEND|os.O_WRONLY\n    if isError(err) {\n        // always return value and an error\n        return false, fmt.Errorf("not written: %s", path)\n    }\n    defer file.Close()\n    // write some text line-by-line to file\n    for i := 0; i < len(a_str); i++ {\n        // fmt.Printf("p[%d] == %d\\n", i, a_str[i])\n        _, err = file.WriteString(a_str[i])\n        if isError(err) {\n            return false, fmt.Errorf("not written: %s %s", path, i)\n        }\n    }\n    // save changes\n    err = file.Sync()\n    if isError(err) {\n        // always return value and an error\n        return false, fmt.Errorf("not written: %s", path)\n    }\n    return true, nil\n}\n// example\n    file_path = path.Join(root, "build", "test.txt")\n    a_str := []string{"1,2,3\\n", "test test golang\\n"}\n    file_put_contents(file_path, a_str)\n\n// alternative\n        byts := // data to be written\n\tif err := ioutil.WriteFile(file_path, byts, 0644); err != nil {\n\t\treturn err\n\t}\n
switch_|    // switch\n    switch os := runtime.GOOS; os {\n    case "darwin":\n        fmt.Println("OS X.")\n    case "linux":\n        fmt.Println("Linux.")\n    default:\n        fmt.Printf("%s.", os)\n    }
file_delete_|var err = os.Remove(path)\nif err != nil {\n    fmt.Println(err.Error())\n    // return\n}
mapi_|imap := map[string]int{\n    "a": 1,\n    "b": 2,\n}
rand_|// import "math/rand" "time"\nrand.Seed(time.Now().UnixNano())\ni_rand := rand.Intn(1e9)\ni_rand := rand.Intn(max_int)\nfmt.Println( rand.Intn(100) )\n\n// \nfunc _rand(max){\n    source := rand.NewSource(time.Now().UnixNano())\n    random := rand.New(source)\n    i  := random.Intn( max )\n    return i\n}\n\n\n// crypto rand, secure but slower rand implementation\nimport (\n\tcrand "crypto/rand"\n\t"math/big"\n\t"math/rand"\n\t"testing"\n)\nrand.Int63()\n_, err := crand.Int(crand.Reader, big.NewInt(27))\nif err != nil {\n    panic(err)\n}\n \n
array_string_|as_ := [...]string{"7", "8","9"}
memoize_|cache_mem_
new_|//for arrays, structs and all value types: returns pinter\nvar f File = new(File)\nvehicle := Vehicle{ Engine: PetrolEngine{}, Body: TruckBody{} }
method_|func (f *fakeFetcher) Fetch(url string) (body string, urls []string, error) {\n    res, ok := some_method_call();\n    if ok {\n        return res.body, res.urls, nil\n    }\n    return "", nil, fmt.Errorf("not found: %s", url)\n}
printf_|fmt.Printf("%s \\n", str )
import_|import (\n  "encoding/json"\n  "fmt"\n  "log"\n)\n// std lib:\n// "net/http"\n// "io/ioutils"\n// "strings"\n// "os"\n// "io"\n// "time"\n// "testing"\n// "bytes"\n// "errors"\n// @see https://golang.org/pkg/\n\n/* local packages:\n// @see https://golang.org/doc/code.html#Organization\n// Go starting path for import is $GOPATH/src => $HOME/go/src\n// in $GOPATH/src/api_client/main.go\nimport (\n    "lib/myservice"   //=> $GOPATH/src/lib/commonmyservice/myservice.go\n    // or\n    "api_client/myservice" //=> $GOPATH/src/api_client/myservice/myservice.go\n)\n*/\n\n\n
struct_anonimous_|data := struct {Number int; Text string}{42, "Hello world!"} 
template2_|import (\n\t"io/ioutil"\n\t"testing"\n\t"text/template"\n)\n\nvar bookTemplate string = `\nTitle: {{.Title}},\nAuthor: {{.Author}}\n{{ if .Pages}}\nNumber of pages: {{ .Pages }}.\n{{ end }}\n{{ range .Chapters }}\n{{ . }}, \n{{ end }}\n`\n\ntype Book struct {\n\tTitle    string   `json:"title"`\n\tAuthor   string   `json:"author"`\n\tPages    int      `json:"num_pages"`\n\tChapters []string `json:"chapters"`\n}\n\nvar book *Book = &Book{\n\tTitle:    "The Art of Computer Programming, Vol. 3",\n\tAuthor:   "Donald E. Knuth",\n\tPages:    800,\n\tChapters: []string{"Sorting", "Searching"},\n}\n \nt := template.Must(template.New("book").Parse(bookTemplate))\nerr := t.Execute(ioutil.Discard, book)\nif err != nil {\n    panic(err)\n}\n
ifer_|if err != nil { return nil, err; }
main_web_form_|// forms.go\npackage main\n\nimport (\n\t"html/template"\n\t"net/http"\n)\n\ntype ContactDetails struct {\n\tEmail   string\n\tSubject string\n\tMessage string\n}\n\nfunc main() {\n\ttmpl := template.Must(template.ParseFiles("forms.html"))\n\n\thttp.HandleFunc("/", func(w http.ResponseWriter, r *http.Request) {\n\t\tif r.Method != http.MethodPost {\n\t\t\ttmpl.Execute(w, nil)\n\t\t\treturn\n\t\t}\n\n\t\tdetails := ContactDetails{\n\t\t\tEmail:   r.FormValue("email"),\n\t\t\tSubject: r.FormValue("subject"),\n\t\t\tMessage: r.FormValue("message"),\n\t\t}\n\n\t\t// do something with details\n\t\t_ = details\n\n\t\ttmpl.Execute(w, struct{ Success bool }{true})\n\t})\n\n\thttp.ListenAndServe(":8080", nil)\n}\n<!-- forms.html -->\n{{if .Success}}\n\t<h1>Thanks for your message!</h1>\n{{else}}\n\t<h1>Contact</h1>\n\t<form method="POST">\n\t\t<label>Email:</label><br />\n\t\t<input type="text" name="email"><br />\n\t\t<label>Subject:</label><br />\n\t\t<input type="text" name="subject"><br />\n\t\t<label>Message:</label><br />\n\t\t<textarea name="message"></textarea><br />\n\t\t<input type="submit">\n\t</form>\n{{end}}
map_struct_|m = map[string]Vertex{\n    "Bell Labs": Vertex{X:2, Y:5},\n    "Google":    Vertex{X:5, Y:8},\n}\nfor k, v := range m {\n    fmt.Printf("The value for %s: %d %d \\n", k, v.X, v.Y )\n}
func_literal_|closure_
touppercase_|str_toupper_
str_conv_|import \t"strconv"\n\n_, err := strconv.ParseBool("true")\n \n_, err := strconv.ParseInt("7182818284", 10, 64)\n \n_, err := strconv.ParseFloat("3.1415926535", 64)\nif err != nil {\n    panic(err)\n}\n\n\n\n\n
main_cli_|package main\nimport (  \n    "flag"\n    "fmt"\n    "os"\n)\nfunc main() {  \n    // -image=functions/alpine\n    var image = flag.StringVar(&image, "image", "", "Docker image")\n    if len(image) == 0 {\n        fmt.Fprintf(os.Stderr, "You must specify a Docker image name")\n    }\n    fmt.Printf("Your Docker image was: %s", image)\n\n    // os.Exit(1) // on error\n    os.Exit(0)\n}
file_delete_older_|import (\n      "io/ioutil"\n      "os"\n      "time"\n)\n// example\nfunc isOlderThanOneDay(t time.Time) bool {\n      return time.Now().Sub(t) > 24*time.Hour\n}\n//\nfunc findFilesOlderThanXDays(dir string) (files []os.FileInfo, err error) {\n      tmpfiles, err := ioutil.ReadDir(dir)\n      if err != nil {\n              return\n      }\n      for _, file := range tmpfiles {\n              if file.Mode().IsRegular() {\n                      if isOlderThanOneDay(file.ModTime()) {\n                              files = append(files, file)\n                              // do delete\n                      }\n              }\n      }\n      return\n}
json2_|import (\n\t"bytes"\n\t"encoding/json"\n\t"io/ioutil"\n)\ntype Book struct {\n\tTitle    string   `json:"title"`\n\tAuthor   string   `json:"author"`\n\tPages    int      `json:"num_pages"`\n\tChapters []string `json:"chapters"`\n}\nfunc generateObject() *Book {\n\treturn &Book{\n\t\tTitle:    "The Art of Computer Programming, Vol. 2",\n\t\tAuthor:   "Donald E. Knuth",\n\t\tPages:    784,\n\t\tChapters: []string{"Random numbers", "Arithmetic"},\n\t}\n}\nfunc BenchmarkJSONMarshal(b *testing.B) {\n\tobj := generateObject()\n\n\tb.ResetTimer()\n\tfor n := 0; n < b.N; n++ {\n\t\t_, err := json.Marshal(obj)\n\t\tif err != nil {\n\t\t\tpanic(err)\n\t\t}\n\t}\n}\nfunc BenchmarkJSONUnmarshal(b *testing.B) {\n\tout, err := json.Marshal(generateObject())\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\tobj := &Book{}\n\tb.ResetTimer()\n\tfor n := 0; n < b.N; n++ {\n\t\terr = json.Unmarshal(out, obj)\n\t\tif err != nil {\n\t\t\tpanic(err)\n\t\t}\n\t}\n}\n\n\n \n\n \n\n \n\n \n\n \n
dir_walk_|// import "os", "path/filepath"\n      dirname := "." + string(filepath.Separator)\n      d, err := os.Open(dirname)\n      if err != nil {\n          fmt.Println(err)\n          os.Exit(1)\n      }\n      defer d.Close()\n      files, err := d.Readdir(-1)\n      if err != nil {\n          fmt.Println(err)\n          os.Exit(1)\n      }\n      fmt.Println("Reading "+ dirname)\n      for _, file := range files {\n          if file.Mode().IsRegular() {\n              if filepath.Ext(file.Name()) == ".png" {\n                fmt.Println(file.Name())\n              }\n          }\n      }\n//-------------------\n// v2\n/// reading all files from a dir into memory\n// import "ioutil"\nfilelist, err := ioutil.ReadDir(".")\nif err != nil {\n  log.Fatal(err)\n}\nfor _, fileinfo := range filelist {\n  if fileinfo.Mode().IsRegular() {\n    // reading the file into memory\n    bytes, err := ioutil.ReadFile(fileinfo.Name())\n    if err != nil {\n      log.Fatal(err)\n    }\n    fmt.Println("Bytes read: ", len(bytes))\n    fmt.Println("String read: ", string(bytes))\n  }\n}\n\n
argc_|if len(os.Args) != 2 {\n    fmt.Fprintf(os.Stderr, "Usage: %s URL\\n", os.Args[0])\n    // os.Exit(1)\n} else {\n    url := os.Args[1]\n}
csv_read_|// reading a string, and not a file. A simple reader for a CSV string using the above signature can be:\n// @see file_get_contents_ to get the file as string\ncsvstring := "name, age, occupation"\n// An anonymous function declaration to avoid repeating main()\nScanCSV := func(data []byte, atEOF bool) (advance int, token []byte, err error) {\n  commaidx := bytes.IndexByte(data, ',')\n  if commaidx > 0 {\n    // we need to return the next position\n    buffer := data[:commaidx]\n    return commaidx + 1, bytes.TrimSpace(buffer), nil\n  }\n  // if we are at the end of the string, just return the entire buffer\n  if atEOF {\n    // but only do that when there is some data. If not, this might mean\n    // that we've reached the end of our input CSV string\n    if len(data) > 0 {\n      return len(data), bytes.TrimSpace(data), nil\n    }\n  }\n  // when 0, nil, nil is returned, this is a signal to the interface to read\n  // more data in from the input reader. In this case, this input is our\n  // string reader and this pretty much will never occur.\n  return 0, nil, nil\n}\nscanner := bufio.NewScanner(strings.NewReader(csvstring))\nscanner.Split(ScanCSV)\nfor scanner.Scan() {\n  fmt.Println(scanner.Text())\n}\n\n\n
mkdir_|import ( "os" "path")\nif err := os.MkdirAll(path.Join(root, "build"), 0755); err != nil {\n  return err\n}
str_uc_words_|strings.Title("towns and cities")\n// => "Towns And Cities"
str_contains_any_|import (\n  "fmt"\n  "strings"\n)\n  fmt.Println(strings.ContainsAny("Australia", "a"))\n  fmt.Println(strings.ContainsAny("Australia", "r & a"))\n  fmt.Println(strings.ContainsAny("JAPAN", "j"))\n  fmt.Println(strings.ContainsAny("JAPAN", "J"))\n  fmt.Println(strings.ContainsAny("JAPAN", "JAPAN"))  \n  fmt.Println(strings.ContainsAny("JAPAN", "japan"))\n  fmt.Println(strings.ContainsAny("Shell-12541", "1"))\n  //  Contains vs ContainsAny\n  fmt.Println(strings.ContainsAny("Shell-12541", "1-2")) // true\n  fmt.Println(strings.Contains("Shell-12541", "1-2"))   // false\n \n// substring count\n  fmt.Println(strings.Count("Australia", "a"))\n  fmt.Println(strings.Count("Australia", "A"))\n  fmt.Println(strings.Count("Australia", "M"))\n  fmt.Println(strings.Count("Japanese", "Japan"))   // 1\n  fmt.Println(strings.Count("Japan", "Japanese"))   // 0\n  fmt.Println(strings.Count("Shell-25152", "-25"))\n  fmt.Println(strings.Count("Shell-25152", "-21"))\n  fmt.Println(strings.Count("test", ""))    // length of string + 1\n  fmt.Println(strings.Count("test", " "))\n\n
interface_|type Block interface {\n    BlockSize() int\n    Encrypt(src, dst []byte)\n    Decrypt(src, dst []byte)\n}\n// for callbacks\ntype formatter func(s string) string\n// @see any_\n\n\n
glob_|package main\n\nimport (\n\t"fmt"\n\t"os"\n\t"path"\n\t"path/filepath"\n\t"io/ioutil"\n\t"log"\n\t"strings"\n)\n\n\n// if you want to find all files including sub-directories, use filepath.Walk. \n// If you just want files in a directory but not in sub-directories, use ioutil.ReadDir.  \nfunc ExampleReadDir() {\n\tfiles, err := ioutil.ReadDir(".")\n\tif err != nil {\n\t\tlog.Fatal(err)\n\t}\n\tfor _, file := range files {\n\t\tfmt.Println(file.Name())\n\t}\n}\n\n\n\nfunc main() {\n\tgopath := os.Getenv("GOPATH")\n\tfmt.Printf("[%s/bin]\\n", gopath)\n\n\tlist := ExampleFilepathWalk(gopath)\n\tfor i, p := range list {\n\t\tfmt.Printf("[%d:%s===%s]\\n", i, path.Dir(p), path.Base(p))\n\t}\n}\n\nfunc ExampleFilepathWalk(rootpath string) []string {\n\tlist := make([]string, 0, 10)\n\terr := filepath.Walk(rootpath, func(path string, info os.FileInfo, err error) error {\n\t\tif info.IsDir() {\n\t\t\treturn nil\n\t\t}\n\t\tif filepath.Ext(path) == ".sh" {\n\t\t\tlist = append(list, path)\n\t\t}\n\t\treturn nil\n\t})\n\tif err != nil {\n\t\tfmt.Printf("walk error [%v]\\n", err)\n\t}\n\treturn list\n}
hostname_|host, _ := os.Hostname()
compress_|package main\n\nimport (\n\t"bytes"\n\t"compress/gzip"\n\t"io/ioutil"\n\t"testing"\n)\n\nfunc BenchmarkWrite(b *testing.B) {\n\tdata, err := ioutil.ReadFile("test.json")\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\n\tzw := gzip.NewWriter(ioutil.Discard)\n\n\tb.ResetTimer()\n\tfor n := 0; n < b.N; n++ {\n\t\t_, err = zw.Write(data)\n\t\tif err != nil {\n\t\t\tpanic(err)\n\t\t}\n\t}\n}\n\nfunc BenchmarkRead(b *testing.B) {\n\tdata, err := ioutil.ReadFile("test.json")\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\n\tvar buf bytes.Buffer\n\tzw := gzip.NewWriter(&buf)\n\t_, err = zw.Write(data)\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\n\terr = zw.Close()\n\tif err != nil {\n\t\tpanic(err)\n\t}\n\n\tr := bytes.NewReader(buf.Bytes())\n\tzr, _ := gzip.NewReader(r)\n\n\tb.ResetTimer()\n\tfor n := 0; n < b.N; n++ {\n\t\tr.Reset(buf.Bytes())\n\t\tzr.Reset(r)\n\t\t_, err := ioutil.ReadAll(zr)\n\t\tif err != nil {\n\t\t\tpanic(err)\n\t\t}\n\t}\n}
flag_|import (\n"flag"\n)\n    var goRoot = "";\n    flag.StringVar(&goRoot, "goroot", goRoot, "Go root directory")\n\n \n\nvar opts struct {\n\tverbose bool\n\tRepository string\n\tNamespace string\n\tProject string\n}\nflag.StringVar(&opts.Repository, "repository", "", "the name of the git repository (e.g. github.com)")\n\tflag.StringVar(&opts.Namespace, "namespace", "", "the name of the organization/group in the repository (e.g. zulily)")\n\tflag.StringVar(&opts.Project, "project", "", "the name of the project (e.g. fizzbuzz)")\n\tflag.BoolVar(&opts.verbose, "verbose", false, "toggles verbose output")\n\tflag.Parse()\n\n// esempio 2\nflag.Parse()\n   if flag.NArg() > 0 {\n      n, _ = strconv.Atoi(flag.Arg(0))\n   }\n\n\n\n\n
str_ends_with_|import (\n  "fmt"\n  "strings"\n)\n  fmt.Println(strings.HasSuffix("Australia", "lia"))\n  fmt.Println(strings.HasSuffix("Australia", "A"))\n  fmt.Println(strings.HasSuffix("Australia", "LIA"))\n  fmt.Println(strings.HasSuffix("123456", "456"))\n  fmt.Println(strings.HasSuffix("Australia", ""))
main_|/*\nscopo del programma:\n*/\n// compilation:\n//  GOOS=windows GOARCH=386 go build -o virgo.exe main.go\n//  go build main.go\n\npackage main\nimport (\n    "fmt"\n)\n// "strings"\n// "os"\n// "io"\n// "time"\n// "testing"\n// "net/http"\n// "bytes"\n// "errors"\n// "io/ioutils"\n//\t"flag"\n//\t"io/ioutil"\n//\t"os"\n//\t"os/exec"\n//\t"path"\n//\t"regexp"\n//\t"strings"\n//\t"text/template"\n\n\n\n// @see https://golang.org/doc/code.html#Organization\nfunc init(){}\nfunc main() {\n    fmt.Println("Hello, go")\n}
array_size_|count_
str_split_|explode_
template_|// todos.go\npackage main\n\nimport (\n\t"html/template"\n\t"net/http"\n)\n\ntype Todo struct {\n\tTask string\n\tDone bool\n}\n\nfunc main() {\n\ttmpl := template.Must(template.ParseFiles("todos.html"))\n\ttodos := []Todo{\n\t\t{"Learn Go", true},\n\t\t{"Read Go Web Examples", true},\n\t\t{"Create a web app in Go", false},\n\t}\n\n\thttp.HandleFunc("/", func(w http.ResponseWriter, r *http.Request) {\n\t\ttmpl.Execute(w, struct{ Todos []Todo }{todos})\n\t})\n\n\thttp.ListenAndServe(":8080", nil)\n}\n<!-- todos.html -->\n<h1>Todos</h1>\n<ul>\n\t{{range .Todos}}\n\t\t{{if .Done}}\n\t\t\t<li><s>{{.Task}}</s></li>\n\t\t{{else}}\n\t\t\t<li>{{.Task}}</li>\n\t\t{{end}}\n\t{{end}}\n</ul>\n\n\n// deployTemplate parses and executes a template to a new file under the\n// specified `root` dir. Template files are assumed to end with ".template".\n// A templated file named `foo.template` will be placed at `root/foo`.\nfunc TemplateToFile(root, tmpl string, target Target) error {\n\tfm := template.FuncMap{\n\t\t"ToUpper": strings.ToUpper,\n\t}\n\n\t// Get the template data from the embedded asset (using the Asset func\n\t// provided by  go-bindata)\n\ttemplData, err := Asset(tmpl)\n\tif err != nil {\n\t\treturn err\n\t}\n\n\tfname := tmpl[:len(tmpl)-len(".template")]\n\tfmt.Printf("Creating new: %s\\n", fname)\n\tt := template.Must(template.New(tmpl).Funcs(fm).Parse(string(templData)))\n\n\tif f, err := os.Create(path.Join(root, fname)); err != nil {\n\t\treturn err\n\t} else {\n\t\tdefer f.Close()\n\t\treturn t.Execute(f, target)\n\t}\n}\n
file_times_|import (\n    "syscall"\n    "time"\n)\nfunc file_times(name string) (atime, mtime, ctime time.Time, err error) {\n    fi, err := os.Stat(name)\n    if err != nil {\n        return\n    }\n    mtime = fi.ModTime()\n    stat := fi.Sys().(*syscall.Stat_t)\n    atime = time.Unix(int64(stat.Atim.Sec), int64(stat.Atim.Nsec))\n    ctime = time.Unix(int64(stat.Ctim.Sec), int64(stat.Ctim.Nsec))\n    return\n}\n\nfunc test_times() {\n    atime, mtime, ctime, err := file_times(path)\n    if err != nil {\n        fmt.Println(err)\n        return\n    }\n    fmt.Println(atime, mtime)\n    fmt.Println(ctime)\n    err = os.Chtimes(path, atime, mtime)\n    if err != nil {\n        fmt.Println(err)\n        return\n    }\n    atime, mtime, ctime, err = file_times(path)\n    if err != nil {\n        fmt.Println(err)\n        return\n    }\n    fmt.Println(atime, mtime)\n    fmt.Println(ctime)\n}
pub_sub_|type subscribeEvent struct {\n    messageChan chan<- string\n}\n\ntype publishEvent struct {\n    message string\n}\n\ntype pubsubBus struct {\n    subs      []chan<- string\n    eventChan chan interface{} // Note the interface{} type for events\n}\n\nfunc (p *pubsubBus) Run() {\n    for event := range p.eventChan {\n        // This is not type safe because we might remove a handler, but\n        // forget to remove the function which sends the now unhandled\n        // event on the channel.\n        switch e := event.(type) {\n        case subscribeEvent:\n            p.handleSubscribe(e)\n        case publishEvent:\n            p.handlePublish(e)\n        default:\n            panic(fmt.Sprint("Unknown event type"))\n        }\n    }\n}\nfunc (p *pubsubBus) handleSubscribe(subscribeEvent subscribeEvent) {\n    p.subs = append(p.subs, subscribeEvent.messageChan)\n}\n\nfunc (p *pubsubBus) handlePublish(publishEvent publishEvent) {\n    for _, sub := range p.subs {\n        sub <- publishEvent.message\n    }\n}
var_|fmt.Printf("%v", v) //DBG\n\n// dump slice length, capacity, and contents\nfunc dump(label string, slice []string) {\n\tfmt.Printf("%v: length %v, capacity %v %v\\n", label, len(slice), cap(slice), slice)\n}\n// int example\nvar ints []int\nfmt.Printf("Ints: %v", ints)\n
path_|root := path.Join(gopath, "src", opts.Target.Repository, opts.Target.Namespace, opts.Target.Project)
main_webserver2_|package main\n\nimport (\n        "fmt"\n        "log"\n        "net/http"\n        "os"\n)\n\nfunc main() {\n        // use PORT environment variable, or default to 8080\n        port := "8080"\n        if fromEnv := os.Getenv("PORT"); fromEnv != "" {\n                port = fromEnv\n        }\n\n        // register hello function to handle all requests\n        server := http.NewServeMux()\n        server.HandleFunc("/", home_action)\n\n        // start the web server on port and accept requests\n        log.Printf("Server listening on port %s", port)\n        err := http.ListenAndServe(":"+port, server)\n        log.Fatal(err)\n}\n\n// hello responds to the request with a plain-text "Hello, world" message.\nfunc home_action(w http.ResponseWriter, r *http.Request) {\n        log.Printf("Serving request: %s", r.URL.Path)\n        host, _ := os.Hostname()\n        fmt.Fprintf(w, "Hello, world!\\n")\n        fmt.Fprintf(w, "Version: 1.0.0\\n")\n        fmt.Fprintf(w, "Hostname: %s\\n", host)\n}
_POST_|R *http.Request\nname := R.FormValue("k")
str_tolower_|strings.ToLower("towns and cities")
cross_compile_|GOOS=windows GOARCH=amd64 go build
for_go_done_|var (\n    jobs    = 20                 // Run 20 jobs in total.\n    running = make(chan bool, 3) // Limit concurrent jobs to 3.\n    done    = make(chan bool)    // Signal that all jobs are done.\n)\nfor i := 1; i <= jobs; i++ {\n    running <- true // Fill running; this will block and wait if it's already full.\n    // Start a job.\n    go func(i int) {\n        defer func() {\n            <-running      // Drain running so new jobs can be added.\n            if i == jobs { // Last job, signal that we're done.\n                done <- true\n            }\n        }()\n        // "do work"\n        time.Sleep(1 * time.Second)\n        fmt.Println(i)\n    }(i)\n}\n<-done // Wait until all jobs are done.\nfmt.Println("done")
delete_|delete(map, "key")
limit_|runtime.GOMAXPROCS(runtime.NumCPU() * 2)
str_trim_|import (\t"fmt"\t"strings")\n\nfmt.Println(strings.Trim("0120 2510", "0"))\nfmt.Println(strings.Trim("abcd axyz", "a"))\nfmt.Println(strings.Trim("abcd axyz", "A"))\nfmt.Println(strings.Trim("! Abcd dcbA !", "A"))\nfmt.Println(strings.Trim("! Abcd dcbA !", "!"))\nfmt.Println(strings.Trim(" Abcd dcbA ", " "))\n\nstrings.TrimSpace( str )\n\n// TrimLeft TrimRight TrimSpace TrimPrefix
explode_|// import strings\n//str := "ADAM, EVE, JAMES"\na_str := strings.Split(str, ",")\nfor _, v := range a_str {    \n        fmt.Println(v)\n}\n\n// breaks a string around each instance of one or more consecutive white space characters into an Array.\ntestString := "Australia is a country and continent surrounded by the Indian and Pacific oceans."\ntestArray := strings.Fields(testString)  \nfor _, v := range testArray {    \n    fmt.Println(v)\n}\n\n\n\n
system_|exec_
parse_int_|str_conv_
die_|func die(err error) {\n\tfmt.Println(err.Error())\n\tos.Exit(1)\n}\n
echo_|//import "fmt"\nfmt.Println("Hello", 23)
str_pos_|import (\n  "fmt"\n  "strings"\n)\n  fmt.Println(strings.Index("Australia", "Aus"))\n  fmt.Println(strings.Index("Australia", "aus"))\n  fmt.Println(strings.Index("Australia", "A"))\n  fmt.Println(strings.Index("Australia", "a"))\n  fmt.Println(strings.Index("Australia", "Jap"))\n  fmt.Println(strings.Index("Japan-124", "-"))\n  fmt.Println(strings.Index("Japan-124", ""))\n//----------------\n   fmt.Println(strings.LastIndex("japanese", "a")) // position j=0,a=1,p=2,a=3\n    fmt.Println(strings.LastIndex("japanese", "A"))\n    fmt.Println(strings.LastIndex("Australia Australian", "lia"))\n    fmt.Println(strings.LastIndex("AUSTRALIA AUSTRALIAN", "lia"))\n    fmt.Println(strings.LastIndex("1234567890 1234567890", "0"))\n    fmt.Println(strings.LastIndex("1234567890 1234567890", "00"))\n    fmt.Println(strings.LastIndex("1234567890 1234567890", "123"))\n\n\n
struct_sub_|// struct with substruct\nresult := Result{\n        Name: "whatever",\n        Rows: []MyStruct{\n            { MyField: 1 },\n            { MyField: 2 },\n            { MyField: 3 },\n        },\n}\ntype Result struct {\n    Name    string\n    Rows []MyStruct\n}\ntype MyStruct struct {\n    MyField int\n}
array_append_|a_r = make([]TRow, 0)\na_r = append( a_r, TRow{Title: "title", Pages: 5})\na_r = append( a_r, TRow{Title: "title2", Pages: 25})\n\n
sync_waitgroup_|// simple implementation\nimport (\n\t"fmt"\n\t"sync"\n\t"sync/atomic"\n)\nfunc main() {\n\tvar wg sync.WaitGroup\n\tvar x int32 = 0 // shared mem var\n\tfor i := 0; i < 100; i++ {\n\t\tgo func() {\n\t\t\twg.Add(1)\n\t\t\tatomic.AddInt32(&x, 1) // synchronize access to var and operation\n\t\t\twg.Done()\n\t\t}()\n\t}\n\t//fmt.Println("To wait ...")\n\twg.Wait()\n\tfmt.Println(atomic.LoadInt32(&x))\n}\n//\n//\n// a program to download JSON from API concurrently and display the result\npackage main\nimport (\n    "fmt"\n    "io/ioutil"\n    "log"\n    "net/http"\n    "sync"\n)\nfunc main() {\n    urls := []string{\n        "http://www.reddit.com/r/aww.json",\n        "http://www.reddit.com/r/funny.json",\n        "http://www.reddit.com/r/programming.json",\n    }\n    jsonResponses := make(chan string)\n    var wg sync.WaitGroup\n    wg.Add(len(urls))\n    for _, url := range urls {\n        go func(url string) {\n            defer wg.Done()\n            res, err := http.Get(url)\n            if err != nil {\n                log.Fatal(err)\n            } else {\n                defer res.Body.Close()\n                body, err := ioutil.ReadAll(res.Body)\n                if err != nil {\n                    log.Fatal(err)\n                } else {\n                    jsonResponses <- string(body)\n                }\n            }\n        }(url)\n    }\n    go func() {\n        for response := range jsonResponses {\n            fmt.Println(response)\n        }\n    }()\n    wg.Wait()\n}
print_|fmt.Printf("Hello %d\\n", 23)\nfmt.Fprint(os.Stdout, "Hello ", 23, "\\n")\nfmt.Println("Hello", 23)\nfmt.Println(fmt.Sprint("Hello ", 23))
mail_|package main\n\nimport (\n\t"bytes"\n\t"log"\n\t"net/mail"\n\n\t"github.com/meehow/sendmail"\n)\n\nfunc main() {\n\tsm := sendmail.Mail{\n\t\tSubject: "Cześć",\n\t\tFrom:    &mail.Address{"Michał", "me@example.com"},\n\t\tTo: []*mail.Address{\n\t\t\t{"Ktoś", "info@example.com"},\n\t\t\t{"Ktoś2", "info2@example.com"},\n\t\t},\n\t}\n\tio.WriteString(&sm.Text, ":)\\r\\n")\n\tif err := sm.Send(); err != nil {\n\t\tlog.Println(err)\n\t}\n}\n\n///--------- v2\nimport (\n"fmt"\n"net/smtp"\n)\nfunc main() {\n// user we are authorizing as\nfrom := "someuser@example.com"\n// use we are sending email to\nto := "otheruser@example.com"\n// server we are authorized to send email through\nhost := "mail.example.com"\n// Create the authentication for the SendMail()\n// using PlainText, but other authentication methods are encouraged\nauth := smtp.PlainAuth("", from, "password", host)\n// NOTE: Using the backtick here ` works like a heredoc, which is why all the\n// rest of the lines are forced to the beginning of the line, otherwise the\n// formatting is wrong for the RFC 822 style\nmessage := `To: "Some User" <someuser@example.com>\nFrom: "Other User" <otheruser@example.com>\nSubject: Testing Email From Go!!\nThis is the message we are sending. That's it!\n`\nif err := smtp.SendMail(host+":25", auth, from, []string{to}, []byte(message)); err != nil\n{\nfmt.Println("Error SendMail: ", err)\nos.Exit(1)\n}\nfmt.Println("Email Sent!")\n}\n\n
exec_|import (\n    "fmt"\n    "os"\n    "os/exec"\n    "sync"\n    "strings"\n    //"bytes"\n    //"log"\n)\n\n// verifica la presenza di un comando\nfunc checkLsExists() {\n\tpath, err := exec.LookPath("ls")\n\tif err != nil {\n\t\tfmt.Printf("didn't find 'ls' executable\\n")\n\t} else {\n\t\tfmt.Printf("'ls' executable is in '%s'\\n", path)\n\t}\n}\n\n\nfunc exe_cmd(cmd string, wg *sync.WaitGroup) {\n    fmt.Println(cmd)\n    parts := strings.Fields(cmd)\n    out, err := exec.Command(parts[0],parts[1]).Output()\n    if err != nil {\n        fmt.Println("error occured")\n        fmt.Printf("%s", err)\n    }\n    fmt.Printf("out: %s ", out)\n    wg.Done()\n}\n\n/*\n// Execute a command a capture standard out.   Use CombinedOutput()\n// if you want both standard out and standerr output\nout, err := exec.Command("echo", "foo").Output()\nif err != nil {\n    log.Fatal(err)\n}\n*/\n\n\n// main() \n    wg := new(sync.WaitGroup)\n    commands := []string{\n        "copy g:\\\\wp\\\\Elenco_Clienti_16.CSV          c:\\\\wp /y",\n        "copy g:\\\\wp\\\\Elenco_Contratti_19.CSV        c:\\\\wp /y",\n        "copy g:\\\\wp\\\\Elenco_Contratti_-_Auto_31.CSV c:\\\\wp /y",\n        "copy g:\\\\wp\\\\TABELLA_SINISTRI_2016-1.CSV    c:\\\\wp /y",\n        "copy g:\\\\wp\\\\TABELLA_TITOLI_2016-1.CSV      c:\\\\wp /y"  }\n\n    for _, str := range commands {\n        wg.Add(1)\n        go exe_cmd(str, wg)\n    }\n    wg.Wait()\n\n// example 2\nfunc runExif(args []string) ([]byte, error) {\n    cmdOut, err := exec.Command("exiftool", args...).Output()\n    if err != nil {\n        return nil, err\n    }\n    return cmdOut, nil\n}\n\n//---- alternative -----------------\nfunc main() {\n    fmt.Printf("%s: pid is %d\\n", os.Args[0], os.Getpid())\n    err := syscall.Exec("/bin/ls", []string{"ls","-al"}, os.Environ())\n    log.Println(err)\n}\n// capture stdout and stderr separately\nfunc main() {\n\tcmd := exec.Command("ls", "-lah")\n\tvar stdout, stderr bytes.Buffer\n\tcmd.Stdout = &stdout\n\tcmd.Stderr = &stderr\n\terr := cmd.Run()\n\tif err != nil {\n\t\tlog.Fatalf("cmd.Run() failed with %s\\n", err)\n\t}\n\toutStr, errStr := string(stdout.Bytes()), string(stderr.Bytes())\n    fmt.Printf("out:\\n%s\\nerr:\\n%s\\n", outStr, errStr)\n}\n\n
mutex_|// how to use a mutex to var that need synchronous access\npackage main\nimport( "fmt"; "runtime"; "sync"; )\nvar (\n    counter int // counter is a variable incremented by all goroutines.\n    wg sync.WaitGroup\n    // mutex is used to define a critical section of code.\n    mutex sync.Mutex\n)\nfunc main() {\n    wg.Add(2) // wait for 2 goroutines\n    go incCounter(1)\n    go incCounter(2)\n    // Wait for the goroutines to finish.\n    wg.Wait()\n    fmt.Printf("Final Counter: %d\\\\n", counter)\n}\n// incCounter increments the package level Counter variable using the Mutex to synchronize and provide safe access.\nfunc incCounter(id int) {\n    defer wg.Done() // Schedule the call to Done to tell main we are done.\n    for count := 0; count < 2; count++ {\n        // Only allow one goroutine through this critical section at a time.\n        mutex.Lock()\n        {\n            value := counter // Capture the value of counter.\n            runtime.Gosched() // Yield the thread and be placed back in queue.\n            value++ // Increment our local value of counter.\n            counter = value // Store the value back into counter.\n        }\n        mutex.Unlock()\n        // Release the lock and allow any waiting goroutine through\n    }\n}
str_join_|reg := []string {"a","b","c"}\n// convert array to a slice\nstr := strings.Join(reg[:], ",")
const_|define_
main_cli_test_|package main\nimport (\n\t"testing" \n\t"os/exec"\n)\n// CheckOutput from running a Go program against expectations.\nfunc CheckOutput(t *testing.T, file, expected string) {\n\tactual := Run(t, file)\n\tif expected != actual {\n\t\tt.Errorf("Expected output %q, got %q.", expected, actual)\n\t}\n}\n// Run a Go program and capture the output.\nfunc Run(t *testing.T, file string) string {\n\tout, err := exec.Command("go", "run", file).Output()\n\tif e, ok := err.(*exec.ExitError); ok {\n\t\tt.Fatalf("%s", e.Stderr)\n\t} else if err != nil {\n\t\tt.Fatalf("%s", err)\n\t}\n\treturn string(out)\n}\nfunc TestPlayground(t *testing.T) {\n\tcmd.CheckOutput(t, "playground.go", "Hello, playground\\n")\n}
function_|//\nfunc my_func_name(url string) (string, error) {\n    if ok {\n        return res, nil\n    }\n    // always return value and an error\n    return "", fmt.Errorf("not found: %s", url)\n}\n// use: func main() {\n//    res, err := my_func_name("hello" )\n//}
parse_float_|str_conv_
str_eq_|import (\n  "fmt"\n  "strings"\n)\nfmt.Println(strings.Compare("Germany", "Germany"))  // G == G\nfmt.Println(strings.Compare("Germany", "GERMANY"))  // GERMANY > Germany\n\n// It returns output true if both strings are equal and false if both strings are not equal.\n  fmt.Println(strings.EqualFold("Australia", "AUSTRALIA"))\n  fmt.Println(strings.EqualFold("Australia", "aUSTRALIA"))\n  fmt.Println(strings.EqualFold("Australia", "Australia"))\n  fmt.Println(strings.EqualFold("Australia", "Aus"))\n  fmt.Println(strings.EqualFold("Australia", "Australia & Japan"))\n  fmt.Println(strings.EqualFold("JAPAN-1254", "japan-1254"))  \n  fmt.Println(strings.EqualFold(" ", " "))  // single space both side\n  fmt.Println(strings.EqualFold(" ", "  "))  // double space right side\n \n\n\n
str_repeat_|    textString := "Japan"\n    repString := strings.Repeat(textString, 5)\n    fmt.Println(repString)\n     \n    textString = " A " // char with space on both side\n    repString = strings.Repeat(textString,5)\n    fmt.Println(repString)      // Repeat space also\n     \n    fmt.Println("ba" + strings.Repeat("na", 2))\n    fmt.Println("111" + strings.Repeat("22", 2))\n    fmt.Println("111" + strings.Repeat(" ",2))
regexp_|import "regexp"\n\t \nvar email_regexp string = `^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]+$`\n_, err := regexp.MatchString(email_regexp, "jsmith@example.com")\nif err != nil {\n   panic(err)\n}\n// v2\nr, err := regexp.Compile(testRegexp)\nif err != nil {\n    panic(err)\n}\nr.MatchString("jsmith@example.com")\n\n\n\n
global_var_|//package main // for reference\n\nvar unusedGlobal int // this is a global var\n\n//func f1(unusedArg int) { // for reference
cast_|i := 42             // Signed integer\nf := float64(i)     // Float\nu := uint(f)        // Unsigned integer
count_|len(array_like)
itoa_|str := strconv.Itoa( 1 )\n
str_toupper|strings.ToTitle("towns and cities") \n//=>"TOWNS AND CITIES"
main_weserver3_|package main\nimport (\n    "fmt"\n    "io"\n    "log"\n    "net/http"\n    )\ntype handler struct{}\nfunc (theHandler *handler) ServeHTTP(writer http.ResponseWriter, request *http.Request) {\n    log.Printf("Received request: %s\\n", request.URL)\n    log.Printf("%v\\n", request)\n    io.WriteString(writer, "Hello world!")\n}\nconst port = "8080"\nfunc main() {\n    server := http.Server{\n        Addr:    fmt.Sprintf(":%s", port),\n        Handler: &handler{},\n    }\n    server.ListenAndServe()\n}
map_|mi := make(map[string]int)\nms := make(map[string]string)\nmi["Answer"] = 42   \n// remove an element\ndelete(mi, "Answer")\nlen(mi) // count keys of the map\n// or\nm_inline := map[string]string{\n    "first_name": "Foo",\n    "last_name": "Bar",\n}\n\nfor k, v := range m_inline {\n}\n// hash of struct\ntype Person struct {\n\tFirstName, LastName string\n}\nvar mapStringPerson = map[string]Person{\n"john": Person{"John", "Doe"},\n"jane": Person{"Jane", "Doe"}}\n\n// NOTE: Maps in go are not safe for concurrency. @see map_concurrent_\n
get_env_|str := os.Getenv("HOME")
os_|os := runtime.GOOS;\n    \n    switch os {\n    case "darwin":\n        fmt.Println("OS X.")\n    case "linux":\n        fmt.Println("Linux.")\n    default:\n        fmt.Printf("%s.\\n", os)\n    }
sort_|// sort a int slice\nimport  "math/rand"\t"sort"\nfunc generateSlice(n int) []int {\n\ts := make([]int, n)\n\tfor i := 0; i < n; i++ {\n\t\ts = append(s, rand.Intn(1e9))\n\t}\n\treturn s\n}\ns := generateSlice(1000)\nsort.Ints(s)\n//\n//\nimport ("fmt" "sort")\n\tplanets := []string{\n\t\t"Mercury", "Venus", "Earth", "Mars","Jupiter", "Saturn", "Uranus", "Neptune",\n\t}\n\tsort.StringSlice(planets).Sort()\n\tfmt.Println(planets)\n\n\n\n
json_decode_|"encoding/json"\n\nencodedValue := []byte(`{"London":18,"Rome":30}`)\n// generic storage for the decoded JSON\nvar data map[string]interface{}\n// decode the value into data\n// notice that we must pass the pointer to data using &data\nerr := json.Unmarshal(encodedValue, &data)\n// check if the decoding is successful\nif err != nil {\npanic(err)\n}\nfmt.Println(data)\n// => map[London:18 Rome:30]\n\n// if you want to use a specific value type, we need to cast it\ntemp := data["temperature"].(float64)\nfmt.Println(temp) // 30\ncity := data["city"].(string)\nfmt.Println(city) // "Rome"\n//\n//\n//\n// decode, data from stdin, User is a struct\nuser2 := User{ }\nerr = json.Unmarshal( data, &user2 )\n// check if the decoding is successful\nif err != nil { panic(err) }\nfmt.Println( "decoded:" )\nfmt.Println( user2 )\n// fmt.Sprintf("foo: %s", user2 )\n\n\n\n\n
else_|else {\n\n}
class_|// interface_\ntype Counter struct {\n    n int\n}\n\nfunc (ctr *Counter) ServeHTTP(w http.ResponseWriter, req *http.Request) {\n    ctr.n++ // se non specificato come ref * non viene modificato il valore di type ma della copia passata\n    fmt.Fprintf(w, "counter = %d\\n", ctr.n)\n}\n// new_
any_|interface{}
crosscompile_|//  GOOS=windows GOARCH=386 go build -o virgo.exe main.go
parse_url_|package main\n\nimport (\n\t"net/url"\n\t"testing"\n)\n\nfunc BenchmarkParse(b *testing.B) {\n\ttestUrl := "https://www.example.com/path/file.html?param1=value1&param2=123"\n\n\tb.ResetTimer()\n\tfor n := 0; n < b.N; n++ {\n\t\t_, err := url.Parse(testUrl)\n\t\tif err != nil {\n\t\t\tpanic(err)\n\t\t}\n\t}\n}
_SERVER_|__ENV__
stdin_|// read STDIN as a str\nimport "io/ioutil"\nimport "os"\n    data, err := ioutil.ReadAll(os.Stdin)\n    if err != nil {\n        panic(err)\n    }\n    fmt.Printf("stdin data: %v\\n", string(data))\n\n\n\n\n/*\n\n// read a single line interactive\nfmt.Print("Enter First String: ")   //Print function is used to display output in same line\nvar first string    \nfmt.Scanln(&first)                  // Take input from user\nfmt.Print("Enter Second String: ")\nvar second string\nfmt.Scanln(&second)\nfmt.Print(first + second)           // Addition of two string   \n\n\n// v2 read all stdin\nscanner := bufio.NewScanner(os.Stdin)\nfor scanner.Scan() {\n    fmt.Println(scanner.Text())\n}\nif scanner.Err() != nil {\n    // handle error.\n}\n//------\n// read string\nscanner := bufio.NewScanner(os.Stdin)\nif opts.Repository == "" {\n    fmt.Printf("Enter the name of git repository (e.g. github.com): ")\n    if scanner.Scan() {\n        in_text := scanner.Text()\n    }\n}\n\n\n// read all stdin:\n//  // read STDIN\n//  scanner := bufio.NewScanner(os.Stdin)\n//  for scanner.Scan() {\n//      fmt.Println(scanner.Text())\n//  }\n//  if scanner.Err() != nil {\n//      fmt.Println(scanner.Err())\n//  }\nimport (\n    "bufio"\n    "fmt"\n    "os"\n)\nfunc main() {\n    arr := make([]string, 0) // holds all the input\n    scanner := bufio.NewScanner(os.Stdin)\n    for {\n        fmt.Print("Enter Text: ")\n        scanner.Scan() // Scans a line from Stdin(Console)\n        text := scanner.Text()\n        if len(text) != 0 {\n            fmt.Println(text)\n            arr = append(arr, text)\n        } else {\n            break\n        }\n    }\n    // Use collected inputs\n    fmt.Println(arr)\n}\n*/\n\n\n
package_|\n// dif.go that contains your custom code:\npackage dif\nimport "time";\nvar StartTime = time.Now()\n// main.go \npackage main\nimport (\n    dif "./dif"\n    "fmt"\n)\nfunc main() {\n    fmt.Println(dif.StartTime) // reference your package\n}
variadic_func_|func_get_args_
unset_|cities := map[string]string{ "city1":"New York", "city2":"Adelaide" };\ndelete(m, k)  // remove element m[k] from map m
crypto_|import(\t"crypto/md5"\n\t"crypto/sha1"\n\t"crypto/sha256"\n\t"crypto/sha512"\n\t"golang.org/x/crypto/blake2b"\n\t"golang.org/x/crypto/sha3"\n\t"hash"\n\t"math/rand"\n\t"testing"\n)\n\nfunc benchmarkHash(b *testing.B, h hash.Hash) {\n\tdata := make([]byte, 1024)\n\trand.Read(data)\n\n\tb.ResetTimer()\n\tfor n := 0; n < b.N; n++ {\n\t\th.Write(data)\n\t\th.Sum(nil)\n\t}\n}\n\nfunc BenchmarkMD5(b *testing.B) {\n\tbenchmarkHash(b, md5.New())\n}\n\nfunc BenchmarkSHA1(b *testing.B) {\n\tbenchmarkHash(b, sha1.New())\n}\n\nfunc BenchmarkSHA256(b *testing.B) {\n\tbenchmarkHash(b, sha256.New())\n}\n\nfunc BenchmarkSHA512(b *testing.B) {\n\tbenchmarkHash(b, sha512.New())\n}\n\nfunc BenchmarkSHA3256(b *testing.B) {\n\tbenchmarkHash(b, sha3.New256())\n}\n\nfunc BenchmarkSHA3512(b *testing.B) {\n\tbenchmarkHash(b, sha3.New512())\n}\n\nfunc BenchmarkBLAKE2b256(b *testing.B) {\n\th, _ := blake2b.New256(nil)\n\tbenchmarkHash(b, h)\n}\n\nfunc BenchmarkBLAKE2b512(b *testing.B) {\n\th, _ := blake2b.New512(nil)\n\tbenchmarkHash(b, h)\n}\n\n\n
[sgml]
[bcel]
[psp]
[antlr]
[cmake]
[PostgreSQL]
[hl7v2]
[ant]
[assembly-m68k]
[omnimark]
[interlis]
[mxml]
[avro]
[cvs-commit]
[lilypond]
[jsp]
[protobuf]
[foxpro]
[rfc]
[tex]
[mail]
[assembly-macro32]
[svn-commit]
[aspect-j]
[squidconf]
[rview]
[gherkin]
[jhtml]
[jedit-actions]
[gradle]
[embperl]
[mysql]
[rd]
[zpt]
[objective-c]
[mqsc]
[rust]
[lex]
[prolog]
[assembly-r2000]
[sdl/pr]
[hex]
[swig]
[javafx]
[rebol]
[s+]
[dsssl]
[RPG]
copy_|/COPY $lib/$file,$function\n/IF NOT DEFINED $MODNAME\n/DEFINE $MODNAME\n    // code goes here\n/ENDIF
dou_|dou exit;\n    if cond = 1;\n        exit = *on;\n    else;\nenddo;
strtoupper_|     D U_case          C                   CONST('ABCDEFGHIJKLMNOPQRST-\n     D                                     UVWXYZAEEIOU')\n     D L_Case          C                   CONST('abcdefghijklmnopqrst-\n     D                                     uvwxyzàèéìòù')\n     $$_des = %xlate(l_case:u_case:$$_des);
pssr_|       // system error handler \n       begsr *pssr;\n          o_err(1)='PSSR status:'+%char(%status());\n          errore=*on;\n          *inlr =*on;\n          return;\n        endsr;
date_|//*ISO: \n//*USA: 12312004\nD date   S    D\ndate = %char( %date(ymd:*ISO) : *USA ); \ndate = %date('040596':*MDY0);// date='1996-04-05'
h_|     H DECEDIT('0,') DATEDIT(*YMD/)\n     H option(*srcstmt : *nodebugio)\n     H dftactgrp(*no) bnddir('AW')
charat_|pos = %check('@':s_email);
count_|if o_errn < %elem(o_err);\n           // setta errore in output\n           o_err(o_errn) = msg;\n       else;\n           o_err(o_errn) = 'max error number reached!';\n       endif;
switch_|    select;\n        when opt = 'A';\n            exsr AddRec;\n        when opt = 'D';\n            exsr DelRec;\n        when opt = 'C';\n            exsr ChgRec;\n    endsl;
free_|/free\n/end-free
sql_select_many_|     D $matM2          ds                  QUALIFIED\n     D  des1                         70a\n     D  des2                         70a\n     * per estrarre tutti i campi \n     D $zntcl        E DS                  QUALIFIED OCCURS( 50 ) INZ\n     D                                     EXTNAME( zntcl00f )\n \n     exec sql select padem1, padem2 into :$MATM2 from MATM200f;\n     if SQLCOD<>0;\n        errore = '1';\n        o_errstr  = 'SQL error SQLCOD: '+%char(SQLCOD) ;\n        o_errn = SQLCOD;\n     endif;
dow_|    dow not *in03;\n    enddo;
div_|math_
monitor_|monitor;\n    \non-error;\n    retval = 'ERROR '+%status;\nendmon;\n\nMONITOR;\n\n//ON-ERROR   1216;\n\nON-ERROR   *PROGRAM;\n       // Handles all program-error status codes, from 00100 to 00999\n       DSPMSG ('Unexpected error' : %status);\nON-ERROR   *FILE;\n       // Handles all file-error status codes, from 01000 to 09999\n       DSPMSG ('Unexpected error' : %status);\nON-ERROR   *ALL;\n       // default: both program-error and file-error codes, from 00100 to 09999\n       DSPMSG ('Unexpected error' : %status);\n       //RETURN;\nENDMON;
chain_|      * tabella di base\n     F intct30L uf a e           k disk    rename(intct0:intct_30) prefix(t_)\n      * DS Key, è automaticamente qualified\n     D OrdRecKeys      ds                  likerec(intct_30:*key)\n\n      /free\n         OrdRecKeys.t_tcoage   = i_coage;\n         OrdRecKeys.t_tanord   = i_anord;//puoi usare campi multipli\n         chain(e) %kds(OrdRecKeys) intct_30;\n         if %error;\n           // TODO: report key not found\n         endif;\n         if %found();\n           // t_tdaord accessibile... elabora il record come in fixed\n         endif;\n      /end-free
read_|read(e) File_Name;\nif %error(File_Name);\n    // TODO: error reporting\nelse;\n    dow not %eof(File_Name);\n        // TODO: process record\n        read File_Name;// read next\n    enddo;\nelse;
int_|%int() \n//usa unsh() per float, cast a positivo
setgt_|setgt *Hival FileName;//go to file EOF\nReadP FileName;\ndow not %eof(FileName);\n    // process record\n    ReadP FileName;\nenddo;
if_|if ();\nelseif ();\nelse;\nendif;
str_|     * define strings in different formats:\n     D $sql_row        S           8000a\n     D $select         S           8000a   varying\n\n         $select = 'SELECT T1.bcoart cdart,... '\n              + ' FROM matp224l T1 ' + %trim($sql_row);\n         $select = %trim($select)\n              + 'T1.btipre <> ' + Q + 'A' + Q + %trim($andgru);\n         $select += ' and T1.BFLGFP<>'+Q+Q;
setll_|setll *loval FileName;\ndow (1=1);\n  read FileName;\n  if %eof;\n    leave;\n  endif;\n  if $oo <=0;\n    iter;\n  endif;\nenddo;
for_array_|//def:   d  o_err                        80a   dim(30)\nfor $i=1 to %elem(o_err);\n    if o_err($i) = *blanks;\n       o_err($i) = msg;\n       leave;\n    endif;\nendfor;\n\n
callpp_|// per usare i prototipi occorrono delle specifiche\nH dftactgrp(*no) bnddir('AW')\n  /copy *libl/srccpy,cpy_protaw\n     // prototipo di funzione, su modulo esterno\n     D aw_getc         pr             1n   EXTPROC('AW_GETC')\n     D   aw_getc_daor                 8p 0 value\n     D   aw_getc_nuor                11p 0 value\n     D   aw_getc_note                30A\n\n       // chiamata di una funzione con prototipo\n       callp aw_getc(da_ord:nu_ord:$awc_note);
function_|     D calc_int        PR            10I 0\n     D    parm1                       5I 0 VALUE\n      * must match the corresponding prototype\n      * (PI is optional if the SubR does not return and does not have any parameters)\n      * Other def of variables, constants and prototypes, are LOCAL definitions\n      * Calc may refer to both local and global definitions\n      * SubR must contain a RETURN operation\n     P calc_int        B\n     D calc_int        PI            10I 0\n     D    parm1                       5I 0 VALUE\n     D Result          S             10I 0\n      /free\n         Result = parm1 +1;\n         return Result;\n      /end-free\n     P                 E
while_|    dow not *in03;\n    enddo;
return_|leavesr;// to exit a flow control
add_|math_
math_|         if %REM(Ototrows:o_nrows) = 0 and Ototrows > 0;\n                 o_totpages = %div(Ototrows:o_nrows);\n         endif;
error_|      *------ defs\n     d  o_err                        80a   dim(30)\n     d  $err_n         s              5u 0 inz(%elem(o_err))     \n     d  o_errn                        3s 0\n      * definire prototipo\n     D set_error       PR\n     D    msg                        80a   VALUE\n\n\n      *-----------------------------------------------------------------\n      *   routine di log/passaggio degli errori\n      *     USO: set_error('error str')\n      *------------------------------------------------------------------\n     P set_error       B\n     D set_error       PI\n     D    msg                        80a   VALUE\n     D $i              s              3u 0\n     D*Result          S             10I 0\n      /free\n       errore = *on;\n       // setta indice errore al prossimo\n       o_errn = o_errn +1;\n       if o_errn < %elem(o_err);\n           // setta errore in output\n           o_err(o_errn) = msg;\n       else;\n           o_err(o_errn) = 'max error number reached!';\n       endif;\n\n       //   for $i=1 to %elem(o_err);\n       //       if o_err($i) = *blanks;\n       //           o_err($i) = msg;\n       //           leave;\n       //       endif;\n       //   endfor;\n      /end-free\n     P                 E
sub_|begsr name;\nendsr;
const_|     D Q               C                   const('''')\n     D DQ              C                   const('''''')
str_pos_|pos = %scan('test':s_email);
string_|%char() \n// cast a char di I e F //@see str_
char_replace_|str_dec = %xlate('$.,':' ':'$1,000.11');
sql_select_one_|exec SQL  SELECT FName, LName, email INTO :fstname,:lstname,:email\n  FROM  contacts\n    WHERE cstnbr = :client\n    FETCH FIRST ROW ONLY;\nif (SqlCod<>0 or SQLSTATE >= '02000'); \n    // NOT FOUND leavesr;\nelse;  \n    // FOUND\nendif;\n\n
sql_get_|      /free\n        // get a single value\n           exec sql select tmarin into :$sconto from intct30l\n                       where tanord=:$anord and tnuord=:$nuord\n                         and tcoage=:$coage;\n      /end-free
replace_|\nresult_str = %replace(sustr:s1:%scan(sustr:s1):%len(sustr));
foreach_ds_|// @see ds_                                  \nfor $i=1 to $rec_num;                    \n     %OCCUR($RS) = $i;   // carica i valori del record num $i nella DS\n     a_cod_art($i) = $bco;// $bco è un campo della DS => $RS.$bco   \nendfor;       \n
for_|D $i              s              3u 0\nfor $i=1 to %elem(ArrayName);\n// for $i = %elem(ArrayName) downto 1 by 1;\n    ArrayName($i);\n    //iter; leave; \nendfor;\n
callp_|// prototipo comando esterno\n// uso:\n//       $cmd = 'CHGJOB CCSID(*SYSVAL)';\n//       callp exec(%trim($cmd):%len(%trim($cmd)));\n     D myexec          pr                  extpgm('lib/QCMDEXC')\n     D   ex_cmd                   32702a   const\n     D   ex_cmdlen                   15p 5 const\n\n\n
callpf_|// call prototype with fixed form code\n/end-free\n     c                   callp     aw_getp($getp_user:\n     c                                     $getp_nuor:\n     c                                     $getp_daor:\n     c                                     $getp_coar:\n     c                                     $getp_cdli:\n     c                                     $getp_idav:\n     c                                     $getp_cdcl:\n     c                                     $getp_magg:\n     c                                     $getp_scon:\n     c                                     $getp_nlis:\n     c                                     $getp_cdva:\n     c                                     $getp_prez:\n     c                                     $getp_sco1:\n     c                                     $getp_sco2:\n     c                                     $getp_sco3:\n     c                                     $getp_sco4:\n     c                                     $getp_prov:\n     c                                     $getp_odav:\n     c                                     $getp_pren:\n     c                                     $getp_cdlo:\n     c                                     $getp_qdis:\n     c                                     $getp_darr:\n     c                                     $getp_qarr)\n/free
define_|const_
ds_|     D $matp2          ds                  OCCURS(100)\n     D $bco                           9a\n     D $bde                          29a\n     D $bd2                          29a\n     D $bid                           3s 0\n     D $bpre                         16a
try_|monitor;\n\non-error;\n    retval = 'ERROR';\nendmon;
array_|     * define an array of 100 decimals\n     D  i_preli        s             18s 5 dim(100)
mul_|math_
atoi_|// %XLATE('$*,':'   ':Amount) // togliere caratteri non gestibili\nMONITOR;\n  // %DECH=>half adjust, %INT and %INTH functions also accept string arguments, returning integer values.\n  Result = %DEC(Amount:7:2);\nON-ERROR 105;\n  Result = 0;\nENDMON;\n\n// %UNSH is the same as %UNS except that if the expression is a decimal, float or character value, half adjust is applied to the value of the expression when converting to integer type. No message is issued if half adjust cannot be performed.\n// https://www.ibm.com/support/knowledgecenter/fr/ssw_i5_54/books_web/c0925086637.htm\n%unsh()
*--|*-----------------------------------------------------------------------
call_|// call external program\n                                                         \n       begsr call_insrow;                                \n  /end-free                                              \n C                   call      'SP_INSROW'               \n C                   parm                    i_nuord     \n C                   parm                    i_daord     \n C                   parm                    i_coart     \n C                   parm                    i_prezzo    \n C                   parm                    i_qta       \n C                   parm                    i_sconto2   \n C                   parm                    sysinf      \n  /free\n      endsr;\n\n\n
select_|switch_
_|if %REM(Ototrows:o_nrows) = 0 and Ototrows > 0;\n    o_totpages = %div(Ototrows:o_nrows);\nendif;
[forth]
[nqc]
[s#]
[mavscript]
[fhtml]
[occam]
[objectrexx]
[rpm-spec]
[apdl]
[cplex-lp]
[myghty]
[kotlin]
[tcl]
[scala]
[rcp]
[sip]
[template-toolkit]
[python]
switch|ifelse_
version_|import sys\nif sys.version_info[0] < 3:\n    raise Exception("Must be using Python 3")
cli_stdin_|#!/usr/bin/env python\nfrom sys import stdin, stdout\nwhile True:\n    line = stdin.readline()\n    if not line:\n        break\n    stdout.write("%d\\n" % int(line)**2)\n    stdout.flush()
file_put_contents_|file = open(logfile,"a") # w in scrittura\nf.write('prima riga del file\\n')  # scriviamo una riga nel file\n\nlines = [\n    'prima riga del file\\n',\n    'seconda riga del file\\n',\n    'terza riga del file\\n',\n]\n\nfile.writelines(string)\nfile.close()\n \n
array_keys_|dict.keys()
var_|var_dump_
stdin_|import sys\n \ndef count_names():\n    names = {}\n    for name in sys.stdin.readlines():\n        name = name.strip()\n \n        if name in names:\n            names[name] += 1\n        else:\n            names[name] = 1\n \n    for name, count in names.items():\n        sys.stdout.write("{0}\\t{1}\\n".format(name, count))
odbc_|import odbc\ntry:\ns = odbc.odbc(‘articoli’)\t# mi collego al DSN\ncur = s.cursor()\ncur.execute(‘select * from elenco_articoli’)\nrec = cur.fetchall()\n\nprint ‘Codice — Descrizione n’\nfor i in rec:\nprint i[0] + ‘ — ‘ + i[1] + ‘n’\nexcept:\nprint ‘errore’
class_get_methods_|dir(obj)
map_|def square(n):\n    return n**2\nsquares = map(square, range(10))\n# v2\na_n = [1, 2, 3]\ny = map(lambda x : x + 1 , a_n )
str_contains_|>>> s = 'Python'\n>>> 'P' in s  # controlla se il carattere 'P' è contenuto nella stringa s\nTrue\n>>> 'x' in s  # il carattere 'x' non è in s, quindi ritorna False\nFalse\n>>> 'x' not in s  # "not in" esegue l'operazione inversa\nTrue\n>>> 'Py' in s  # controlla se la sottostringa 'Py' è contenuto nella stringa s\nTrue\n>>> 'py' in s  # il controllo è case-sensitive, quindi ritorna False\nFalse
str_substr_|substr_
str_reg_replace_|import re\nre.sub(r'a', 'b', 'banana')\n#'bbnbnb'\n\nre.sub(r'/\\d+', '/{id}', '/andre/23/abobora/43435')\n#'/andre/{id}/abobora/{id}'
fun_var_args_|def say_hello(*names):\n    print('Hello {}!'.format(', '.join(names)))\n#say_hello('Python')\n#Hello Python!\n#say_hello('Python', 'PyPy', 'Jython', 'IronPython')\n#Hello Python, PyPy, Jython, IronPython!\n\n\n# var arg con un dizionario:\n>>> def make_tag(element, **attrs):\n...     attrs = ' '.join(['{}="{}"'.format(k, v) for k, v in attrs.items()])\n...     return '<{} {}>'.format(element, attrs)\n...\n>>> make_tag('div', id='header')\n'<div id="header">'\n>>> make_tag('a', href='https://www.python.org/', title='Visit Python.org')\n'<a href="https://www.python.org/" title="Visit Python.org">'\n>>> make_tag('img', src='logo.png', alt='Python logo')\n'<img src="logo.png" alt="Python logo">'\n
fun_call_args_|#sample fun\ndef someFunction(a, b):\n    print(a + b)\n    return\n# a dictionary\ndictionary = {"a": 1, "b": 2}    \n# call with dict for params by name\nsomeFunction(**dictionary)\nsomeFunction(a=1, b=2)
for_|for i in range(1, 101):\n    if i == 3:\n        print("Fizz")\n        continue\n    if i == 5:\n        print("Buzz")\n        break\n    print(i)\n\nfor i in range(3,0,-1):\n   print("i:"+i)
str_concatenation_|>>> 'Py' + 'thon'\n'Python'
import_|import module_name
regexp_|import re\n\nwith open('test.txt', 'r') as f:\n  test_string = f.read()\n  regex = re.compile(r'^([0-9]+)$', re.MULTILINE)\n  result = regex.findall(test_string)\n  print(result)
var_dump_|repr( data )\n# v2\nimport pprint \npprint.pprint(globals())\npprint.pprint(locals())\n# others\nrex = Dog('Rex')\n# verifichiamo gli attributi e metodi dell'istanza\n# usando dir() (i metodi speciali sono stati omessi)\ndir(rex)\n# definere metodo speciale __repre__ nella class\nrepr(rex)\n# definire metodo __str__ in class\nprint(rex)\n# more accurate version\npprint(rex)\n# spiegazione della funzione\nhelp(str.upper)\n\n
strftime_|from time import strftime\nstamp = strftime("%Y-%m-%d %H:%M:%S")
list_comp_|// list comprehension example\nrects = [(randrange(100), randrange(100)) for x in range(100)]\n\n>>> rects\n[(16, 39), (92, 96), (60, 72), (99, 32), (39, 5), (43, 6), (51, 28), ...]
str_lower_|str.lower()
str_upper_|s.upper()
try_|try:\n    n = int('five')\nexcept ValueError:\n    print('Invalid number!')\n\n#  riporta un'eccezione\n#    raise ZeroDivisionError('Impossibile dividere per 0')\n\n# f = open('test.txt', 'w')  # apre un file in scrittura\n# try:\n#     f.read()  # prova a leggere e fallisce\n# finally:\n#     f.close()  # il file viene chiuso nonostante l'errore riportato\n\n#    try:\n#        n = int(x)  # prova a convertire x in intero\n#    except ValueError as err:\n#        print('Invalid operation ({})!'.format(err))\n#    else:\n#         # eseguito se non ci sono errori\n#        print('Valid number!')\n
data_types_|'''\n\tint\tIntero di dimensione arbitraria\t-42, 0, 1200, 999999999999999999\n\tfloat\tNumero a virgola mobile\t3.14, 1.23e-10, 4.0E210\n\tbool\tPer valori veri o falsi\tTrue, False\n\tcomplex\tNumeri complessi con parte reale e immaginaria\t3+4j, 5.0+4.1j, 3j\n\tstr\tUsata per rappresentare testo\t'', 'stefano', "l'acqua"\n\tbytes\tUsata per rappresentare bytes\tb'', b'\\x00\\x01\\x02', b'Python'\n\tlist\tUna sequenza mutabile di oggetti\t[], [1, 2, 3], ['Hello', 'World']\n\ttuple\tUna sequenza immutabile di oggetti\t(), (1, 2, 3), ('Python', 3)\n\tset/frozenset\tUn’insieme di oggetti unici\t{1, 2, 3}, {'World', 'Hello'}\n\tdict\tUna struttura che associa chiavi a valori\t{}, {'nome': 'Ezio', 'cognome': 'Melotti'}\n'''
strlen_|len(str)
main_|#!/usr/bin/env python\nimport json;\n\ndef the_main():\n    name = "test test"\n    print('Hello {}!'.format(name))\n\nif __name__ == "__main__":\n    the_main()
str_lenght_|len(s)
exec_|#\n#\nimport os\ntxt = os.popen('ls -l').read()\nprint txt\n#\n#\n#\ndef run_command(cmd):\n    """given shell command, returns communication tuple of stdout and stderr"""\n    return subprocess.Popen(cmd,\n    stdout=subprocess.PIPE,\n    stderr=subprocess.PIPE,\n    stdin=subprocess.PIPE).communicate()\n#\ntxt = run_command(['ls', '-l'])\nprint(txt)
h_merge_|# in Python 3.5+\n>>> x = {'a': 1, 'b': 2}\n>>> y = {'b': 3, 'c': 4}\n>>> z = {**x, **y}\n>>> z\n{'c': 4, 'a': 1, 'b': 3}
def_|def is_even(n):\n    """ comment """\n    if n%2 == 0:\n        return True\n    else:\n        return False\n\n\ndef calc_rect_area(width, height):\n    """Return the area of the rectangle."""\n    return width * height\n# parameter passing:\ncalc_rect_area(3, 5)\n# per nome, l'ordine non è importante\ncalc_rect_area(height=5, width=3)\ncalc_rect_area(3, height=5)\n# by array:\nsize = (3, 5)\ncalc_rect_area(*size)\nsize = {'width': 3, 'height': 5}\ncalc_rect_area(**size)\n\n# default params\ndef say_hello(name='World'):\n    print('Hello {}!'.format(name))\n\n# Se vogliamo fare in modo che una funzioni accetti solo argomenti passati per nome, possiamo usare una singola * seguita da virgola. Tutti gli argomenti che appaiono dopo la * dovranno essere passati per nome\ndef greet(greeting, *, name):\n    print('{} {}!'.format(greeting, name))\n
array_|list_\ndict_\nset_
while_|>>> # rimuovi e printa numeri da seq finchè ne rimangono solo 3\n>>> seq = [10, 20, 30, 40, 50, 60]\n>>> while len(seq) > 3:\n...     print(seq.pop())\n
list_|my_list = ['aa','bb','cc']\nmy_list.append('eggs')\nlen(my_list) \n# iter \nfor val in my_list:\n    print val.upper() \n# access\n#str_spam=my_list[1] \n\n#lista.extend(seq): estende la lista aggiungendo alla fine gli elementi di seq;\n#lista.insert(indice, elem): aggiunge elem alla lista in posizione indice;\n#lista.pop(): rimuove e restituisce l’ultimo elemento della lista;\n#lista.remove(elem): trova e rimuove elem dalla lista;\n#lista.sort(): ordina gli elementi della lista dal più piccolo al più grande;\n#lista.reverse(): inverte l’ordine degli elementi della lista;\n#lista.copy(): crea e restituisce una copia della lista;\n#lista.clear(): rimuove tutti gli elementi della lista;\n\n# list of tuple\n[('John', 'Smith', 20),\n ('Jane', 'Johnson', 30),\n ...]\n\n\n \n \n
dict_|h_mydict = {'red' : 1, 'blue' : 2, 'green' : 3, 'yellow' : 4, 'orange' : 5}\n# 'x' in d  # la chiave 'x' non è presente in d\n#d['b'] # get val \n#d['x'] = 123 # set val\n#del d['x']\n#d.keys()\n#d.values()\n#d.get(chiave, default)\n#d.update(d2)#merge d2\n#for key, value in d.items():\n#    print( key+'='+value )\n\n
indent_|# PEP8 https://www.python.org/dev/peps/pep-0008/#tabs-or-spaces\n# usare sempre 4 spazi per livello di indentazione;\n# evitare l’uso dei caratteri di tabulazione;\n# non mischiare mai l’uso di tabulazioni e spazi.\n\n
/**|///
ifelse_|if condizione1:\n    # gruppo di istruzioni eseguite\nelif condizione2:\n    # gruppo di istruzioni eseguite\nelif condizioneN:\n    # gruppo di istruzioni eseguite\nelse:\n    # gruppo di istruzioni eseguite\n
multithreading_|threading_
file_log_|from time import strftime\n// TODO: wrap in generic routine\nstamp = strftime("%Y-%m-%d %H:%M:%S")\nlogfile = '/tmp/logfile.log'\nstring = stamp + " -- " + str(numfiles) + " session " \\\n+ title +", " + str(bytes) + " bytes\\n"\n\nfile = open(logfile,"a")\nfile.writelines(string)\nfile.close()
file_get_contents_|def print_file_lines():\n  text = open("file.txt", "w").readlines()\n  for line in text:\n    print line
set_|# set (insiemi) vengono usati per rappresentare un insieme non ordinato di oggetti unici\n# gli elementi  devono essere unici, se no rimuoverà i duplicati\nnums = {10, 20, 30, 40}\nnums.add(50)  # aggiunge 50\nnums.remove(10)  # rimuove 10\nempty = set()  # nuovo set vuoto\n#len(nums)  # numero di elementi\n#min(nums)  # elemento più piccolo\n#max(nums)  # elemento più grande\n#10 in nums  # contenimento\n#50 not in nums\n#60 in nums\n\n# frozenset: set immutabile\nfrozenset({40, 10, 20, 30})\n
glob_|import os\nfrom os import listdir\n\npath = '/path/to/tmp/'\nfiles = os.listdir(path)\nfor f in files:\n    if f.startswith('sess_'):\n        info = os.stat(path + f)\n \nfor f in listdir('.txt'):\n    print('Processing {} file...'.format(f))\n
foreach_|my_list = ['Larry', 'Moe', 'Curly']\nfor val in my_list:\n    print val.upper()\n#\nfor k, v in enumerate(my_list):\n    print ('{} {}'.format(k, v)\n#\nsome_dict = {"one": 1, "two": 2, "three": 3}\n# NOTE: If you're not using this in a for loop,\n# convert it into a list: list(some_dict.values())\nfor x in some_dict.values():\n    print(x)\n# array:\nsome_list = [6, 3, 5]\nfor i, item in enumerate(some_list):\n    print(f"{i} {item}")\n# If you're not using this in a for loop, use list()\n# list(enumerate(some_list)) # [(0, 6), (1, 3), (2, 5)]\n
time_|import time; time.time()
substr_|>>> s = 'Python'\n>>> s[0:2]  # sottostringa con elementi da 0 (incluso) a 2 (escluso)\n'Py'\n>>> s[:2]   # dall'inizio all'elemento con indice 2 (escluso)\n'Py'\n>>> s[3:5]  # dall'elemento con indice 3 (incluso) a 5 (escluso)\n'ho'\n>>> s[4:]   # dall'elemento con indice 4 (incluso) alla fine\n'on'\n>>> s[-2:]  # dall'elemento con indice -2 (incluso) alla fine\n'on'
input_|# cli input\nnome = input('Inserisci il tuo nome: ')
hostname_|from urllib.parse import urlsplit\n\n\ndef hostname(url):\n    return urlsplit(url).netloc
threading_|import threading\nimport time.\nfrom random import randint\n \n# Definizione del lock\nthreadLock = threading.Lock()\n \nclass IlMioThread (threading.Thread):\n   def __init__(self, nome, durata):\n      threading.Thread.__init__(self)\n      self.nome = nome\n      self.durata = durata\n   def run(self):\n      print ("Thread '" + self.name + "' avviato")\n      # Acquisizione del lock\n      threadLock.acquire()\n      time.sleep(self.durata)\n      print ("Thread '" + self.name + "' terminato")\n      # Rilascio del lock\n      threadLock.release()\n \n# Creazione dei thread\nthread1 = IlMioThread("Thread#1", randint(1,100))\nthread2 = IlMioThread("Thread#2", randint(1,100))\nthread3 = IlMioThread("Thread#3", randint(1,100))\n \n# Avvio dei thread\nthread1.start()\nthread2.start()\nthread3.start()\n \n# Join\nthread1.join()\nthread2.join()\nthread3.join()\n \n# Fine dello script\nprint("Fine")
package_|# Un package è una raccolta di moduli, che in genere corrisponde alla directory\n__init__.py all’interno della directory   la rende un package importabile\n\nimport progetto.utils  \n# equivalente\nfrom progetto import utils\nfrom progetto.utils import funzione
fun_|def_
///|"""\nmultiline comment\|"""
if_|if some_number == 1:\n    # gruppo di istruzioni eseguite\nelif some_number == 3:\n    print("Number is 3")\nelse:\n    # gruppo di istruzioni eseguite\n\n\nsome_number = 3\n# Number is 3\nif some_number == 1:\n    print("Number is 1")\nelif some_number == 2:\n    print("Number is 2")\n\nelse:\n    print("?")
ceil_|math_
cli_|#!/usr/bin/env python\n# -*- coding: utf-8 -*-\n\n"""Tests for `test_py` package."""\n\n
cli_input_|nome = input('Inserisci il tuo nome: ')
str_indexof_|str = "00aabb"\nstr.index("aa")
explode_|str.split(';') # aa;bb => ['aa','bb']
str_concat_|+\n'_'.join([1,2,3])
filter_|def is_even(n):\n    if n%2 == 0:\n        return True\n    else:\n        return False\n  \neven = filter(is_even, range(10))
tuple_|#               tuple           liste\n#Mutabilità\timmutabili      mutabili\n#Lunghezza      fissa           variabile\n#Accesso agli elementi avviene tramite\tindexing\titerazione\n#Di solito contengono oggetti\teterogenei\tomogenei\n#Simile in C al tipo di dati\tstruct\tarray\n\ntp = ('abc', 123, 45.67)
sprintf2_|x = "Hello"\nmsg = f"{x} World"\nprint(msg)  # Hello World
net_get_|import requests\nimport pprint\n\nurl = 'https://randomuser.me/api/?results=1'\nusers = requests.get(url).json()\npprint.pprint(users)
a_|my_container = ['Larry', 'Moe', 'Curly']
echo_|print ('{} {}'.format(index, element))
count_|len(list_or_dict)
stdlib_|https://docs.python.org/3.7/library/index.html
module_|# aritmetica.py\n# from caller: import aritmetica\ndef add(a, b):\n    return a + b\n \ndef sub(a, b):\n    return a - b\n \ndef mul(a, b):\n    return a * b\n \ndef div(a, b):\n    return a / b\n \nif __name__ == '__main__':\n    import sys  # importiamo il modulo sys della libreria standard\n    # definiamo un dict di operazioni che mappa i nomi con le funzioni corrispondenti\n    ops = dict(add=add, sub=sub, mul=mul, div=div)\n    # chiediamo all'utente di scegliere l'operazione\n    choice = input("Seleziona un'operazione [add/sub/mul/div]: ")\n    if choice not in ops:\n        # se la scelta non è valida terminiamo il programma con un messaggio d'errore\n        sys.exit('Operazione non valida!')\n    # assegnamo a op la funzione scelta dall'utente\n    op = ops[choice]\n    try:\n        # chiediamo all'utente di inserire i due valori, e proviamo a convertirli in float\n        a = float(input('Inserisci il primo valore: '))\n        b = float(input('Inserisci il secondo valore: '))\n    except ValueError as err:\n        # se la conversione fallisce terminiamo il programma con un messaggio d'errore\n        sys.exit('Valore non valido: {}'.format(err))\n    # stampiamo il risultato dell'operazione\n    print('Il risultato è:', op(a, b))\n
cgi_|mod_python\n“http://www.mio.it/mio_programma.py”. \nIn questo caso è stato richiesto il programma python “mio_programma.py” \ncontenuto nella root directory del server web.\nun semplice programma CGI in python:\n\ndef main():\nprint ‘Content-type: text/html’\nprint\nprint ‘<HTML><HEAD><TITLE> Ciao, \nmondo!</TITLE><BODY>” print ‘Ciao, mondo!’\nprint ‘</BODY></HTML>’\n\nif (__name__ == ‘__main__’):\nmain()
sprintf_|'{} {}'.format(aaa, bbb)\ns = "L'area è %f, la circonferenza è %f." % (area, circ)
class_|# class docs\nclass Rectangle:\n# ereditarietà:\n# class Rectangle(Point):\n# super().__init__(x, y)\n    def __init__(self, base, height):\n         """Initialize the base and height attributes."""\n        self.base = base\n        self.height = height\n    def calc_area(self):\n        """Calculate and return the area of the rectangle."""\n        return self.base * self.height\n    def calc_perimeter(self):\n        """Calculate and return the perimeter of a rectangle."""\n        return (self.base + self.height) * 2\n    # metodi speciali\n    def __str__(self):\n        return '{} {}'.format(self.name, self.surname)\n    # definiamo uno __repr__ che restituisce il tipo dell'istanza\n    def __repr__(self):\n        return '<Person object ({} {})>'.format(self.name, self.surname)\n    # see __bool__ e __len__\n// instance\nmyrect = Rectangle(3, 5)\nprint(myrect.base) \nprint(myrect.height)\n#----------------------------------------------------\n# python 3\n#\nclass Duck:\n    def __init__(self, name):\n        self.name = name\n    def fly(self):\n        print(f"{self.name} can fly")\n    # not @classmethod: call a method on an instance\n    # duck = Duck(...)\n    # duck.create(...)\n    #\n    # @classmethod: call a method on a class\n    # Duck.create(...)\n    @classmethod\n    def create(cls, name, kind):\n        if kind == "mallard":\n            return MallardDuck(name)\n        elif kind == "rubber":\n            return RubberDuck(name)\n        else:\n            # cls = Duck\n            return cls(name)\nclass MallardDuck(Duck):\n    # @property:\n    # use duck.color instead of duck.color()\n    @property\n    def color(self):\n        return "green"\nclass RubberDuck(Duck):\n    def __init__(self, name, eye_color="black"):\n        super().__init__(name)\n        self.eye_color = eye_color\n    def fly(self):\n        super().fly()\n        print(f"Just kidding, {self.name} cannot fly")\n    @property\n    def color(self):\n        return "yellow"\nregularDuck = Duck("reggie")\n# reggie can fly\nregularDuck.fly()\nmallardDuck = Duck.create("mal", "mallard")\n# mal\nprint(mallardDuck.name)\n# green\nprint(mallardDuck.color)\nrubberDuck = RubberDuck("vic", "blue")\n# vic can fly\n# Just kidding, vic cannot fly\nrubberDuck.fly()\n# yellow\nprint(rubberDuck.color)\n# blue\nprint(rubberDuck.eye_color)\n\n\n
__END__|str_multiline_
rand_|from random import randrange\n\nrand_n = randrange(100)
unique_id_|import uuid\n\nuser_id = uuid.uuid4()\nprint(user_id)
sqlite_|import sqlite3\n\n\ndef fib(n):\n    a, b = 0, 1\n\n    for _ in range(n):\n        yield a\n        a, b = b, a + b\n\n\nconnection = sqlite3.connect(':memory:')\ncursor = connection.cursor()\n\nwith connection:\n    cursor.execute('''CREATE TABLE IF NOT EXISTS fib (\n                            calculated_value INTEGER)''')\n    cursor.executemany('INSERT INTO fib VALUES (?)',\n                       [(str(x),) for x in fib(10)])\n\ncursor.execute('SELECT * FROM fib')\nprint(cursor.fetchall())\n\nconnection.close()
str_replace_|str.replace('aa','4')
cast_|r = float(raggio)\ni = int(i)
f_|def_
str_multiline_|''' miltiline '''
floor_|math_
help_|help(len) #len builtin function\ndir(str) #methods of bultin objects
math_|import math\n\nprint(math.ceil(1.5)) # 1.5 => 2\n\nprint(math.floor(1.5)) # 1.5 => 1\n\nprint(round(1.5)) # 1.5 => 2
singleton_|// singleton decorator\ndef singleton(_class_):\n    instances = {}\n    def get_instance(*args, **kwargs):\n        if _class_ not in instances:\n            instances[_class_] = _class_(*args, **kwargs)\n        return instances[_class_]\n    return get_instance\n\n@singleton\nclass MyClass(BaseClass):\n    pass
[i4gl]
[clips]
[roff]
[rest]
[stata]
[twiki]
[text]
code_|<code bash>\n\|\n</code>
class_|// funzione:\nclass \|// extends implements\n{\n\n}
limit_|set_time_limit_\nmemory_limit_
call_|PWD=`pwd`\n# or PWD=$(pwd)
printf_|System.out.printf("%s,%.2f", s, f);
glob_|foreach (glob("*.txt") as $filename) {\n    echo "$filename size " . filesize($filename) . "\\n";\n}
[awk]
[verilog]
[outline]
[erlang]
[creole]
pre_|{{{\nThis text will //not// be **formatted**.\n}}}
quote_|<quote wikipedia>\n</quote>
cite_|quote_
h5|===== aaa =====
code_|<code bash>$1\n\|</code>
h4|==== aaa ====
hr_|----
h3|=== aaa ===
b_|**Creole**
h2|== aaa ==
h1|= heading1 =
--|--------------------------------------------------------------------------------\n
li_|* Bullet list\n* Second item\n** Sub item\n\n# Numbered list\n# Second item\n## Sub item
i_|//text//
table_||=A |=B |=C |\n| 1 | 2 | 3 |
image_|{{image.png}}
br_|Force\\\\linebreak
a_|Link to [[wikipage]]\n[[link_address|link text]]
[yaml]
array_|- 2\n- "William O'Neil"\n- false\n# becomes in php [2,"str",false]
hash_|id:       2\nname:     "William O'Neil"\nisActive: false\n# alternative syntax\nauthor:\n  0: { id: 1, name: "Brad Taylor", isActive: true }\n  1: { id: 2, name: "William O'Neil", isActive: false }\n# parses in php ["id" => 2, "name" => "William O'Neil", "isActive" => false];\narticle:\n  0:\n    id:      1\n    content: >\n               YAML is a less-verbose data serialization format.\n               It stands for "YAML Ain't Markup Language".\n               YAML has been a popular data serialization format among\n               software developers mainly because it's human-readable.\n\n
[assembly-ags]
[shellscript]
var_|local HELLO="hello "\nJAVA="${JAVA_HOME}/bin/java"\n# echo $HELLO
date_|NOW=`date +"%m-%d-%Y"`\nNOW_STR=home-$(date +%Y%m%d).tgz
func_|function cprint() {\n    local text="${2}"\n    local nc='\\033[0m'\n    case "${1}" in\n        black  | bk) color='\\033[0;30m';;\n        red    |  r) color='\\033[1;31m';;\n        green  |  g) color='\\033[1;32m';;\n        yellow |  y) color='\\033[1;33m';;\n        blue   |  b) color='\\033[1;34m';;\n        purple |  p) color='\\033[1;35m';;\n        cyan   |  c) color='\\033[1;36m';;\n        gray   | gr) color='\\033[0;37m';;\n        *) color=''\n    esac\n    printf "${color}${text}${nc}"\n}\n\ncprint r  "colorful!\\n"\ncprint g  "colorful!\\n"\ncprint y  "colorful!\\n"\ncprint b  "colorful!\\n"\ncprint p  "colorful!\\n"\ncprint c  "colorful!\\n"\n\nfunction y_print() { # $1 = string\n    local TEXT="$1"\n    local COLOR='\\033[1;33m'\n    local NC='\\033[0m'\n    printf "${COLOR}${TEXT}${NC}\\n"\n}\n\ny_print "This will be Yellow"
dirname_|DIRNAME="$( cd "$( dirname "${BASH_SOURCE[0]}" )" && pwd )"
__DIR__|BASE_DIR=$(cd $(dirname "$0"); pwd)\nCONFIG_DIR=$BASE_DIR/config
switch_|cygwin=false;\nmacosx=false;\ncase "`uname -s`" in\n\tCYGWIN*) \n\t\tcygwin=true \n\t\t;;\n\tDarwin*) \n\t\tmacosx=true\n\t\t;;\nesac
ife_|if [ -z "$j" ]; then\n    echo "Failed to locate the java virtual machine! Bailing..."\n    exit 1\nelse\n    echo "Found a virtual machine at: $j..."\n    JAVA="$j"\nfi
empty_|if [ -z "$1" ]; then\n    echo usage: $0 directory\n    exit\nfi
grep_|df -H | grep -vE '^Filesystem|tmpfs|cdrom' | awk '{ print $5 " " $1 }'
enum_|public enum Day {\n\tSUNDAY(1),\n\tMONDAY(2),\n\tTUESDAY(3),\n\tWEDNESDAY(4),\n\tTHURSDAY(5),\n\tFRIDAY(6),\n\tSATURDAY(7)\n}\n//Printing all constants of an enum.\nfor(Day day: Day.values())\n\tSystem.out.println(day.name());
require_|include_
case_|case "$1" in\n    black  | bk) color="aaabbb";;\nesac
now_|NOW=`date +"%m-%d-%Y-%T"`\nmv test_app test_app_${NOW}
include_|#source _common.sh    # include is in $PATH\nsource $(dirname $0)/_vars.sh
if_|if [[ `uname` == 'Linux' ]]; then\nif [ $use_perc -ge 90 ]; then\nif [ "$RESULTS" != "No syntax errors detected in $file" ] ; then\n    DB=testdb\n    rm -f /tmp/${DB}\nelif [[ `uname` == 'Darwin' ]]; then\n    DB=test.db\nelse\n    #TODO:\nfi\n\n\n \n
while_|COUNTER=0\nwhile [  $COUNTER -lt 10 ]; do\n    echo The counter is $COUNTER\n    let COUNTER=COUNTER+1\ndone\n\ndf -H | grep -vE '^Filesystem|tmpfs|cdrom' | awk '{ print $5 " " $1 }' | while read output_line;\ndo\n    echo $output_line\ndone\n\nwhile test $# -gt 0; do\n    current=$1\n    shift\n    echo "linting: $current"   \ndone\n\n\n\n
mail_|echo "Running out of space \\"$partition ($use_perc%)\\" on $(hostname) as on $(date)" |\n    mail -s "Alert: Almost out of disk space $use_perc%" $email
stdin_|echo -n "DB password: "\nread -s DB_pass\necho $DB_pass
exit_|exit 1
exec_|DBS=`mysql -uroot  -e"show databases"`\nj=`which java 2>/dev/null`\nexec "${JAVA}" -Dawt.useSystemAAFontSettings=on -Dswing.aatext=true -jar "/home/taz/jEdit/5.6pre0/jedit.jar"  "$@"
system_|exec_
mkdir_|[ -n "$DIR" ] || DIR=.\ntest -d $DIR || mkdir -p $DIR
str_cat_|echo "The current time is `date`"\necho "$foo World"\necho "${bla}!  ${laber}!" \necho $a$b\nA="X Y"\nA+="Z"\necho "$A"\nvar=${var}.sh\nsprintf_
f_|function hello() {\n    local HELLO="hello "\n    echo $HELLO\n    echo $1\n    echo $@\n}\nhello "World"
echo_|echo "$foo World"
OS_|if [[ `uname` == 'Linux' ]]; then\n   OS=android\nelif [[ `uname` == 'Darwin' ]]; then\n   OS=ios\nfi
time_|date +%s
let_|VARNAME=string\necho ${VARNAME}
printf_|printf -v a "%s" "my_var"\nprintf "${color}${text}${nc}"
argv_|# accede al primo argomento passato in input\nif [ -z "$1" ]; then\n    echo usage: $0 directory\n    exit\nfi\nSRCD=$1\necho ${SRCD}
for_|for i in $( ls ); do\n    echo "item: $i";\ndone\n# while_
sprintf_|foo=$(printf "%s World" "$foo")
inotify_|# available actions: ,moved_to,create\nBASE_DIR=$(cd $(dirname "$0"); pwd)/..\ninotifywait -e close_write -m $BASE_DIR/public/* |\nwhile read -r directory events filename; do\n  #echo "$filename change!";\n  $BASE_DIR/bin/compile file $filename\ndone
cli_|#!/usr/bin/php\n<?php\n
foreach_|for file in `find $current -type f -name "*.phtml"` ; do\n    echo $file;\n \ndone
main_|#!/bin/bash\necho "hello world"
concat_|A="X Y"\nA+="Z"\nA="${B}${C}"\necho "$A"
[plantuml]
[gettext]
[jcl]
[jflex]
[d]
[c]
[maven]
[coldfusion]
[b]
[typoscript]
[scheme]
[dart]
[antlr4]
[texinfo]
[slax]
[assembly-agc]
[java]
c_hash_t_|// @deprecated synchronized, use c_map_\nHashtable companies = new Hashtable();\ncompanies.put("Google", "United States");\nstr = companies.get("Google");\ncompanies.containsKey("Google");\ncompanies.containsValue("Japan");\n\nEnumeration enumeration = companies.elements();\nwhile (enumeration.hasMoreElements()) {\n    System.out.println("hashtable values: " + enumeration.nextElement() );\n}\ncompanies.size()\nSet hashtableKeys = companies.keySet();\nCollection hashtableValues = companies.values();
date_add_|import java.time.LocalDate\nimport java.time.LocaleDateTime;// introdotta a partire da Java 8.\n// LocalDate rappresenta una data in formato ISO (yyyy-MM-dd) priva di ore, minuti e secondi.\n// Data corrente (al presente articolo 26/01/2019)\nLocalDate today = LocalDate.now();\n// Data specficiando anno, mese, giorno\nLocalDate yesterday = LocalDate.of(2019, 01, 25);\n// Una data specificando una stringa in formato ISO\nLocalDate tomorrow = LocalDate.parse("2019-01-27");\n// confrontare le date\nSystem.out.println(yesterday.isBefore(today));\nSystem.out.println(tomorrow.isAfter(today));\n// aggiungere\nLocalDate plusOneDay = today.plusDays(1);\nLocalDate plusOneMonth = today.plusMonths(1);\nLocalDate plusOneYear = today.plusYears(1);\nLocalDate plusOneWeek = today.plusWeeks(1);\nSystem.out.println(plusOneDay);\nSystem.out.println(plusOneMonth);\nSystem.out.println(plusOneYear);\nSystem.out.println(plusOneWeek);\n// sottrarre\nLocalDate minusOneDay = today.minusDays(1);\nLocalDate minusOneMonth = today.minusMonths(1);\nLocalDate minusOneYear = today.minusYears(1);\nLocalDate minusOneWeek = today.minusWeeks(1);\nSystem.out.println(minusOneDay);\nSystem.out.println(minusOneMonth);\nSystem.out.println(minusOneYear);\nSystem.out.println(minusOneWeek);\n// alternativa plus() e minus()\nimport java.time.temporal.ChronoUnit;\nLocalDate plusOneMonth = today.plus(1, ChronoUnit.MONTHS);\nLocalDate minusOneMonth = today.minus(1, ChronoUnit.MONTHS);\nMolto interessanti sono anche i metodi che offrono la possibilità di conoscere il giorno del mese, della settimana, o dell’anno, contenuti in una data:\nLocalDate day = LocalDate.parse("2019-03-27");\nSystem.out.println(day.getDayOfMonth());  // 27\nSystem.out.println(day.getDayOfWeek());   // WEDNESDAY\nSystem.out.println(day.getDayOfYear());   // 86\n// estrarre altre info\nimport java.time.temporal.TemporalAdjusters;\nLocalDate day = LocalDate.parse("2019-03-27");\nLocalDateTime beginningOfDay = day.atStartOfDay();\nLocalDate firstDayOfMonth = day.with(TemporalAdjusters.firstDayOfMonth());\nSystem.out.println(beginningOfDay);  // 2019-03-27T00:00\nSystem.out.println(firstDayOfMonth); // 2019-03-01\n\n// Che rappresentano, rispettivamente, la data di inizio del giorno e la data di inizio mese.\n// Quando l’informazione dell’orario per una data è rilevante, è necessario utilizzare la classe LocalDateTime.\n// Questa classe offre gli stessi metodi per la manipolazione delle date visti in precedenza, con l’eccezione del formato stringa della data da parsare che cambia attraverso l’introduzione dell’orario nel formato della data stessa, ed il metodo of() che presenta ulteriori parametri per la definizione di ore, minuti e secondi:\nLocalDateTime day = LocalDateTime.of(2019, Month.FEBRUARY, 12, 00, 00);\n//L’esigenza di gestire orari senza doversi preoccupare di definire necessariamente anche informazioni di anno, mese e giorno,\n//è gestita attraverso la classe java.time.LocalTime. Vediamo alcuni esempi. Recuperiamo l’orario corrente e definiamo l’orario 5:30 in diverse modalità:\nLocalTime time = LocalTime.now();\nLocalTime fiveThirty1 = LocalTime.parse("05:30");\nLocalTime fiveThirty2 = LocalTime.of(5, 30);\n// Aggiungiamo un’ora all’orario 5.30:\nLocalTime fiveThirty3 = LocalTime.parse("05:30").plus(1, ChronoUnit.HOURS);\n// confronto tra orari:\nint five = LocalTime.parse("05:30").getHour();\nboolean isbefore = LocalTime.parse("05:30").isBefore(LocalTime.parse("08:30"));\nSystem.out.println(isBefore);\nimport java.time.Period ;\nimport java.time.Duaration;\nimport java.time.temporal.ChronoUnit;\n// La classe Period rappresenta una quantità di tempo espressa in termini di anni, mesi o giorni, mentre Duration quantità di tempo espresse in secondi o nano secondi.\nLocalDate now = LocalDate.now();\nLocalDate finalDate = now.plus(Period.ofDays(5));\nLocalDate day1 = LocalDate.of(2019, 01, 25);\nLocalDate day2 = LocalDate.parse("2019-01-27");\nint days = Period.between(day1, day2).getDays();\nlong days = ChronoUnit.DAYS.between(day1 , day2);\nLocalTime initialTime = LocalTime.of(4, 30, 0);\nLocalTime finalTime = initialTime.plus(Duration.ofSeconds(13));\n\n
file_put_contents_|import static java.nio.file.StandardOpenOption.*;\nimport java.nio.file.*;\nimport java.io.*;\n\npublic static void log(String s) {\n    String s = "Hello World! ";\n    byte data[] = s.getBytes();\n    Path p = Paths.get("./logfile.txt");\n\n    try (\n        OutputStream out = new BufferedOutputStream(\n          Files.newOutputStream(p, CREATE, APPEND)\n        )\n    ) {\n        out.write(data, 0, data.length);\n    } catch (IOException x) {\n        System.err.println(x);\n    }\n}\n\n
file_separator_|path_separator_
c_set_|Set<Integer> set = new HashSet<Integer>();//unique\nset.add( int );\n\n
logn|Log.log(Log.NOTICE,this,\|);
in_array_|public static final String[] VALUES = new String[] {"AB","BC","CD","AE"};\nArrays.asList(yourArray).contains(yourValue)
logm|Log.log(Log.MESSAGE,this,\|);
reg_match_|return Pattern.matches("((?=.*\\\\d)(?=.*[a-z])(?=.*[A-Z]).{6,})", fieldValue);
opt_|void foo(Map<String, Object> parameters) {\n    String a = ""; \n    Integer b = 0;\n    if (parameters.containsKey("a")) { \n        if (!(parameters.get("a") instanceof Integer)) { \n            throw new IllegalArgumentException("...");\n        }\n        a = (String)parameters.get("a");\n    }\n    if (parameters.containsKey("b")) { \n        //... \n    }\n    //...\n}\n\nfoo(ImmutableMap.<String, Object>of(\n    "a", "a",\n    "b", 2, \n    "d", "value"));
c_hash_|c_map_
loge|Log.log(Log.ERROR,this,\|);
logd|Log.log(Log.DEBUG,this,\|);
properties_|import java.util.Properties;\nProperties env = new Properties();\nprop.put(key, "");\nEnumeration<Object> en = env.keys();\nwhile (en.hasMoreElements()) {\n    String key = (String) en.nextElement();\n    str = env.getProperty(key);\n}\n
log_|package it.xxxx.utils;\n\n// import it.xxxx.Main;\nimport java.io.IOException;\nimport org.apache.log4j.Logger;\nimport org.apache.log4j.Level;\nimport org.apache.log4j.PatternLayout;\nimport org.apache.log4j.RollingFileAppender;\n\n/**\n * wrapper su log4j\n */\npublic class AppLogger {\n\n    public static org.apache.log4j.Logger _logger = null;\n\n    public static void log(String message) {\n        if (_logger == null) {\n            _logger = Logger.getLogger(Main.class);\n            Logger root = _logger.getRootLogger();\n            root.setLevel(Level.INFO);\n            try {\n\n                PatternLayout pattern = new PatternLayout("%d %p %c %x %m%n");//PatternLayout.TTCC_CONVERSION_PATTERN\n                RollingFileAppender appender = new RollingFileAppender(pattern, "app.log");\n                root.addAppender(appender);\n            } catch (IOException ex) {\n                java.util.logging.Logger.getLogger(Logger.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n            }\n        }\n        _logger.info(message);\n    }\n}\n
str_substr_|str.substring(0,1)//first char\n\nString a = "Java is great.";\n System.out.println(a);\n String b = a.substring(5); // b is the String "is great."\n System.out.println(b);\n String c = a.substring(5,7);// c is the String "is"\n System.out.println(c);\n String d = a.substring(5,a.length());// d is "is great."\n System.out.println(d);
str_contains_|line.indexOf('$') >= 0
map_|c_
date_|import java.util.Date;\nimport java.util.Formatter;\n\nString name = "";\nDate today = new Date();\nFormatter formatter = new Formatter();    \nformatter.format(" sono le %tT", today);\nSystem.out.println(formatter);\n\nSimpleDateFormat format = new SimpleDateFormat("ddMMyyyyHHmmss");\nString strd = format.format(today);\n\n\n\n
is_null_|this.attr1 != null
do_while_|do\n{\n\t\|\n}\nwhile($1);
str_trim_|str.trim()
for_|for (int i=0; i < a_chars.length; i++) {\n    System.out.println( a_chars[i] );\n}\n
throw_|throw new IllegalArgumentException("Invalid day of the week: "+value);
str_len_|int str_len = the_string.length();
str_concatenation_|String str1 = "Flower ";\n      String str2 = "Brackets";\n      String str3 = str1.concat(str2);\n// or @see str_builder_
var_dump_|import java.lang.reflect.*;\n \n//o Object..\nField[] fields = o.getClass().getDeclaredFields();\nfor (int i=; i<fields.length; i++) {\n    try {\n        System.out.println(fields[i].getName() + " - " + fields[i].get(o));\n    } catch (java.lang.IllegalAccessException e) {\n        System.out.println(e); \n    }\n}\n
zip_|package it.xxxx;\n\nimport static java.lang.System.out;\nimport java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.util.Enumeration;\nimport java.util.HashMap;\nimport java.util.Iterator;\nimport java.util.regex.Pattern;\nimport java.util.Map;\nimport java.util.Properties;\n\nimport org.apache.log4j.*;\n\nimport org.json.simple.JSONArray;\nimport org.json.simple.JSONObject;\nimport org.json.simple.JSONValue;\n\nimport java.util.Arrays;\n\n\n\n// import it.xxxx.utils.Utils;\n\nimport it.xxxx.as400.label.Label;\nimport it.xxxx.as400.label.LabelFactory;\n\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\nimport java.util.Iterator;\nimport java.util.zip.Deflater;\nimport java.util.zip.ZipEntry;\nimport java.util.zip.ZipOutputStream;\n\n\n// import it.xxxx.utils.Utils;\nimport it.xxxx.*;\n\npublic class Main {\n\n    //protected Logger logger = null;\n    public static Logger logger = Logger.getLogger(Main.class);\n\n    protected Properties env = null;\n\n    // entrypoint\n    public static void main(String[] args) {\n \ntry {\n            String zipFile = "/tmp/zipdemo.zip";\n            String sourceDirectory = "/home/taz/Pictures/logos";\n            byte[] buffer = new byte[1024];\n            FileOutputStream fout = new FileOutputStream(zipFile);\n            ZipOutputStream zout = new ZipOutputStream(fout);\n            File dir = new File(sourceDirectory);\n            // check to see if this directory exists\n            if (!dir.isDirectory()) {\n                System.out.println(sourceDirectory + " is not a directory");\n            } else {\n                File[] files = dir.listFiles();\n                for (int i = 0; i < files.length; i++) {\n                    System.out.println("Adding " + files[i].getName());\n                    // create object of FileInputStream for source file\n                    FileInputStream fin = new FileInputStream(files[i]);\n                    // begins writing a new Zip entry and positions the stream to the start\n                    // of the entry data\n                    zout.putNextEntry(new ZipEntry(files[i].getName()));\n                    // write the file data\n                    int length;\n                    while ((length = fin.read(buffer)) > 0) {\n                        zout.write(buffer, 0, length);\n                    }\n                    // position the stream to write the next entry\n                    zout.closeEntry();\n                    // close the InputStream file\n                    fin.close();\n                }\n            }\n            zout.close();\n            System.out.println("Zip file has been created!");\n        } catch (IOException ioe) {\n            System.out.println("IOException :" + ioe);\n        }\n    }\n\n \n}
staticp_|public static String getStringXX() {\n    return "";\n}\n
__CLASS__|TimeSource.class.getName()
printf_|System.out.printf(" %s,  %.2f ", s, f );
El|else\n{\n\t\|\n}
file_|String file_name = "test.txt";\nString path = "";\nFile confFile = new File(path + System.getProperty("file.separator") + file_name);\nif (confFile.exists() && confFile.isFile()) {\n       \n}\n\n
rs_|List< Map<String, Object> >
str_lower_|str.toLowerCase()
c_deque_|Deque<String> stack = new ArrayDeque<>();\n    stack.push("first");\n    stack.push("second");\n    assertEquals("second", stack.pop());
iterator_next_|$1 $2 = ($1)$3.next();
array_merge_|public static String[] arrayMerge(String[] array1, String[] array2) {\n    List<String> list = new ArrayList<String>(Arrays.asList(array1));\n    List<String> list2 = Arrays.asList(array2);\n    list.addAll(list2);\n    return list.toArray(new String[0]);\n}\npublic static <T> T[] arrayMerge(T[] a, T[] b) {\n    int aLen = a.length;\n    int bLen = b.length;\n\n    @SuppressWarnings("unchecked")\n    T[] c = (T[]) Array.newInstance(a.getClass().getComponentType(), aLen+bLen);\n    System.arraycopy(a, 0, c, 0, aLen);\n    System.arraycopy(b, 0, c, aLen, bLen);\n\n    return c;\n}\npublic static <T>\n    Map<String, T> mapsMerge(Map<String, T> map1, Map<String, T> map2) {\n        Map<String, T> map3 = new HashMap<>();\n        map3.putAll(map1);\n        map3.putAll(map2);\n        return map3;\n    }
str_upper_|str.toUpperCase()
try_|try {\n\n//} catch (IOException e) {\n//    System.err.format("IOException: %s%n", e);\n} catch (Exception e) {\n   // app specific handling\n            System.out.println( e.toString() );\n            e.printStackTrace();\n            this.logger.error(e.toString() + " "+  Arrays.toString(e.getStackTrace()) );\n            Utils.sendDiagMail( String.format("Exception:%s\\n Trace:%s", e.getMessage(), Arrays.toString(e.getStackTrace()) ) );\n   \n} finally {\n    // resource.close()\n}\n
DMTN|DefaultMutableTreeNode
iterator_|Iterator<Object> it = obj_list.iterator();\nwhile ( it.hasNext() ) {\n    Object objKey = it.next();\n}\n
collection_|c_
c_map_sorted_|// extends Map, ensures entries are maintained in ascending key order\nSortedMap\nc_map_
for_v_|for(int $1 = 0; $1 < $2; $1++)\n{\n\t\|\n}
tostring_|// serializable_\n@Override\npublic String toString() {\n    return String.format("User [id=%s, name=%s, surname=%s, birtday=%s]", id, name, surname, birtday);\n}\n
main_|/*  scopo programma:\n *  compilazione:  javac TestMain.java\n *  esecuzione:    java TestMain\n// CLASS PATH\njavac -cp /usr/share/java/lib1.jar:/a/b/lib2.jar Main.java\n// oppure\nexport CLASSPATH="/usr/share/java/lib1.jar:/a/b/lib2.jar"\njavac Main.java\n */\npublic class TestMain {//uguale al nome file\n\tpublic static void main(String[] argv) {\n\t\tSystem.out.print("test");\n\t}\n}
empty_|$1.isEmpty()\n$1.equals(null) || $1.equals("")
exec_|//\nProcess exec = Runtime.getRuntime().exec("ls /home");\nexec.waitFor();
c_vector_|// @deprecated Vector synchronizes on each individual operation. \nVector<String> myVector=new Vector<String>(20,10);//initial cap+cap increment  \nmyVector.add("test str"); \nString str = myVector.get(0);\nmyVector.remove(0);\nmyVector.size();\t\n\nfor( int i=0; i<myVector.size(); i++ ) {\t\t\n    System.out.print( myVector.get(k)  );\n}\n\n
serializable_|import java.io.Serializable;\n \npublic class User implements Serializable {\n}
elseif_|else if($1)\n{\n\t\|\n}
STDIN_|import java.util.Scanner;   \nScanner scan = new Scanner(System.in);
for_c_|for(int $1 = 0; $1 < $2.size(); $1++)\n{\n\t$3 \| = ($3)$2.get($1);\n}
str_split_|if ( string.contains(".") ) {\nString[] parts = string.split(Pattern.quote(".")); // split takes a regex eg. "[.]" "\\\\."\n}
str_compare_|str.equals( str2 )\n// == tests for reference equality, whether they are the same object
array_|array_str_\narray_int_\ncollection_\n\n
c_|import java.util.*;\n\nc_map_  //k-v pairs, unique k\n  c_map_sorted_\n// collection interface:\n  c_list_ //ordered\n  c_set_  //unique\n\tc_set_sorted_ //unique+sorted\n  c_queue_\n\n
while_|while($1) {\n\t\|\n}
json_decode_|// using java 7 package \nusing javax.json.*;\nString jsonString = "the json";\nJsonReader reader = Json.createReader(new StringReader(jsonString));// could use FileInputStream\nJsonObject jsonObject = reader.readObject();\njsonObject.getString("firstName")\n\nJsonArray emailsJson = jsonObject.getJsonArray("emails");// read vaules\nList<String> emails = new ArrayList<>();// put strings into a list \nfor (JsonString j : emailsJson.getValuesAs(JsonString.class)) {\n    emails.add(j.getString());\n}\n// more advanced reading\nString last_pet_name = jsonObject\n  .getJsonArray("pets")\n  .getJsonObject(2)\n  .getString("name");\n\n//-------------------------------------------------------------------------\n// using external lib json.simple\nimport org.json.simple.JSONArray;\nimport org.json.simple.JSONObject;\nimport org.json.simple.JSONValue;\nJSONObject obj = (JSONObject) JSONValue.parse(json_str);\nprotected Properties jsonDecode(String json_content) {\n    Properties prop = new Properties();\n    JSONObject obj = (JSONObject) JSONValue.parse(json_content);\n    JSONObject sectionVars = (JSONObject) obj.get("section_name");\n    Iterator<?> it = sectionVars.keySet().iterator();\n    while (it.hasNext()) {\n        Object objKey = it.next();\n        if (objKey instanceof String) {\n            String key = (String) objKey;\n            Object ObjectValue = sectionVars.get(key);\n            // legge solo valori stringa\n            if (ObjectValue instanceof String) {\n                prop.put(key, ObjectValue);\n            }\n            // TODO: leggere valori composti\n        }\n    }\n    return prop;\n}\n
__FILE__|File getCwd() {\n  return new File(".").getAbsoluteFile();\n  // return new File(".").getAbsolutePath();//string\n  // System.getProperty("user.dir");\n}\n \n
const_|protected final static String DEFAULT_HOST = "127.0.0.1";
db_|public interface Database {\n\tMap<String, Object> selectOne(String sql, Object ... params);\n\tList<Map<String, Object>> selectSet(String sql, Object ... params);\n        //\n\tvoid execute(String sql, Object ... params);\n}\n\npublic class  Carrier_List implements CarrierRepository {\n\tfinal Database database;\n\t\n \n\t@Override\n\tpublic List<Channel> findAllChannels(CarrierView view) {\n\t\tString query = "SELECT ID, NAME FROM CHANNEL ORDER BY NAME";\n\t\tList<Map<String, Object>> rawChannels = database.selectMultipleRows(query);\n\t\tList<Channel> channels = new ArrayList<Channel>();\n\t\tfor (Map<String, Object> map : rawChannels) {\n\t\tChannel channel = new Channel(map.get("NAME").toString(),\n\t\t((BigDecimal) map.get("ID")).intValue());\n\t\tchannels.add(channel);\n\t\t}\n\t\treturn channels;\n\t}\n\n}
str_builder_|public static String multilineString(String... lines){\n   // String[] lines = {"Line 1", "Line 2" /*, ... */};\n   // StringBuilder è più veloce di StringBuffer e molto più veloce della concatenazione con + operator\n   StringBuilder sb = new StringBuilder();\n   String EOL = System.getProperty("line.separator");// '\\n'\n   for(String s : lines){\n     sb.append(s);\n     sb.append(EOL);\n   }\n   return sb.toStirng();\n}\n// example 2\nSystem.out.println(\n new StringBuilder()\n .append("Hello")\n .append(',')\n .append(' ')\n .append("World"));\n\n
mysql_connect_|import java.sql.*;\nclass Mysql {\n      public static void main(String[] args) {\n            System.out.println("Initializing Mysql...");\n            Connection db = null;\n            try {\n                  String uid = "root";\n                  String pwd = "somepassword";\n                  String db_name = "testdb";\n                  String url = "jdbc:mysql://localhost/" + db_name;\n                  Class.forName("com.mysql.jdbc.Driver").newInstance();\n                  db = DriverManager.getConnection(url, uid, pwd);\n                  System.out.println("DB connection successful for database \\"" + db_name + "\\"");\n\n                  // get record set\n                  Statement s = db.createStatement();\n                  s.executeQuery(" SELECT id, email, fullname FROM users; ");\n                  ResultSet rs = s.getResultSet();\n                  int i = 0;\n                  while(rs.next()) {\n                        int id = rs.getInt("id");\n                        String email = rs.getString("email");\n                        String fullname = rs.getString("fullname");\n                        i++;\n                        System.out.println("Record " + i + ": " + id + ", " + email + ", " + fullname);\n                  }\n                  rs.close();\n                  s.close();\n                  System.out.println("Total rows: " + i);\n            } catch(Exception e) {\n                  System.err.println("DB connection failed: " + e.getMessage());\n            } finally {\n                  if(db != null) {\n                        try {\n                              db.close();\n                              System.out.println("DB connection closed.");\n                        } catch(Exception e) {\n                              System.err.println("DB connection close error: " + e.getMessage());\n                        }\n                  }\n            }\n      }\n}
iterator_while_|while( $1.hasNext() ) {\n\t\|}
for_downto_|for(int $1 = $2 - 1; $1 >= 0; $1--)\n{\n\t\|\n}
str_eq_|logLevel.equals("WARN")
file_get_contents_|// this.readConfiguration(conf, this.env) \nprotected String readFile( String path ) {\n    File envFile = new File(path);\n    if (envFile.exists()) {\n    BufferedReader br = null;\n    StringBuffer bf = new StringBuffer();\n    try {\n        br = new BufferedReader(new FileReader(envFile));\n        String line = null;\n        while ((line = br.readLine()) != null) {\n            bf.append(line);\n        }\n    } catch (FileNotFoundException e) {\n            this.logger.error(e);\n    } catch (IOException e) {\n            this.logger.error(e);\n    } catch (Exception e) {\n            this.logger.error(e);\n    } finally {\n        if (br != null) {\n            try { br.close(); } catch (IOException e) { }\n        }\n    }\n    return bf.toString();\n    }\n}
tostr_|tostring_
array_int_|int[] a_num = {34, 22,10,60,30,22};
c_list_toarray_|// Converting ArrayList to Array\nString[] simpleArray = list.toArray(new String[list.size()]);\nSystem.out.println( Arrays.toString(simpleArray) );
foreach_|for (String k : list ) {\n\n}
time_|public static time():long { // UNIX timestamp\n    long epoch = System.currentTimeMillis()/1000;\n    return epoch;\n}
reg_scan_|import java.util.regex.Pattern;\nimport java.util.regex.Matcher;\n\n    public static void checkString(String s) {\n        Pattern twopart = Pattern.compile("(\\\\d+)-(\\\\d+)");\n        Matcher m = twopart.matcher(s);\n        if (m.matches()) {\n            System.out.println(s + " matches; first part is " + m.group(0) +\n                               ", second part is " + m.group(1) + ".");\n        } else {\n            System.out.println(s + " does not match.");\n        }\n    }\n
implode_|StringBuilder sb1 = new StringBuilder();\nfor (String word : SAMPLE_STRING.split(" ")) {\n  if (sb1.length() > 0) {\n    sb1.append(", ");\n  }\n  sb1.append(word);\n}\n
path_separator_|System.getProperty("file.separator")
c_list_|List<String> names = new ArrayList<String>();// ordered\nlist.add("SomeString");\nfor (String name : names){\n    System.out.println(name);\n}\n// c_array_list_\n\n\n
Il|SwingUtilities.invokeLater(new Runnable()\n{\n\tpublic void run()\n\t{\n\t\t\|\n\t}\n});
c_get|($1)$2.get($3)
class_by_name_|Worker worker = null;\ntry {\n    Class c = Class.forName(bean.getClassName());\n    worker = (Worker) c.newInstance();\n    // worker.dosomething()\n} catch (InstantiationException e) {\n    e.printStackTrace();\n} catch (IllegalAccessException e) {\n    e.printStackTrace();\n} catch (ClassNotFoundException e) {\n    e.printStackTrace();\n} catch (Exception e) {\n    e.printStackTrace();\n}\n
c_set_sorted_|TreeSet<integer> sortedSet = new TreeSet<Integer>(set);//unique+sorted\n
ne|nextElement()
microtime_|long start=System.currentTimeMillis();\n//... computation here\nlong end=System.currentTimeMillis();\nSystem.out.println(String.format("Tempo di esecuzione X() %d  millis ", (end-start));
hostname_|import java.net.InetAddress;        \nString hostname = "localhost";\ntry {\n    hostname = InetAddress.getLocalHost().getHostName();\n} catch ( Exception ex) {\n    System.out.println("Hostname can not be resolved"); \n}
c_unique_|c_set_\nc_set_sorted_
c_hash_table_|// @deprecated use HashMap map_ \n//Hashtable<String, Integer> numbers = new Hashtable<String, Integer>();\n//   numbers.put("one", 1);\n//   Integer n = numbers.get("two");
class_inner_|class Enclosing  {\n    \n    // ...\n     \n    class Inner {\n        // accesso diretto ai field e metodi dell’ospite\n    }\n    \n    static class InnerStatic {\n        // visibilità dei metodi dell'ospite come fosse una classe normale\n        // non può definire membri statici\n    } \n \n    interface InnerInterface {\n        //interfaccia interna a una classe\n    }\n     \n    public void metod() {         \n        // local: definita all'interno di un metodo, non visibile all'esterno\n        class LocalClass { }\n\t// accesso alle clessi inner:\n\tEnclising.Inner\n\tEncolsing.InnerInterface\n\tEnclosing.InnerStatic\n    }\n} \n\n// da classe esterna:\nEnclosing enclosing = new Enclosing( );\nEnclosing.Inner  v = enclosing.new Inner( );\n
if_|if($1)\n{\n\t\|\n}
ceil_|int c = (int) Math.ceil(a / (double) b);
c_map_|// generic\nMap context = new HashMap();\n// specific\nMap<String, Object> your_map = new HashMap<String, String>();\n        your_map.put("a", "b");\n        your_map.put("c", "d");\n\n// iter Set<String> mapKeys = your_map.keySet();\nfor (String key: your_map.keySet()) {\n    Object value = your_map.get(key);\n    // cast or switch\n    if (value instanceof String) {\n        System.out.println((String) value);\n    } else if (value instanceof Class) {\n        System.out.println("Class: " + ((Class)value).getName());\n    }\n}\n\n\n//--------------\nMap<Integer, String> hash = new HashMap<>();// if needed predictable iteration order use LinkedHashMap\nhash.put(2, "");\n// iteration\nfor (String key : map.keySet()) {}\nfor (Object value : map.values()) {}\nfor ( Map.Entry<String, Object> entry : map.entrySet() ) {\n    String key = entry.getKey();\n    Object value = entry.getValue();\n}\n\nvoid foo(Map<String, Object> parameters) {\n    String a = ""; \n    Integer b = 0;\n    if (parameters.containsKey("a")) { \n        if (!(parameters.get("a") instanceof Integer)) { \n            throw new IllegalArgumentException("...");\n        }\n        a = (String)parameters.get("a");\n    }\n    if (parameters.containsKey("b")) { \n        //... \n    }\n    //...\n}\n\nfoo(ImmutableMap.<String, Object>of(\n    "a", "a",\n    "b", 2, \n    "d", "value")); \n\n
explode_|StringBuilder sb1 = new StringBuilder();\nfor (String word : SAMPLE_STRING.split(" ")) {\n  if (sb1.length() > 0) {\n      sb1.append(", ");\n  }\n      sb1.append(word);\n}
c_array_list_|// ordered, initial capacity\nArrayList<String> list = new ArrayList<String>(20);\n// \nlist.add("Item1");\nlist.add(2, "Item3"); // add to position\nlist.remove(0);\nlist.remove("Item3");// remove the first occurrence\n// \nint pos = list.indexOf("Item2");\nboolean element = list.contains("Item5");\nboolean check = list.isEmpty();\n\n// preferred \nfor (String str: list) {    System.out.println("Item is: " + str ); }\n\n// not always present .get(), linkedlist are slow index access\nfor (int i = 0; i < list.size(); i++) {\n    System.out.println("Index: " + i + " - Item: " + list.get(i) );\n}\n// iterator, old-style\nIterator<String> it=list.iterator();\nwhile(it.hasNext()){ String tmp = it.next(); }\n\n\n\n\n\n
mail_|import org.apache.commons.mail.SimpleEmail;        \n\n// send a diagnostic mail\n// uso: Main.sendDiagMail( String.format("Exception:%s\\n Trace:%s", e.getMessage(), e.getStackTrace() ) );\npublic static void sendDiagMail(String msg) {\n        \n    // questa operazione se fallisse non deve bloccare il programma\n    String hostname = "localhost";\n    try {    \n            hostname = InetAddress.getLocalHost().getHostName();\n    } catch ( Exception ex) {\n            ex.printStackTrace();\n            System.out.println("Hostname can not be resolved");\n    }\n        \n    try {\n            SimpleEmail email = new SimpleEmail();\n            email.setHostName("localhost");\n            email.addTo("devsmt@gmail.com", "taz");\n            email.setFrom("worker@"+hostname, "java worker "+hostname);\n            email.setSubject("Test message from "+hostname );\n            email.setMsg(msg);\n            String em_res = email.send();\n            out.println("email sent:" + em_res);\n    } catch (Exception ex) {\n            out.println("email error:" + ex.getMessage());\n            ex.printStackTrace();\n    }\n}\n    // exception trace to string\n    public static String stackTraceToString(Exception ex) {\n        StringWriter sw = new StringWriter();\n        PrintWriter pw = new PrintWriter(sw);\n        ex.printStackTrace(pw);\n        return sw.toString();\n    }    \n
str_concat_|str_concatenation_
Br|BufferedReader $1 = new BufferedReader(\|);
main_simple_|// compilazione:\n//   javac __CLASS__.java\n//   java __CLASS__\n//\n// funzione:\n\nimport java.util.*;\n\n// x java il file deve chimarsi Test1.java come la classe che definisce\npublic class Test1 {\n   public static void main( String args[] ) {\n         System.out.println("TEST");\n   }\n}
json_encode_|// using java 7 package \nusing javax.json.*;\nJsonObjectBuilder objectBuilder = Json.createObjectBuilder()\n  .add("firstName", person.getFirstName())\n  .add("lastName", person.getLastName())\n  .add("birthdate", new SimpleDateFormat("DD/MM/YYYY")\n  .format(person.getBirthdate()));\n// add an array \nJsonArrayBuilder arrayBuilder = Json.createArrayBuilder();\nfor(String email : person.getEmails()) {\n    arrayBuilder.add(email);\n}\nobjectBuilder.add("emails", arrayBuilder);\n//\nJsonObject jsonObject = objectBuilder.build();\n//-- output -------\nString jsonString;\nif( is_compressed ){\n  try(Writer writer = new StringWriter()) {\n    Json.createWriter(writer).write(jsonObject);\n    jsonString = writer.toString();\n  }\n} else {\n  Map<String, Boolean> config = new HashMap<>();\n  config.put(JsonGenerator.PRETTY_PRINTING, true);\n  JsonWriterFactory writerFactory = Json.createWriterFactory(config);\n  try(Writer writer = new StringWriter()) {\n    writerFactory.createWriter(writer).write(jsonObject);\n    jsonString = writer.toString();\n  }\n}\n\n\n//---------------------------------------------------------------\n// https://code.google.com/archive/p/json-simple/wikis\nimport org.json.simple.JSONArray;\nimport org.json.simple.JSONObject;\nimport org.json.simple.JSONValue;\nMap<String, Object> data = new HashMap<String, Object>();\n    data.put( "name", "Mars" );\n    data.put( "age", 32 );\n    data.put( "city", "NY" );\n    JSONObject json = new JSONObject();\n    json.putAll( data );\nSystem.out.printf( "JSON: %s", json.toString() );\n\n
c_toArray_|($1[])$2.toArray(new $1[$2.size()])
serr|System.err.println(\|);
json_parse_|json_decode_
for_a_|for(int $1 = 0; $1 < $2.length; $1++)\n{\n\t$3 \| = $2[$1];\n}
round_|int i = Math.round( 5.55 );
main_pack_|// mkdir -p it/ev/prj\n// javac MyApp.java\n// java it.ev.prj.MyApp\n//\npackage it.ev.prj;\n\nimport java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileNotFoundException;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.util.Enumeration;\nimport java.util.HashMap;\nimport java.util.Iterator;\nimport java.util.Properties;\n\npublic class Main {\n  public static void main(String[] args) {\n    Main m = new Main();\n    m.run();\n\|  }\n  // constructor\n  public Main(){ }\n}\n
switch_|switch (args[0]) {  \n    case "aa":\n        System.out.println("much better");\n        break;  \n    default: \n        break;\n}
safe_|public final class Safe {\n  // true only if number is in range\n  static public boolean isInRange(int number, int low, int high){\n    if (low > high) {\n      throw new IllegalArgumentException("Low:" + low + " greater than High:" + high);\n    }\n    return (low <= number && number <= high);\n  }\n}
load_|String fullClassName = "com.ibm.as400.access.AS400JDBCDriver";\nClass.forName(fullClassName);\nworker = (Worker) c.newInstance();\n
echo_|System.out.println("str");\nSystem.out.format("%s \\n", itemEANCode );\n// abbreviated: import static java.lang.System.out; out.println("str");\n
file_exists_|import java.io.File;\nimport java.io.FileNotFoundException;\n\nFile f = new File("/Path/To/File/file.txt");\nif ( f.exists() ) {\n   //...\n}\nFile f = new File("/Path/To/File/or/Directory");\nif ( f.isDirectory() ) {\n   //...\n}\n\n
m_|public void test() {\n}
iterator_size_|int len = 0;\nwhile(iterator.hasNext()) {\n    len++;\n    iterator.next();\n}\n// iterator potrebbe non essere una lista di cui si conosce a priori la lunghezza perchè potrebbe essere generata dinamicamente\n// se si ha accesso alla collezione che wrappa, usa coll.size()\n// altrimenti iterare è l'unica soluzione che funziona sepre
sprintf_|String s = String.format("result:%4d", i );\n
func_get_args_|varargs_
str_join_|    public static String strJoin (String[] a_s, String glue) {\n        int len = a_s.length;\n        if ( 0 == len ) {\n            return null;\n        }\n        StringBuilder out = new StringBuilder();\n        out.append( a_s[0] );\n        for ( int j=1; j < len; j++ ) {\n            out.append(glue).append(a_s[j]);\n        }\n        return out.toString();\n    }\n    public static String strJoin(String[] a_s, String glue) {\n        int len = a_s.length;\n        if ( 0 == len ) {\n            return null;\n        }\n        StringBuilder out = new StringBuilder();\n        out.append( a_s[0] );\n        for ( int j=1; j < len; j++ ) {\n            out.append(glue).append(a_s[j]);\n        }\n        return out.toString();\n    }\n    public static String strJoin(Collection a_s, String glue) {\n        StringOut out = new StringOut();\n        Iterator iter = a_s.iterator();\n        while (iter.hasNext()) {\n            out.append(iter.next());\n            if (iter.hasNext()) {\n                out.append(glue);\n            }\n        }\n        return out.toString();\n    }\n    public static String strJoin(String glue, String... a_s) {\n        return strJoin(a_s, glue);\n    }\n
str_explode_|str_split_
varargs_|void foo(String a, Integer... b) {\n    Integer b1 = b.length > 0 ? b[0] : 0;\n    Integer b2 = b.length > 1 ? b[1] : 0;\n    //...\n}\n\nfoo("a");\nfoo("a", 1, 2);
session_|// HttpServletRequest request in the context of a servlet\nHttpSession session = request.getSession();\nsession.setAttribute("user", new User() );\nUser u_from_sess = (User) session.getAttribute("user");
class_|/**\n * funzione\n */\npublic class __class__ {\n    private double amount;\n    public __class__(String owner) {\n        this.owner = owner;\n    }\n}
__END__|str_builder_
c_queue_|Queue<MyObject> queue = new LinkedList<MyObject>();\nMyObject myObject = queue.remove();\nfor(MyObject anObject : queue){ }
file_get_contents_net_|import java.net.*;\nimport java.io.*;\n \n    public static String getText(String url) throws Exception {\n        URL u = new URL(url);\n        URLConnection con = u.openConnection();\n        BufferedReader in = new BufferedReader(new InputStreamReader(con.getInputStream()));\n        StringBuilder response = new StringBuilder();\n        String line="";\n        while ((line = in.readLine()) != null) {\n            response.append(line);\n\t}\n        in.close();\n        return response.toString();\n    }\nprivate static void printURL() throws Exception {\n  URL url = new URL(url);\n  \n  Scanner scan=new Scanner(url.openConnection().getInputStream());\n  scan.useDelimiter("\\Z");\n\n  while(scan.hasNext()){\n    String tmp = scan.next();\n    System.out.println(tmp);\n  }\n}
type_|byte \nshort \nlong \nfloat \ndouble \nboolean \nchar \nString[]
new_|$1 $2 = new $1(\|);
ENV_|System.getProperty("line.separator");\nSystem.setProperty("as400.libreria", this.schema);\n\nMap<String, String> env = System.getenv();\nfor (String envName : env.keySet()) {\n    System.out.format("%s=%s%n", envName, env.get(envName));\n}\n// è possibile impostare una var via java cli flag -Dvar_name=value\n
instanceof_|str instanceof String
bool_|boolean
sout|System.out.println(\|);
memory_|    public void printMemory() {\n        int mb = 1024 * 1024;\n        //Getting the runtime reference from system\n        Runtime runtime = Runtime.getRuntime();\n        this.logger.debug("##### Heap utilization statistics [MB] #####");\n        //Print used memory\n        this.logger.debug("Used Memory:" + (runtime.totalMemory() - runtime.freeMemory()) / mb);\n        //Print free memory\n        this.logger.debug("Free Memory:" + runtime.freeMemory() / mb);\n        //Print total available memory\n        this.logger.debug("Total Memory:" + runtime.totalMemory() / mb);\n        //Print Maximum available memory\n        this.logger.debug("Max Memory:" + runtime.maxMemory() / mb);\n    }
cast_|String key = (String) objKey;\n// safe cast\nif (obj != null && obj instanceof JSONObject) {\n    JSONObject jsonObj = (JSONObject) obj;\n}\n\nInteger.toString( obj.getQuantity() );\n\n@SuppressWarnings("unchecked")\n\n    Integer b1 = 0;\n    String b2 = "";\n    if (b.length > 0) {\n      if (!(b[0] instanceof Integer)) { \n          throw new IllegalArgumentException("...");\n      }\n      b1 = (Integer)b[0];\n    }\n    if (b.length > 1) {\n        if (!(b[1] instanceof String)) { \n            throw new IllegalArgumentException("...");\n        }\n        b2 = (String)b[1];\n        //...\n    }\n    //...
array_str_|a_char = new String[20];// init for 20 elements\nString[] a_char = {"a", "b", "c"};// litterals\na_char[0] = "Cheese";//assign\n\n// matrix\nString[][] a_a_recs = {\n    // NR    ITEM \n    {"1", "18682" },\n    {"2", "18193" },\n};
hash_|c_hash_\n
overloading_|void foo(String a, Integer b) {\n    //...\n}\n\nvoid foo(String a) {\n    foo(a, 0); // here, 0 is a default value for b\n}\n\nfoo("a", 2);\nfoo("a");
print_|System.out.println(s);
floor_|int c = Math.floor(d);
int_|int v3 = 5;\ndouble v1 = 10.0;\nfloat v2;\n
methods_|import java.lang.reflect.Field;\nField[] fields = o.getClass().getDeclaredFields();\nfor (int i=0; i<fields.length; i++)\n{\n    System.out.println(fields[i].getName() + " - " + fields[i].get(o));\n}
enum_|// @deprecated use collections instead\npublic enum Days {\n\tSUNDAY(1),\n\tMONDAY(2),\n\tTUESDAY(3),\n\tWEDNESDAY(4),\n\tTHURSDAY(5),\n\tFRIDAY(6),\n\tSATURDAY(7)\n}\n//Printing all constants of an enum.\nfor(Day day: Days.values())\n\tSystem.out.println(day.name());\n\nString current = "SUNDAY";\nDays currentDay = Days.valueOf(current.toUpperCase());\n\nswitch (currentDay) {\n    case MONDAY:\n    case TUESDAY:\n    case WEDNESDAY:\n        System.out.println("boring");\n        break;\n    case THURSDAY:\n        System.out.println("getting better");\n    case FRIDAY:\n    case SATURDAY:\n    case SUNDAY:\n        System.out.println("much better");\n        break;\n}\n\n
singleton_|// begin singleton\nprotected static $1 instance = null;\npublic static $1 getInstance() {\n    if (instance == null) {\n        instance = new $type();\n        instance.init();\n    }\n    return instance;\n}\n// end singleton\n\n
_ENV_|// settata con: java -Dsystem.env=$ENV \nString currentEnv = System.getProperty("system.env");
reg_replace_|String replaceLinks(String html){\n    Pattern p = Pattern.compile("href=(?:\\"|\\')?Topic((?:\\\\d){1,3})\\\\.cjp(?:\\"|\\')?");\n    Matcher m = p.matcher(html);\n    return m.replaceAll("href=#$1");\n}\n\n \n
logw|Log.log(Log.WARNING,this,\|);
[assembly-parrot]
[dot]
[xml]
[rakefile]
[powershell]
[cil]
[logtalk]
[postscript]
[sql-loader]
[redcode]
[literate-haskell]
[renderman-rib]
[doxygen]
[javacc]
[ruby]
[pike]
[applescript]
[ml]
var_|let x = 1 in e2
print_|print_string "hello world!\\n";;\nprint_endline "Hello World!";;\n
begin_|begin e end
cast_float_|(float_of_int i) +. f\n// +. => floats needs own operators
main_|(* compile\n    ocamlc -c ./test0.ml # bytecode compile\n    ocamlc -o test0 ./test0.cmo # compile bytecode in executable format\n    ocamlopt -o test0 test0.ml\n*)\n\nlet () = print_endline "Hello World!"
math_|(*\nThe correct expression for each of these respectively are\n1. +. 2.\nfloat_of_int 1 +. 2.\n1 + 2\nfloat_of_int 1 +. 2.\n\nThere is no automatic casting of integers to floats or vice-versa in OCaml. Everything is explicit.\n\nHere is a list of the integer and float operators\nWhere a and b are integers and c and d are floats.\n\nOperation      | Integer Operator | Float Operator\nAddition       | a + b            | c +. d\nSubtraction    | a - b            | c -. d\nMultiplication | a * b            | c *. c\nDivision       | a / b            | c /. d\nModulus        | a mod b          | modfloat c d\nExponentiation | N/a              | c ** d\n*)
fun_|(* function def *)\nlet average a b =\n    (a +. b) /. 2.0;;\n\nrepeated "hello" 3 ;; (* no brackets, and no comma between the arguments. *)\n\n(* function with pattern matching *)\nlet foo = function\n  0 -> "zero"\n  | 1 -> "one"\n  | 2 -> "couple"\n  | 3 -> "few"\n  | _ -> "many";;\n \n\n\n\n\n\n  \n
echo_|print_
for_|for i = 0 [down]to xxx do // con xxx=1 esegue 2 volte, per 0 e 1\n    // do not use ;; here\ndone;;
let_|var_
argc_|argv_
try_|try e with p1  ->  e1 … ∣ pn  ->  en\n(* raising exceptions *)\nraise e
rec_|(* def a rec type *)\ntype 'a annotation = { name : string; mutable info : 'a};;\n    \t \t\n(* create a rec *)\nlet p = { name = "John"; info = 23 };;\n    \t \t\n(* accedere: \n\tx.info;; \n\tp.info <- p.info + 1;;\n*)\n    \t \t\n \n    \t \t\n\n    \t \t\n\n    \t \t\n\n
(**|(* This a comment\n   (* containing nested comment *)\n*)
types_|unit      ()                      operations:\nbool      true   false            (*  &&   ||   not            *)\nchar      'a'   '\\n'   '\\097'     (*  Char.code   Char.chr     *)\nint       1   2   3               (*  +   -   *   /   max_int  *)\nfloat     1.0   2.   3.14   6e23  (*  +.   -.   *.   /.   cos  *)\nstring    "a\\tb\\010c\\n"           (*  ^   s.[i]   s.[i] <- c   *)
cast_|string_of_int (1+1);;
if_|if e1 then\n\t;; \nelse \n\t;;
argv_|(*\nThe standard library Arg provides an interface to extract arguments from the command line.\n*)
array_|let a_1 = [| 0; 1; 2; 3 |];; (* a_1.(i) ;; <- v *)
///|(**
map_|List.map (fun x -> x * x) [1; 2; 3; 4]
[pascal]
//--|//------------------------------------------------------------------------------
case_|Case i of\n     15 : begin\n     end\n     else begin\n     end\nend;
while_|cds.First;\nwhile(not cds.EOF) do begin\n  cds.Next;\nend;
switch_|Case i of\n     15 : begin\n     end\n     else begin\n     end\nend;
[c#]
file_copy_|// To copy a file to another location and\n        // overwrite the destination file if it already exists.\n        System.IO.File.Copy(sourceFile, destFile, true);
date_parse_|var date = DateTime.Parse("2019-11-16T17:25:00Z");\nvar date_s = date.ToUniversalTime();\n
file_put_contents_|// Example #1: Write an array of strings to a file.\n// Create a string array that consists of three lines.\nstring[] lines = { "First line", "Second line", "Third line" };\n// WriteAllLines creates a file, writes a collection of strings to the file,\n// and then closes the file.  You do NOT need to call Flush() or Close().\nPath.Combine(docPath, "WriteTextAsync.txt")\nSystem.IO.File.WriteAllLines(@"C:\\Users\\Public\\TestFolder\\WriteLines.txt", lines);\n\n// Example #2: Write one string to a text file.\nstring text = "A class is the most powerful data type in C#. Like a structure, " +\n                       "a class defines the data and behavior of the data type. ";\n// WriteAllText creates a file, writes the specified string to the file,\n// and then closes the file.    You do NOT need to call Flush() or Close().\nSystem.IO.File.WriteAllText(@"C:\\Users\\Public\\TestFolder\\WriteText.txt", text);\n\n// Example #3: Write only some strings in an array to a file.\n// The using statement automatically flushes AND CLOSES the stream and calls\n// IDisposable.Dispose on the stream object.\n// NOTE: do not use FileStream for text files because it writes bytes, but StreamWriter\n// encodes the output as text.\nusing (System.IO.StreamWriter file = new System.IO.StreamWriter(@"C:\\Users\\Public\\TestFolder\\WriteLines2.txt")) {\n            foreach (string line in lines) {\n                // If the line doesn't contain the word 'Second', write the line to the file.\n                if (!line.Contains("Second")) {\n                    file.WriteLine(line);\n                }\n            }\n}\n\n\n// Example #4: Append new text to an existing file.\n// The using statement automatically flushes AND CLOSES the stream and calls\n// IDisposable.Dispose on the stream object.\nvar file_path = @"C:\\Users\\Public\\TestFolder\\WriteLines2.txt";\nvar append = true;\nusing (System.IO.StreamWriter file = new System.IO.StreamWriter(file_path, append)) {  \n  file.WriteLine("append line");\n}\n\n// Write the specified text asynchronously  \nusing (StreamWriter outputFile = new StreamWriter(file_path)) {\n    await outputFile.WriteAsync("This is a sentence.");\n}\n\n// Write the text to a new file named "WriteFile.txt".\nFile.WriteAllText(file_path, text);\n// Append new string[] lines of text to the file\nFile.AppendAllLines(file_path, lines);\n\n\n\n// checks:\n// -file exists and is read-only\n// -path name may be too long\n// -disk may be full
xml_read_|/*<?xml version="1.0" encoding="utf-8" ?>\n<languages>\n    <language>Python</language>\n    <language>Ruby</language>\n    <language>Javascript</language>\n    <language>C#</language>\n</languages>*/\n\nProgram.cs\nusing System;\nusing System.IO;\nusing System.Xml;\n\nnamespace ReadingXMLFile\n{\n    public class Program\n    {\n        static void Main()\n        {\n            string path = @"C:\\Users\\Jano\\Documents\\languages.xml";\n            using (var xreader = new XmlTextReader(path))\n            {\n                xreader.MoveToContent();\n                while (xreader.Read())\n                {\n                    var node = xreader.NodeType switch\n                    {\n                        XmlNodeType.Element => String.Format("{0}: ", xreader.Name),\n                        XmlNodeType.Text => String.Format("{0} \\n", xreader.Value),\n                        _ => ""\n                    };\n                    Console.Write(node);\n                }\n            }\n        }\n    }\n}
decimal_|decimal value
linq_a_|using System.Collections.Generic;\nusing System.ComponentModel;\nusing System.Linq;\n//\nstring[] words = { "keys", "coat", "laptop", "bottle" };\nIEnumerable<string> query = from word in words\n                            where word.Length > 4\n                            orderby word\n                            select word.ToUpper();\n//\nstring[] words = { "keys", "coat", "laptop", "bottle" };\nIEnumerable<string> query = from word in words\n                            let length = word.Length\n                            where length > 4\n                            orderby length\n                            select string.Format("{0}: {1}", length, word.ToUpper());\n//\nstring[] words = { "keys", "coat", "laptop", "bottle" };\nIEnumerable<string> query = words\n                .Select(word => new { word, length = word.Length })\n                .Where(tmp => tmp.length > 4)\n                .OrderBy(tmp => tmp.length)\n                .Select(tmp => string.Format("{0}: {1}", tmp.length, tmp.word.ToUpper()));\n//\nforeach (string word in query) {\n    Console.WriteLine(word);\n}
path_filename_|string path = @"C:\\programs\\file.txt";\nstring filename = Path.GetFileName(path); // =>file.txt
file_mv_| // To move a file or folder to a new location:\n        System.IO.File.Move(sourceFile, destinationFile);
define_|const_
str_contains_|str1.Contains("Second")\n\nif (str1.IndexOf("dog") != -1)\t{\n    // true\n}\nint i2 = s.LastIndexOf('ee');\n\n
expression_|Expression<Func<int, int, int>> adder = (x, y) => x + y;
date_|string dt = DateTime.Now.ToString("d");\n/* list of useful formats:\nd\tShort date\t9/15/2013\nD\tLong date\tFriday, August 20, 1214\nf\tFull date, short time\tFriday, August 20, 2014 1:56 PM\nF\tFull date, long time\tFriday, August 20, 2014 1:56:23 PM\ng\tGeneral date/time, short time\t9/23/13 1:56 PM\nG\tGeneral date/time, long time\t9/23/13 1:56:23 PM\nM or m\tMonth day\tAugust 23\nO\tRound Trip\t2013-09-23T14:56:25.0000000\nR or r\tRFC1123\tFri, 23 Aug 2013 14:56:23 GMT\ns\tSortable date/time\t2013-09-14T14:56:23\nt\tShort time\t2:45 PM\nT\tLong time\t2:45:23 PM\nu\tUniversal sortable date/time\t2013-09-23 14:56:23Z\nU\tUniversal sortable full date/time\tFriday, August 20, 2013 3:45:23 PM\nY or y\tYear month\tAugust, 2013  */
dirname_|string path = "C:\\\\images\\\\universe.jpg";\n// Get directory name.\nstring result = Path.GetDirectoryName(path); //=> C:\\images\n\n
typeof_|using System.Collections.Generic;\nusing System.ComponentModel;\nstatic void PrintType<T>() {\n    Console.WriteLine("typeof(T) = {0}", typeof(T));\n    Console.WriteLine("typeof(List<T>) = {0}", typeof(List<T>));\n}\nPrintType<string>();\nPrintType<int>();\n 
linq_vardump_|string[] words = { "keys", "coat", "laptop", "bottle" };\n  var tmp1 = Enumerable.Where(words, word => word.Length > 4);\n  var tmp2 = Enumerable.OrderBy(tmp1, word => word);\n  IEnumerable<string> query = Enumerable.Select(tmp2, word => word.ToUpper());\nforeach (string word in query) { Console.WriteLine(word); }\n
for_|for (int i = 0; i <= arr.Count; i++) {\n    Console.WriteLine("value of a: {0}", i, arr[i]);\n}\n// Loop  backwards for (int i = arr.Length - 1; i >= 0; i--){}\n
int_types_|VB Alias   .NET Type      Size     Range\nsbyte\t   System.SByte\t  1 byte   -128 to 127\nbyte\t   System.Byte\t  1 byte   0 to 255\nshort\t   System.Int16\t  2 bytes  -32,768 to 32,767\nushort\t   System.UInt16  2 bytes  0 to 65,535\nint\t   System.Int32   4 bytes  -2,147,483,648 to 2,147,483,647\nuint\t   System.UInt32  4 bytes  0 to 4,294,967,295\nlong\t   System.Int64   8 bytes  -9,223,372,036,854,775,808 to 9,223,372,036,854,775,807\nulong\t   System.UInt64  8 bytes  0 to 18,446,744,073,709,551,615\n\n\n
path_combine_|// Combine 2 path parts.\n        string path1 = Path.Combine("Content", "file.txt");\n        Console.WriteLine("COMBINE: {0}", path1);\n\n        // Combine handles trailing separator.\n        string path2 = Path.Combine("Content\\\\", "file.txt");\n        Console.WriteLine("COMBINE: {0}", path2);\n\n        // Handle 3 parts.\n        string path3 = Path.Combine("C:\\\\", "directory", "filename.txt");\n        Console.WriteLine("COMBINE: {0}", path3);\n\n/* Output\nCOMBINE: Content\\file.txt\nCOMBINE: Content\\file.txt\nCOMBINE: C:\\directory\\filename.txt  */
var_dump_|Console.WriteLine(string.Join(", ", q ));\n\n\npublic static void var_dump(object obj) {\n            Console.WriteLine("{0,-18} {1}", "Name", "Value");\n            Console.WriteLine("-------------------------------------");\n            Type t = obj.GetType();\n            PropertyInfo[] props = t.GetProperties();\n            for(int i = 0; i < props.Length; i++) {\n                try {\n                    Console.WriteLine("{0,-18} {1}",\n                        props[i].Name, props[i].GetValue(obj, null));\n                } catch(Exception e) {\n                    //Console.WriteLine(e);\n                }\n            }\n            Console.WriteLine();\n        }
staticp_|public static void doXxxx(object obj) {\n\n}
regex_match_|Regex regex = new Regex(@"\\d+");\nMatch match = regex.Match("Dot 55 Perls");\nif (match.Success){ Console.WriteLine(match.Value); }\n// Output:55\n\n// Here we call Regex.Match.\nMatch match = Regex.Match(input, @"content/([A-Za-z0-9\\-]+)\\.aspx$",\n\t    RegexOptions.IgnoreCase);\n// Here we check the Match instance.\nif (match.Success) {\n\t    // Finally, we get the Group value and display it.\n\t    string key = match.Groups[1].Value;\n\t    Console.WriteLine(key);\n}\n// Output: alternate-1\n// Get second match, if any\n\tmatch = match.NextMatch();\n\tif (match.Success)\n\t{\n\t    Console.WriteLine(match.Value);\n\t}
file_|// use the System.IO.Path.Combine method to combine pathnames.\n\n// In addition, code that manually scans for path separators must be changed, for example:\n\nint index = exePath.LastIndexOf("\\\\");\nexeDir = exePath.Substring(0, index);\nexeFile = exePath.Substring(index+1);\nCan be changed to the more portable:\n\nexeDir = Path.GetDirectoryName (exePath);\nexeFile = Path.GetFileName (exePath);\n// The PATH and other environment variables have directories separated by a semicolon “;” on Windows and a colon “:” on Linux. You would use System.IO.Path.PathSeparator to separate these paths in environment variables.\n\nConsole.WriteLine("Subdirectories found in the PATH environment variable:");\nstring path_env = Environment.GetEnvironmentVariable ("PATH");\nstring[] path_dirs = path_env.Split (Path.PathSeparator);\nforeach (string pathdir in path_dirs)\n    Console.WriteLine(pathdir);\n\n\n\n
obj_get_parent_|string parclass = lang.GetType().BaseType.Name;\n  Console.WriteLine(parclass);
range_|foreach(var el in Enumerable.Range(1, 10)) {\n    Console.WriteLine(el);\n}
string_verbatim_|Console.WriteLine(@"C:\\Users\\Admin\\Documents");\nvar text = @"\n            Not marble, nor the gilded monuments\nOf princes, shall outlive this powerful rhyme;\nBut you shall shine more bright in these contents\nThan unswept stone, besmeared with sluttish time.";
file_delete_|// Delete a file by using File class static method...\n        if(System.IO.File.Exists(@"C:\\Users\\Public\\DeleteTest\\test.txt"))\n        {\n            // Use a try block to catch IOExceptions, to\n            // handle the case of the file already being\n            // opened by another process.\n            try\n            {\n                System.IO.File.Delete(@"C:\\Users\\Public\\DeleteTest\\test.txt");\n            }\n            catch (System.IO.IOException e)\n            {\n                Console.WriteLine(e.Message);\n                return;\n            }\n        }
dir_mk_|System.IO.Directory.CreateDirectory(targetPath);
array_merge_|// array+LINQ\nvar arr1 = new[] { 1, 2, 3, 4, 5 };\nvar arr2 = new[] { 6, 7, 8, 9, 0 };\nvar arr = arr1.Concat(arr2).ToArray();// .Union() to remove duplicates\n// List\nvar list_4 = list1.Concat(list2).Concat(list3).ToList();
str_toupper_|input = input.ToUpper();
asp_net_main_|ASP.NET Hello World: Create a text file with the name hello.aspx and the content:\n\n<%@ Page Language="C#" %>\n<html>\n<head>\n   <title>Sample Calendar</title>\n</head>\n<asp:calendar showtitle="true" runat="server">\n</asp:calendar>\n/*\nThen run the xsp4 command from that directory:\nxsp4 --port 9000\nUse a web browser to contact http://localhost:9000/hello.aspx\n*/
array_uniqe_|// Step 2: get distinct elements and convert into a list again.\n        List<int> distinct = list.Distinct().ToList();
try_|try {\n  \n} catch(Exception e) {\n    //Console.WriteLine(e);\n} finally {\n    // Dispose();\n}
float_types_|C# Alias   .NET Type       Size\t        Precision\tRange\nfloat      System.Single   4 bytes\t7 digits\t+-1.5 x 10-45 to +-3.4 x 1038\ndouble     System.Double   8 bytes\t15-16 digits\t+-5.0 x 10-324 to +-1.7 x 10308\ndecimal    System.Decimal  16 bytes\t28-29 decimal places\t+-1.0 x 10-28 to +-7.9 x 1028\n\n
iterator_|class SimpleIterator {\n        static IEnumerable<int> CreateSimpleIterator() {\n            yield return 10;\n            for (int i = 0; i < 3; i++) {\n                yield return i;\n            }\n            yield return 20;\n        }\n        static void Main() {\n            foreach (int value in CreateSimpleIterator()) {\n                Console.WriteLine(value);\n            }\n        }\n    }\n// es. 2\nclass FibonacciSequence {\n        static IEnumerable<int> Fibonacci() {\n            int current = 0;\n            int next = 1;\n            while (true) {\n                yield return current;\n                int oldCurrent = current;\n                current = next;\n                next = next + oldCurrent;\n            }\n        }\n        static void Main() {\n            foreach (var value in Fibonacci()) {\n                Console.WriteLine(value);\n                if (value > 1000) {\n                    break;\n                }\n            }\n        }\n    }\n
main_|using System;\nusing System.ComponentModel;\n\n/*\ndotnet new console -o myApp\ncd myApp\ndotnet run\n*/\n/*\ncsc hello.cs\nmono hello.exe\n\n## use csc with the -r option to tell the compiler to pull in the WinForms libraries:\ncsc hello.cs -r:System.Windows.Forms.dll\nmcs hello.cs -pkg:gtk-sharp-2.0\n*/\nnamespace myApp {\n    class Program {\n        static void Main(string[] args) {\n            Console.WriteLine("Hello World!");\n        }\n    }\n}
empty_|String.IsNullOrEmpty(my_name)
str_tolower_|input = input.ToLower();
case_|case "xxx":\n    \nbreak;
str_charat_|string word = "ZetCode";\n  char c = word[0];\n  Console.WriteLine(c);\n\n\n
list_sort_|class ContravariantComparison {\n        abstract class Shape {\n            public abstract double Area { get; }\n        }\n        class Circle : Shape {\n            public double Radius { get; }\n            public override double Area => Radius * Radius;\n            public Circle(double radius) => Radius = radius;\n        }\n        class AreaComparer : IComparer<Shape> {\n            public int Compare(Shape x, Shape y) => x.Area.CompareTo(y.Area);\n        }\n        static void Main() {\n            List<Circle> circles = new List<Circle> {\n                new Circle(5.3),\n                new Circle(2),\n                new Circle(10.5)\n            };\n            circles.Sort(new AreaComparer());\n            foreach (Circle circle in circles) {\n                Console.WriteLine(circle.Radius);\n            }\n        }\n}
str_split_|string[] langs2 = langs.Split(',');\nforeach (string lang in langs2) {\n    Console.WriteLine(lang);\n}
array_|list_\ndict_\narray_s_
array_s_|string[] a_w = { "keys", "coat", "laptop", "bottle" };\n// alt: string[] a_w = new string[4]; names[0] = "Gamma";\nforeach (string name in a_w ) {\n    Console.WriteLine(name);\n}\n
path_get_root_|string path = "C:\\\\images\\\\universe.jpg";\nstring root = Path.GetPathRoot(path);//=>c:
json_decode_|string json = @"\n                {\n                  'name': 'Jon Skeet',\n                  'address': { \n                    'town': 'Reading',\n                    'country': 'UK'\n                  }\n                }".Replace('\\'', '"');\nJObject obj1 = JObject.Parse(json);\n            Console.WriteLine(obj1["address"]["town"]);\n//\ndynamic obj2 = obj1;\n            Console.WriteLine(obj2.address.town);\n
const_|//static void Main(string[] args){\nconst int WIDTH = 100;\n
list_|var la_1 = new List<string>();\n// with initializer: var vals = new List<int>() { 1, 2, 3, 4, 5, 6, 7 };\na_1.Add("aa");\na_1.Add("bb");\na_1.Remove("C#");\na_1.Sort();\nlangs.Contains("C#")\nforeach(string name in la_1){\n\n}
dict_|Dictionary<string, string> openWith = new Dictionary<string, string>();\nopenWith.Add("txt", "notepad.exe");\nopenWith.Add("bmp", "paint.exe");\nopenWith["rtf"] = "winword.exe";\n// try get value\nstring value = "";\nif (openWith.TryGetValue("tif", out value)) {\n    Console.WriteLine("For key = \\"tif\\", value = {0}.", value);\n} else {\n    Console.WriteLine("Key = \\"tif\\" is not found.");\n}\n\nif (!openWith.ContainsKey("ht")){ }\n// cycle keys\nforeach( KeyValuePair<string, string> kvp in openWith ){\n    Console.WriteLine("Key = {0}, Value = {1}", kvp.Key, kvp.Value);\n}\n\n
str_builder_|StringBuilder sb2 = new StringBuilder();\n            sb2.Append("Fields");\n            Console.WriteLine(sb2);
generics_|using System;\nusing System.Collections.Generic;\nusing System.ComponentModel;\n    class GenericMethod {\n        public static List<T> CopyAtMost<T>(List<T> input, int maxElements) {\n            int actualCount = Math.Min(input.Count, maxElements);\n            List<T> ret = new List<T>(actualCount);\n            for (int i = 0; i < actualCount; i++) {\n                ret.Add(input[i]);\n            }\n            return ret;\n        }\n        static void Main() {\n            List<int> numbers = new List<int>();\n            numbers.Add(5);\n            numbers.Add(10);\n            List<int> firstTwo = CopyAtMost<int>(numbers, 2);\n            Console.WriteLine(firstTwo.Count);\n        }\n    }\nstatic void PrintItems<T>(List<T> items) where T : IFormattable {\n    foreach(T item in items ){ item.ToString(); }\n    // type constrain example\n}
file_get_extension_|string fileName = @"C:\\mydir.old\\myfile.ext";\nstring path = @"C:\\mydir.old\\";\nstring extension;\n\nextension = Path.GetExtension(fileName);\nConsole.WriteLine("GetExtension('{0}') returns '{1}'",\n    fileName, extension);\n\nextension = Path.GetExtension(path);\nConsole.WriteLine("GetExtension('{0}') returns '{1}'",\n    path, extension);
dir_mv_|// To move an entire directory. To programmatically modify or combine\n        // path strings, use the System.IO.Path class.\n        System.IO.Directory.Move(@"C:\\Users\\Public\\public\\test\\", @"C:\\Users\\Public\\private");
file_get_contents_|using System;\nusing System.IO;\nusing System.Text;\n\n\n\n// file_get_contents equivalent\nvar path = @"C:\\path\\to\\file.txt";\nvar text = File.ReadAllText(path, Encoding.UTF8);\n\n\n// line by line reading with check \n//\n// more\n//\nvar path = "Problem1.html";\nif (!File.Exists(InputFileName)) {\n      Console.WriteLine("File " + InputFileName + " not found.");\n      return;\n}\nSystem.IO.StreamReader reader = null;\ntry {\n      reader = new StreamReader(InputFileName, Encoding.GetEncoding("windows-1251") );\n      string line;\n      while ((line = reader.ReadLine()) != null){ \n         System.Console.WriteLine(line);  \n      }\n\t    //alt:\n            //string[] lines = File.ReadAllLines(path);\n            //foreach (string line in lines) { }\n} catch (IOException) {\n      Console.WriteLine( "Can not read file " + InputFileName + ".");\n} finally {\n      if (reader != null){\n        reader.Close();\n      }\n}\n\n\n
list_extract_|var vals = (1, 2, 3, 4, 5, 6);\n  (int x, int y, int z, _, _, _) = vals;\n\n
mk_dir|dir_mk_
foreach_|foreach (int j in n ) {\n            int i = j-100;\n            Console.WriteLine("Element[{0}] = {1}", i, j);\n}
anonymous_type_|var player = new {\n                Name = "Tony",\n                Score = 3500\n};\n            Console.WriteLine("Player name: {0}", player.Name);\n            Console.WriteLine("Player score: {0}", player.Score);
implode_|string.Join(", ", args)
ensure_one_|// assicura ci sia una sola istanza dell'applicazione che sta girando inun dato momento\n// first instance flag\nbool is_first_instance;\n\n// set if truly first instance:\nvar mutex = new System.Threading.Mutex(true, "MyAppName", out is_first_instance);\n\n// check if first instance\nif(!is_first_instance)\n{\n      // warn of instance already running\n      MessageBox.Show("An instance of this application is already running.", "MyApp Warning");\n\n      // do something like return to stop app\n      return;\n}
pragma_|#pragma warning disable CS0219 // Variable is assigned but its value is never used\n         // ... code that declares a var but do not use it\n#pragma warning restore CS0219 // Variable is assigned but its value is never used
namespace_alias_|// example\nnamespace ZetCode{\n    namespace Items {\n        class Book {\n        }\n    } \n}\nnamespace MainProgram {\n    using ZIB = ZetCode.Items.Book;\n}
path_extension_|string ext1 = Path.GetExtension(value1);
EOF|Environment.NewLine
stack_|var myStack = new Stack<int>();\n            myStack.Push(1);\n            myStack.Push(4);\n            myStack.Push(3);\n            myStack.Push(6);\n            myStack.Push(4);\n            Console.WriteLine(myStack.Pop());\n            Console.WriteLine(myStack.Peek());\n            Console.WriteLine(myStack.Peek());\n            foreach (int item in myStack) {\n                Console.WriteLine(item);\n            }
queue_|var msgs = new Queue<string>();\n            msgs.Enqueue("Message 1");\n            msgs.Enqueue("Message 2");\n            msgs.Enqueue("Message 3");\n            msgs.Enqueue("Message 4");\n            msgs.Enqueue("Message 5");\n            Console.WriteLine(msgs.Dequeue());\n            Console.WriteLine(msgs.Peek());\n            Console.WriteLine(msgs.Peek());\n            foreach (string msg in msgs) {\n                Console.WriteLine(msg);\n            }
console_stdin_|// static void Main(string[] args) {\nfor (int i = 0; i < args.Length; i++) {\n                Console.WriteLine("{0}", args[i]);\n}
using_|using JonSkeet.DemoUtil;\n
struct_|public struct Point {\n        private int x;\n        private int y;\n        public Point(int x, int y) {\n            this.x = x;\n            this.y = y;\n        }\n        public string Name { get; set; }\n        public int Age { get; set; }\n        public override string ToString() {\n            return String.Format("Point x:{0}, y:{1}", x, y);\n        }\n}\nvar p = new Point(2, 5);\n
str_concat_|"Return" + " of " + "the king."\nstring.Concat("Return", " of ")\n
object_|var player = new {\n  Name = "Tony",\n  Score = 3500\n};\nConsole.WriteLine("Player name: {0}", player.Name);\n
tuple_|var words = ("sky", "blue", "rock", "fountain");\n            Console.WriteLine(words);\n            Console.WriteLine(words.Item1);\n            Console.WriteLine(words.Item2);\n\nvar words2 = (w1: "forest", w2: "deep", w3: "sea");\n            Console.WriteLine(words2.w1);\n            Console.WriteLine(words2.w2);\n            Console.WriteLine(words2.w3);\n\n/*output:\n(sky, blue, rock, fountain)\nsky\nblue\nforest\ndeep\nsea\n*/\n\n\n
nullable_|Nullable<int> someValue = new Nullable<int>(5);\nobject someValueBoxed = someValue;\nConsole.WriteLine(someValueBoxed.GetType());\n\nNullable<bool> male = null;\nint? age = null;\nConsole.WriteLine(male.HasValue);\n\n\n
switch_|switch ( xxxx )  {\n          case 1:\n              Console.WriteLine("Case 1");\n              break;\n          default:\n              Console.WriteLine("Default case");\n              break;\n}
file_size_| // Make a reference to a directory.\n        DirectoryInfo di = new DirectoryInfo("c:\\\\");\n        // Get a reference to each file in that directory.\n        FileInfo[] fiArr = di.GetFiles();\n        // Display the names and sizes of the files.\n        Console.WriteLine("The directory {0} contains the following files:", di.Name);\n        foreach (FileInfo f in fiArr)\n            Console.WriteLine("The size of {0} is {1} bytes.", f.Name, f.Length);\n\n
echo_|Console.WriteLine("value of a: {0}", a);\nConsole.WriteLine($"Hello, {name}, on {date} \\n");\n\n
path_temp_|// Get system temp folder path\nstring temp = Path.GetTempPath();\nConsole.WriteLine("TEMP PATH: {0}", temp);\n// Get random file name\nstring file_name = Path.GetRandomFileName();\nConsole.WriteLine("RANDOM: {0}", result);\n// assemble a temp file path \nstring path_rand_file = Path.Combine(temp, file_name);
file_exists_|using system.IO;\nif (!File.Exists(InputFileName)) {\n    Console.WriteLine("File " + InputFileName + " not found.");\n    return;\n}
file_info_|var path = @"C:\\Users\\Jano\\Documents\\cars.txt";\nif (File.Exists(path)) {\n                Console.WriteLine(File.GetCreationTime(path));\n                Console.WriteLine(File.GetLastWriteTime(path));\n                Console.WriteLine(File.GetLastAccessTime(path));\n}\n
public_|public int my_var_name;\npublic int My_var_name {\n    get { return my_var_name; }\n    set { my_var_name = Value; }\n}
dir_rm_|// Delete a directory. Must be writable or empty.\n        try\n        {\n            System.IO.Directory.Delete(@"C:\\Users\\Public\\DeleteTest");\n        }\n        catch (System.IO.IOException e)\n        {\n            Console.WriteLine(e.Message);\n        }\n        // Delete a directory and all subdirectories with Directory static method...\n        if(System.IO.Directory.Exists(@"C:\\Users\\Public\\DeleteTest"))\n        {\n            try\n            {\n                System.IO.Directory.Delete(@"C:\\Users\\Public\\DeleteTest", true);\n            }\n\n            catch (System.IO.IOException e)\n            {\n                Console.WriteLine(e.Message);\n            }\n        }
namespace_|namespace NSName {\n    class ExampleClass {\n        static void Main() {\n        }\n    }\n}
dir_list_|// To copy all the files in one directory to another directory.\n// Get the files in the source folder. (To recursively iterate through\n// all subfolders under the current directory, see\n// "How to: Iterate Through a Directory Tree.")\n// Note: Check for target path was performed previously\n//       in this code example.\nif (System.IO.Directory.Exists(sourcePath)) {\n            string[] files = System.IO.Directory.GetFiles(sourcePath);\n\n            // Copy the files and overwrite destination files if they already exist.\n            foreach (string s in files) {\n                // Use static Path methods to extract only the file name from the path.\n                fileName = System.IO.Path.GetFileName(s);\n                destFile = System.IO.Path.Combine(targetPath, fileName);\n                System.IO.File.Copy(s, destFile, true);\n            }\n\n            // alternative:\n            var dirInfo = new DirectoryInfo(path);\n            string[] files = Directory.GetFiles(path);\n            DirectoryInfo[] dirs = dirInfo.GetDirectories();\n            foreach (DirectoryInfo subDir in dirs) {\n                Console.WriteLine(subDir.Name);\n            }\n            foreach (string fileName in files) {\n                Console.WriteLine(fileName);\n            }\n} else {\n    Console.WriteLine("Source path does not exist!");\n}\n
publics_|public static void StaticMethod() { }
sprintf_|Console.WriteLine("The string has {0} characters", len);\nstring msg = string.Format("{0} is {1} years old.", name, age);\nstring msg = $"{name} is {age} years old";\n\n\n\n\n\n\n
str_join_|var items = new string[] { "C#", "Visual Basic", "Java", "Perl" };\nvar langs = string.Join(",", items);
class_|public abstract class Shape {\n   public abstract double Area { get; }\n   public abstract double Circumference { get; }\n  public override string ToString() {\n    return "(" + this.Area + " " + this.Circumference + ")";;\n  }\n}\npublic class Rectangle : Shape {\n   public Rectangle(double length, double width) {\n      Length = length;\n      Width = width;\n   }\n   public double Length { get; set; }\n   public double Width { get; set; }\n   public override double Area {\n      get { return Math.Round(Length * Width,2); }\n   }\n   public override double Circumference {\n      get { return (Length + Width) * 2; }\n   }\n}\npublic class Square : Rectangle {\n   public Square(double side) : base(side, side) {\n      Side = side;\n   }\n   public double Side { get; set; }\n}\npublic class Circle : Shape {\n   public Circle(double radius) {\n      Radius = radius;\n   }\n   public double Radius { get; set; }\n   public override double Circumference {\n      get { return 2 * Math.PI * Radius; }\n   }\n   public override double Area {\n      get { return Math.PI * Math.Pow(Radius, 2); }\n   }\n}\n//\n//\n//\npublic class Order {\n            private readonly List<OrderItem> items = new List<OrderItem>();\n            public string OrderId { get; set; }\n            public Customer Customer { get; set; }\n            public List<OrderItem> Items { get { return items; } }\n}\npublic class Customer {\n            public string Name { get; set; }\n            public string Address { get; set; }\n}\npublic class OrderItem {\n            public string ItemId { get; set; }\n            public int Quantity { get; set; }\n}\n// object initializer:\nvar order = new Order {\n                OrderId = "xyz",\n                Customer = new Customer { Name = "Jon", Address = "UK" },\n                Items = {\n                    new OrderItem { ItemId = "abcd123", Quantity = 1 },\n                    new OrderItem { ItemId = "fghi456", Quantity = 2 }\n                }\n};\n\n
dir_exists_|System.IO.Directory.Exists(sourcePath)
clojure_|Expression<Func<int, int, int>> adder = (x, y) => x + y;\n//\nExpression<Func<int, int, int>> adder = (x, y) => x + y;\n            Func<int, int, int> executableAdder = adder.Compile();\n            Console.WriteLine(executableAdder(2, 3));\n//\nAction action = () => {\n    Console.WriteLine( "Outer: {0}; Inner: {1}", outerCounter, innerCounter);\n    outerCounter++;\n};\n
rand_| // Random number generator \nstatic Random rnd = new Random();\nvar i= rnd.Next(1, cards.Count );// compreso tra 1 e x\n\n
string_interpolation_|Console.WriteLine($"{name} is {age} years old");\nConsole.WriteLine($"Hello, {name}! Today is {now.DayOfWeek}, \n                    it's {now:HH:mm} now");
basename_|path_filename_
str_substring_|string trimmed = str.Substring(start, end - start + 1);
obj_get_type_|string lang = "Java";\n  string bclass = lang.GetType().Name;\n  Console.WriteLine(bclass);\n\n
date_now_|var date = DateTime.Now;\n   Console.WriteLine($" {now.DayOfWeek}, it's {now:HH:mm} now");\n\n\nConsole.WriteLine(string.Format("Short date: {0:d}", today));\n            Console.WriteLine(string.Format("Long date: {0:D}", today));\n            Console.WriteLine(string.Format("Short time: {0:t}", today));\n            Console.WriteLine(string.Format("Long time: {0:T}", today));\n            Console.WriteLine(string.Format("Month: {0:M}", today));\n            Console.WriteLine(string.Format("Year: {0:Y}", today));\n\nSystem.Console.WriteLine(now.ToShortDateString());\nSystem.Console.WriteLine(now.ToShortTimeString());\n\nShort date: 10/24/2019\nLong date: Thursday, October 24, 2019\nShort time: 1:37 PM\nLong time: 1:37:38 PM\nMonth: October 24\nYear: October 2019\n\n12/5/2018\n8:09 PM\n\n
str_replace_|str.Replace("\\n\\n", "\\n");// simple replace\n\nusing System.Text.RegularExpressions;\nstring textWithoutTags = Regex.Replace(str, "<[^>]*>", "\\n");
number_format_|Console.WriteLine(string.Format("Number: {0:N}", 126));\n            Console.WriteLine(string.Format("Scientific: {0:E}", 126));\n            Console.WriteLine(string.Format("Currency: {0:C}", 126));\n            Console.WriteLine(string.Format("Percent: {0:P}", 126));\n            Console.WriteLine(string.Format("Hexadecimal: {0:X}", 126));\n\nNumber: 126.00\nScientific: 1.260000E+002\nCurrency: $126.00\nPercent: 12,600.00%\nHexadecimal: 7E\n\n
cast_|// int 2 bool\nbool male = Convert.ToBoolean(random.Next(0, 2));\n// str 2 int\nvar i = Convert.ToInt32("452")\n\nloat n3 = (float) 1 / 3;\n//The division operation returns integer numbers by default! By casting we get a float number.\n\ndouble b = 13.5;\nfloat a = (float) b;\nfloat c = (int) a;\n\n\n\n\n\n\n
f_|public int my_func_name(int state) {\n    return 0;\n}\n 
dynamic_|static void PrintName(dynamic obj) {\n    Console.WriteLine(obj.Name);\n}\nstatic void Main() {\n            var x = new { Name = "Abc" };\n            var y = new { Name = "Def", Score = 10 };\n            PrintName(x);\n            PrintName(y);\n}\n
enum_|public enum Color { Red, Green, Blue }\nColor c = (Color) (new Random()).Next(0, 3);\nswitch (c) {\n    case Color.Red:\n        Console.WriteLine("The color is red");\n    break;\n}\n// access and test\nColor c1 = Color.Red;\nif (c1 == Color.Red) { }\n// iterate\nforeach (int i in Enum.GetValues(typeof(Colors))) {\n    Console.WriteLine(i);ù\n}\n\n\n\n      
list_dynamic_|List<dynamic> source = new List<dynamic> {\n                5,\n                2.75,\n                TimeSpan.FromSeconds(45)\n};\nIEnumerable<dynamic> query = source.Select(x => x * 2);\nforeach (dynamic value in query) {\n                Console.WriteLine(value);\n}\n\n
console_ask_|Console.WriteLine("\\nWhat is your name? ");\nvar name = Console.ReadLine();\nConsole.WriteLine($"\\nHello, {name} !");\nConsole.ReadKey(true);
[bbj]
[freemarker]
[coffeescript]
[assembly-arm32]
[vbscript]
[visualbasic]
[url]
[povray]
[jmk]
[icalendar]
[slate]
[tld]
[shtml]
[haskell]
[gsp]
[hlsl]
[n3]
[typescript]
confirm_|if( confirm("Press a button!") == true ) {\n    console.log("You pressed OK!");\n} else {\n    console.log("You pressed Cancel!");\n}\n\n
jq_dom_map_|$("input").map(function(){\n      return $(this).val();\n    }).get().join(", ")
jq_hover_|jQuery('#something').hover(\nfunction(){\njQuery(this).stop(true)\n.fadeTo( 1, 1000 )\n.animate( {height:500}, 1000 );\n},\nfunction(){\njQuery(this).stop(true)\n.fadeTo( 0.8, 1000 )\n.animate( {height:200}, 1000 );\n}\n);\n
unset_|delete obj['index'];//ok for hash, for index array non ricalcola la .length\n// for indexed arrays:\narray.splice(index, 1);\n\nfunction remove_all(arr, val) {\n  var i;\n  while ((i = arr.indexOf(val)) != -1) { arr.splice(i, 1); }\n}\n// alternative\narr = arr.filter(function(item) {\n    return item !== value\n})\n\n
jq_prevent_default_|on xx(event:JQueryEventObject):void {\nevent.preventDefault();\n}
substr_|str.substring(0,2);
jq_add_class_|$('selector').addClass('class_name');
pstatic_|staticp_
jq_serialize_|// URL-encoded notation\nlet url_data = $('form').serialize();\n// array [{ name: "a", value: "1" }]\nlet a_data   = $('form').serializeArray();\n
factory_|function createObject(name) \n{\n  let privateName = name || "I am private name";\n  let privateMethod = function () {\n    return "result of private"; \n  }\n  return {\n    publicName: "I am public name",\n    publicMethod: function () {\n           alert("privateName is " + privateName + ", privateMethod called: "+ privateMethod()); \n      }\n  }\n}
file_read_|let read_index_file = (file_path: string, on_read: TCallback<string>) => {\n     try {\n         console.log(lf('read_index_file', file_path));\n           window.resolveLocalFileSystemURL(file_path,\n         (entry: FileEntry) => {\n             entry.file( (file: File) => {\n                 let reader = new FileReader();\n                 reader.onloadend = (evt) => {\n                     // download_index = this.result\n                     let et:EventTarget = evt.target;\n                     console.log( et );\n                 };\n                 reader.readAsText(file);\n             });\n         },\n         (error) => {\n             console.log(lf('read_index_file', " ERROR resolveFS:"));\n             Logger.fail(error);\n         });\n     } catch (e) {\n         console.log(lf('read_index_file', " ERROR exception:"));\n         Logger.fail(e);\n     }\n };
_delay_|// _.delay(function, wait_ms, *opt_arg) \n// like setTimeout, invokes function after wait milliseconds. \n// opt_arg, will be passsed on to the function\nthis.tooltipTimeout = _.delay((opt_arg) => $(".ui-tooltip-top").show().fadeIn(), 1000, opt_arg);
settimeout_|// function is only executed once\nlet timeout_params: Hash = {};\nlet timer_x = window.setTimeout( (t_params:Hash) => {\n    console.log(t_params);\n}, 2*1000, timeout_params);\n// window.clearTimeout(timer_x); // deletes the scheduled execution
staticp_|static_#$1#
tuple_|var t: [number, string] = [3, "three"];\n
get_|    private _name: string;\n    get name(): string {\n        return this._name;\n    }\t\n    set name(s: string) {\n        this._name = s; \n    }
array_pagination_|// ritorna una paginata da un array\npublic static paginate<T>(itemRecList:Array<T>, page:number, page_len:number):Array<T> {\n    let rs:Array<T> = [];    \n    let min = (page-1) * page_len;\n    let max = page * page_len;\n    for( let i:number=0; i<itemRecList.length; i++) {\n        if( i >= min && i < max ) {\n            rs.push( itemRecList[i] );\n        }\n    }\n    return rs;\n}\n\n
trim_|let s = $.trim(str);
array_splice_|users.splice(2, 0, { name: 'Jenny', age: 45 }) // add new user at index 2\nconst removedUsers = users.splice(2, 1) // remove user at index 2 and returned\n/* Explanation:\n- splice method is really helpful. You can add or remove items at any index.\n- At the first argument we have to pass the index from where we want to do operations.\n- 2nd argument is for how many items you want to remove from the array.\n- Then you can pass as many arguments as you want. They will be added to the given index.\n- If you remove any item, then it will be removed from the function as an array. */
jq_get_|jq_ajax_get_
promise_es6_|// ES6 promises  /usr/lib/node_modules/typescript/lib/lib.es6.d.ts\n//----- restituire una promise per eliminare l'uso dello callback\nclass API {\n    public get(url:string):Promise<string> {\n        return new Promise( (\n            resolve:(r: string) => void ,\n            reject:(r: string) => void\n        ) => {\n            setTimeout( () => {\n                console.log('PromiseTest setTimeout', url );\n                if( url == 'err' ) {\n                     return reject('reject err');\n                } else {\n                     resolve('resolve 42 '+url);\n                }\n            }, 600);\n        });\n    }\n}\nfunction _log(data:any) {\n    console.log('PromiseTest',data);\n}\nlet on_success, on_error = _log;\nvar api = new API();\nfor (const url of ['nuggets','err'] ) {\n    api.get(url).then(on_success, on_error);\n    // sarà chiamato questo metodo quando la promise è soddisfatta        \n}\n\n//--------- parallel: on all done\nvar p1 = new Promise((resolve, reject) => { \n  setTimeout(resolve, 1000, "one"); \n}); \nvar p2 = new Promise((resolve, reject) => { \n  setTimeout(resolve, 2000, "two"); \n});\nvar p3 = new Promise((resolve, reject) => {\n  setTimeout(resolve, 3000, "three");\n});\nvar p4 = new Promise((resolve, reject) => {\n  setTimeout(resolve, 4000, "four");\n});\nPromise.all([p1, p2, p3, p4 ]).then(value => { \n  console.log(value);\n}, reason => {\n  console.log(reason)\n}).catch((err) => console.log(err));\n\n\n
mustache_|let data_obj = {\n  title: "Joe",\n  calc: function () {\n    return 2 + 4;\n  }\n};\nlet html = Mustache.render("{{title}} spends {{calc}}", data_obj );
jq_exists_|jq_hasnode_
jq_promise_multiple_|jq_promise_when_
reference_|/// <reference path="jquery.d.ts" />
is_str_|_.isString( str )\nif (typeof str === "string") {  }
_extend_|_.extend({name: 'moe'}, {age: 50});\n=> {name: 'moe', age: 50}
str_indexof_|var n = str.indexOf("welcome");// -1 if not found
__MAIN__|function isNodejs():boolean {\n    return ( (typeof process !== 'undefined') && (process!== void 0) && (process.versions!== void 0) && (process.versions.node!== void 0));\n}\nif( isNodejs() ) {\n    console.log( 'test test' );\n}
round_|Math.ceil( num ) // non permette di specificare il numero di decimali\n\n// permette di specificare il numero di decimali\n    public static round(n:number, precision:number):number {\n        var pair = (n + 'e').split('e')\n        var str = pair[0] + 'e' + (+pair[1] + precision);\n        var value = Math.round( parseInt(str, 10) )\n        pair = (value + 'e').split('e')\n        return +(pair[0] + 'e' + (+pair[1] - precision))\n    }
input_mask_date_|<script src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/3/jquery.inputmask.bundle.js"></script>\n        // enhancement del input mese anno\n        var el_mese_anno = $(":input[name=mese_anno_immatricolazione_c]");\n        el_mese_anno.inputmask({"mask": "99-9999"});
dom_get_by_id_|var element = document.getElementById(id);
extend_|jq_extend_
sort_|array_sort_
Map_|const map = new Map(); \nmap.set("hobby", "cycling"); // Sets a key value pair\nfor (var [key, value] of map) {\n  console.log(key + " =  " + value); // hobby = cycling \n}\nmap.forEach(function(value, key) {\n  console.log(key + " = " + value);\n}, map)  // hobby = cycling \nmap.clear();\nconsole.log(map.size === 0); \n\n\n\n\n\n\n
jq_load_|// it and all sub-elements have been completely loaded\n$('#book').load(function() {\n\n});
htmlentities_|function htmlentities(s) {\n\treturn (s + '').replace(/&/g, '&amp;')\n\t\t.replace(/</g, '&lt;')\n\t\t.replace(/>/g, '&gt;')\n\t\t.replace(/'/g, '&#039;')\n\t\t.replace(/"/g, '&quot;')\n\t\t.replace(/\\n/g, '<br />');\n}\nfunction htmlentities_remove(text) {\n\treturn text.replace(/&.*?;/g, '');\n}
date_diff_|const dayDif = (date1, date2) => Math.ceil(Math.abs(date1.getTime() - date2.getTime()) / 86400000)\n\ndayDif(new Date("2020-10-21"), new Date("2021-10-22"))\n// Result: 366
promise_es5_|promise_jq_\n// or Q or bluebird\n\n\n
array_remove_|Removes elements from an array for which the given function returns false.\n\nUse Array.filter() to find array elements that return truthy values and Array.reduce() to remove elements using Array.splice(). The func is invoked with three arguments (value, index, array).\n\nconst remove = (arr, func) =>\n  Array.isArray(arr)\n    ? arr.filter(func).reduce((acc, val) => {\n        arr.splice(arr.indexOf(val), 1);\n        return acc.concat(val);\n      }, [])\n    : [];\nremove([1, 2, 3, 4], n => n % 2 == 0); // [2, 4]
block_|// blocca l'esecuzione fino a trovare un risltato e ritorna\nfunction somethingSync(args){\n    let ret; //the result-holding variable\n    //doing something async here...\n    somethingAsync(args,function(result){\n        ret = result;\n    });\n    //wait for the result until it's available, cause the blocking\n    while(ret === undefined){} \n    return ret;\n}
jq_unique_|let a_unique = $.unique( a_ );
each_|_each_
except_|throw "errormsg\|";
array_values_|_.values(aaa)
jq_end_|$( "ul.first" )\n  .find( ".foo" )\n    .css( "background-color", "red" )\n  .end()  // returs a query object\n  .find( ".bar" )\n    .css( "background-color", "green" );
str_tolower_|ssss.toLowerCase();
jq_selector_list_|/*\n$(':radio[name=name]:checked').val();\n\n    All                         *   \n                                :animated \n    Attribute Contains Prefix   [name|=  value  ]\n    Attribute Contains          [name*=  value  ]\n    Attribute Contains Word     [name~=  value  ]\n    Attribute Ends With         [name$=  value  ]\n    Attribute Equals            [name=  value  ]\n    Attribute Not Equal         [name!=  value  ]\n    Attribute Starts With       [name^=  value  ]\n                                :button\n                                :checkbox \n                                :checked \n    Child                       parent > child   \n    Class                       .class   \n                                :contains   \n                                :disabled \n                                :empty \n                                :enabled \n                                :eq   \n                                :even \n                                :file \n                                :first-child \n                                :first-of-type \n                                :first \n                                :focus \n                                :gt   \n    Has Attribute               [name]\n                                :has   \n                                :header \n                                :hidden \n    ID                          #id   \n                                :image \n                                :input \n                                :lang   \n                                :last-child \n                                :last-of-type \n                                :last \n                                :lt   \n    Multiple Attribute          [name=value][name2=value2″]\n    Multiple                    selector1, 2, N   \n    Next Adjacent               prev + next   \n    Next Siblings               prev ~ siblings   \n                                :not   \n                                :nth-child   \n                                :nth-last-child   \n                                :nth-last-of-type   \n                                :nth-of-type   \n                                :odd \n                                :only-child \n                                :only-of-type \n                                :parent \n                                :password \n                                :radio \n                                :reset \n                                :root \n                                :selected \n                                :submit \n                                :target \n                                :text \n                                :visible \n*/\n
bb_collection_each_|item_collection.each( (element: Model, index: number) => {\n  \n} );
global_|var app:any = app || {};\nnamespace Utils { ... }\nconst ENV = Utils.ENV;
array_paginate_|U.paginate(array_xxx, page: 1, page_len);
_underscore_|https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore.js
_keys_|_.keys({one: 1, two: 2, three: 3});\n//=> ["one", "two", "three"]
interface_func_|interface ICallbackType extends Function { \n  (msg: string): void;  // def firma di una callback\n}\n// inline:  callback: { (pos: number): void }\n// inline2: callback: (pos: number) => void \n
_contains_|//Returns true if the value is present in the list. Uses indexOf internally\nlet is_present = _.contains([1, 2, 3], 3);\n// => true
closure_|for (let i = 0; i < 3; i++) {\n    // sulution 1\n    function make_handler(index): () => {\n        let handler = () => {\n            index += 1;\n            return i;\n        }\n        return handler;\n    }\n    // sulution 2\n    (function(index) {\n        console.log('iterator: ' + index);\n    })(i);\n    on_click( make_handler(i) );\n}\n// @see foreach_\n
switch_|switch(string) {\n    case 'nnn':\n        teststr();\n    break;\n    default:\n        teststr();\n}
num_even_|const num_even = num => num % 2 === 0;\n\nconsole.log(num_even(2)); 
lastIndexOf_|-1 !== window.location.pathname.lastIndexOf('/xxxx_Orders/');
str_len_|str.length
func_get_args_|function test(s: string, ...rest: string[]): void {\n    console.log(s);\n    if (rest.length) {\n        console.log(rest[rest.length - 1]);\n    }\n}
type_union_|// AKA algebraic data types\ntype TPadding = string | number;\n\ninterface Square {\n    kind: "square";\n}\ninterface Rectangle {\n    kind: "rectangle";\n}\ntype TShape = Square | Rectangle  ;\nfunction area(s: Shape): number {\n    switch (s.kind) {\n        case "square": return s.size * s.size;\n        case "rectangle": return s.height * s.width;\n    }\n}\n// default: return assertNever(s); // error here if there are missing cases\nfunction assertNever(x: never): never {\n    throw new Error("Unexpected object: " + x);\n}\n
parsefloat_|var float = parseFloat(string);//may return NaN\nif(float){\n}
jq_inpup_get_|jq_by_name_
module_|module M {\n    export class C {\n    }\n}\n// namespace_
publics_|public static func_name():string {\n    return '';\n}
jq_remove_|// elimina dal DOM i nodi selezionati\n$(selector).remove();
prompt_|let s = prompt("question","default");\nif ( s!=null && s!="" ) {\n}
_sprintf_|let s = _.str.sprintf('%s', val);
array_slice_|array.slice(pos, page_len)
valid_date_|const isDateValid = (...val) => !Number.isNaN(new Date(...val).valueOf());\n\nisDateValid("December 17, 1995 03:24:00");
json_decode_|try{ \n    let obj:any = JSON.parse(json); \n} catch(e) { \n    console.log('JSON parse error:'+e.message); \n}
array_key_exists_|_has_
rs_order_by_|/*\nReturns a sorted array of objects ordered by properties and orders.\nUses a custom implementation of sort, that reduces the props array argument with a default value of 0, \nit uses destructuring to swap the properties position depending on the order passed. \nIf no orders array is passed it sort by 'asc' by default.\n*/\nconst orderBy = (arr, props, orders) =>\n  [...arr].sort((a, b) =>\n    props.reduce((acc, prop, i) => {\n      if (acc === 0) {\n        const [p1, p2] = orders && orders[i] === 'desc' ? [b[prop], a[prop]] : [a[prop], b[prop]];\n        acc = p1 > p2 ? 1 : p1 < p2 ? -1 : 0;\n      }\n      return acc;\n    }, 0)\n  );\nconst users = [\n  { name: 'fred', age: 48 },\n  { name: 'barney', age: 36 },\n  { name: 'fred', age: 40 },\n  { name: 'barney', age: 34 }\n];\norderBy(users, ['name', 'age'], ['asc', 'desc']); // [{name: 'barney', age: 36}, {name: 'barney', age: 34}, {name: 'fred', age: 48}, {name: 'fred', age: 40}]\norderBy(users, ['name', 'age']); // [{name: 'barney', age: 34}, {name: 'barney', age: 36}, {name: 'fred', age: 40}, {name: 'fred', age: 48}]
cast_int_|let i:number = parseInt("10", 10);
map_|let _a = a.map(function(v,k){\n    v.name = '"'+v.name+'"';\n    return v;\n});
is_number_|//\nfunction isNumber(n:any):boolean { return !isNaN(parseFloat(n)) && !isNaN(n - 0) }\n// The same using regex: function isNumber(n) { return /^-?[\\d.]+(?:e-?\\d+)?$/.test(n); } \n\n// tests:\nok( isNumber('123'), true, 'is num 1');  \nok( isNumber('123abc'), false, 'is num 2');  \nok( isNumber(5), true, 'is num 3');\nok( isNumber('q345'), false, 'is num 4');\nok( isNumber(null), false, 'is num 5');\nok( isNumber(undefined), false, 'is num 6');\nok( isNumber(false), false, 'is num 7');\nok( isNumber('   '), false, 'is num 8');\n\n
_empty_|_.isEmpty(obj)
type_str_literal_|// String Literal Type:\ntype TCardinalDirection = "North" | "East" | "South" | "West";\nfunction move(direction: TCardinalDirection) {}\nmove("Nurth"); // Error!
protected_|protected xxx(){}
jq_map_|let a = $.map( [2,3,4], function(n){\n   return n*2;\n});//[4, 6, 8]
const_|const MAX_DIM_CHUNK = 50; // immutable es6\npublic static final PLATFORM_NATIVE = 'cordova' ;
object_|let T = {\n    name: "a", \n    say: function() {\n        alert(this.a); \n    }\n};
bb_model_|\n// let book = new BookModel({ title: "" });\n// order.save({ title: value });\n/* \n<script>\nApp.order_list = new Models.OrderCollection([\n        { title: 'JavaScript: The Good Parts',      author: 'Douglas Crockford'   },\n        { title: 'The Little Book on CoffeeScript', author: 'Alex MacCaw'         },\n]);\n// or = new xxCollection(<?=json_encode($order_list) ?>);\n</script>\n*/\nmodule Models {\n    export class Order extends Backbone.Model {\n        initialize(attributes?: Hash): void {}\n        defaults(){ return {} }        \n    }\n    export class OrderCollection extends Backbone.Collection {\n        constructor(models?: any, options?: any){\n            super(models, options);\n        }\n        initialize() {\n            this.model = Models.Order;\n        }\n    }\n}\n/*\naccessing:\nvar photo = App.photos.get(2);// Gets by ID\n// Gets a bunch of photos based on criteria\nvar photo = App.photos.select(function(photo) {\n  return photo.get('filename').match(/^IMG/);\n});\n*/\n
jq_build_|$('<div/>', {\n    'id':'myDiv',\n    'class':'myClass',\n    'style':'cursor:pointer;font-weight:bold;',\n    'html':'<span>For HTML</span>',\n    'click':function(){ alert(this.id) },\n    'mouseenter':function(){ $(this).css('color', 'red'); },\n    'mouseleave':function(){ $(this).css('color', 'black'); }\n}).appendTo('body');
a_str_|let a_: Array<string> = ['a','b'];
jq_extend_|let settings = $.extend({ test: 1 }, opt);\n
array_map_|map_$1
generic_|// Generic functions example\nfunction reverse<T>(list: T[]) : T[] {\n  let reversedList: T[] = [];\n  for (let i = (list.length - 1); i >=0; i--) {\n    reversedList.push(list[i]);\n  }\n  return reversedList;\n}\nlet numbers = [1, 2, 3, 4];\nlet reversedNumbers = reverse<number>(numbers); // 4, 3, 2, 1\n\nfunction map<T, U>(a: T[], f: (x: T) => U): U[] {\n  let result: U[] = [];\n  for (let i = 0; i < a.length; i++) result.push(f(a[i]));\n  return result;\n}\nlet names = ["Peter", "Paul", "Mary"];\nlet lengths = map<string, number>(names, s => s.length);\n\n\n\n\n
jq_rm_|jq_remove_
ceil_|let n = Math.ceil(7.004); // 8
is_in_range_|const inRange = (n, start, end = null) => {\n  if (end && start > end) end = [start, (start = end)][0];\n  return end == null ? n >= 0 && n < start : n >= start && n < end;\n};\ninRange(3, 2, 5); // true\ninRange(3, 4); // true\ninRange(2, 3, 5); // false\ninrange(3, 2); // false
str_substr_|str.substr( start_index , length ); // start_index may be negative\nstr.substring(start_index, end_index);// \n\nlet pf = p.substring(0, (p.length-1) ); // prezzo meno U finale\n\nlet last_char = str.substr( -1 ); // ultimo carattere di una stringa\nlet first_char = str.substr( 0, 1 );\n\n
set_timeout_|settimeout_
interval_|let intervalID = window.setInterval(function(){}, 500); \nclearInterval(intervalID);
static_binding_|// "late static binding"\n// access the overridden method\nlet cc:CartController = <typeof CartController>this.constructor;
jq_wrap_all_|$( ".inner" ).wrapAll( "<div class='my_css' />");
t_|throw_
jq_delegate_|$( "table" ).delegate( "td", "click", function() {\n  $( this ).toggleClass( "chosen" );\n});
async_await_|// TS in ES5 mode needs a Promise implementation\nfunction delay(ms: number) {\n    return new Promise<void>( (resolve) => {\n        setTimeout(resolve, ms);\n    });\n}\n// syncronous execution\nasync function asyncAwait() {\n    console.log("Knock, knock!");\n    \n    await delay(1000);// aspetta\n    console.log("Who's there?");\n    \n    await delay(1000);// aspetta\n    console.log("async/await!");\n}\nasyncAwait();\n// [After 0s] Knock, knock!\n// [After 1s] Who's there?\n// [After 2s] async/await!
array_every_|// [12, 54, 18, 130, 44].every(elem => elem >= 10); // true\nlet is_ok = a_xxx.every(xxx => xxx >= 10); 
floor_|let n = Math.floor( 45.95 ); //  45
funzione_|docstring_
if_|if( \n\ttypeof_#$1# && \n\t$jq_selection.length && \n        !_.isEmpty( $1 ) \n) {\n\|}
indexof_|//let a = ['apple','orange','pear'];\nlet is_found = (a.indexOf("orange") != -1);\nlet has_char = str.indexOf('@') === -1;
coalesce_|    public static coalesce(...rest: any[]):any {\n        if (rest.length) {\n            for (const v of rest ) {\n                if( 0 ===v || v ) {\n                    return v;\n                }\n            }\n        }\n        return null;\n    }\nconst coalesce = (...args) => args.find(_ => ![undefined, null].includes(_));\n// old style\nfunction coalesce() {\n\tfor (var i=0; i<arguments.length; i++) {\n\t\tif (arguments[i] !== undefined) {  return arguments[i];  }\n\t}\n}\ncoalesce(null, undefined, '', NaN, 'Waldo'); // ""
globals_|window['var_name']
date_add_|// use moment()\nlet t1 = new Date();\nlet delta = (10 * 60 + 3) * 1000;\nlet t2 = new Date(t1.getTime() + delta);
include_|require_
when_|jq_when_
join_|array.join(',');
reg_test_|let re_email = /^([a-zA-Z0-9_.-])+@(([a-zA-Z0-9-]{2,})+.)+([a-zA-Z0-9]{2,})+$/;\nif ( _.isEmpty(str) || !re_email.test(str)  ) { console.log("not email "+str); } else { console.log('email format ok '+str); }\n\nlet is_numeric = s_num.match(/^[0-9]+$/) !== null;\n// /[0-9\\.]/.test(v)\n\nif ("string" != typeof sxx &&  /[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(sxx) ) {\n\tthrow new TypeError("Invalid character in sxx");\n}\n\n\n\n
jq_is_function_|if ( $.isFunction( settings.onShow ) ) {\nsettings.onShow.call(this);\n}\n
h_get_def_|function h_get<T>( h:Dictionary<T>, k:string, def:T ):T {\n    return typeof h[k] != 'undefined' ?  h[k] : def;\n}
timeout_|setTimeout(function(){ alert("Hello"); }, 300);
jq_scroll_|// todo!
min_|let n = Math.min(n1,n2);
jq_is_|$( "ul" ).click(function( event ) {\n  let target = $( event.target );\n  if ( target.is( "li" ) ) {\n    target.css( "background-color", "red" );\n  }\n});
csv_parse_|// var csv is the CSV file content\n// first line is the header\nfunction csv_parse(csv){\n    var lines = csv.split("\\n");\n    var result = [];\n    var headers = lines[0].split(",");\n    for(var i=1;i<lines.length;i++){\n        var obj = {};\n        var currentline = lines[i].split(",");\n        for(var j=0;j<headers.length;j++){\n            obj[headers[j]] = currentline[j];\n        }\n        result.push(obj);\n    }\n    return result; //JavaScript object\n    // return JSON.stringify(result); //JSON\n}
is_function_|jq_is_function_
jq_ajax_|$.ajax({\n  url: '/data/people.json',\n  type: 'POST',\n  dataType: 'json',\n  //cache: true,\n  success: function( resp_o ) {\n    $( '#target').html( resp_o.name );\n  },\n  error: function( req, status, err ) {\n                    console.log( 'ajax error:', status, err );\n                    if( status == 'parsererror' ) {\n                        UI.alert('Richiesta terminata con errore di parsing. Provare a riloggarsi.');\n                    } else {\n                        UI.alert('Errore:'+err+' status:'+status );\n                    }\n  }\n});
str_|__END__
file_size_|// @see file_exists_
get_set_|public get $1() {\n    return this.$1;\n}\npublic set $1($1) {   \n    this.$1 = $1;\n}
array_|let a_: string[] = ['hello', 'world'];
_memoize_|var fibonacci = _.memoize(function(n) {\n  return n < 2 ? n: fibonacci(n - 1) + fibonacci(n - 2);\n});\n\nlet memoize = fn => { \n  let cache = {}; \n  return (…args) => { \n    let stringifiedArgs = JSON.stringify(args);\n    let result = cache[stringifiedArgs] = cache[stringifiedArgs] || fn(…args);\n    return result;\n  };\n};
js_include_|function include(js_url){\n        let s = document.createElement('script');\n        s.type = 'text/javascript';\n        s.async = true;\n        s.src = js_url;\n        let x = document.getElementsByTagName('script')[0];\n        x.parentNode.insertBefore(s, x);\n}\ninclude = function() {\n    // save references to save a few bytes\n    var args = arguments;\n    var doc = document;\n    var toLoad = args.length; // load this many scripts\n    var lastArgument = args[toLoad - 1];\n    var hasCallback = lastArgument.call; // is the last arg a callback?\n    if (hasCallback) {\n        toLoad--;\n    }\n    function onScriptLoaded() {\n        var readyState = this.readyState; // we test for "complete" or "loaded" if on IE\n        if (!readyState || /ded|te/.test(readyState)) {\n            toLoad--;\n            if (!toLoad && hasCallback) {\n                lastArgument();\n            }\n        }\n    }\n    var script;\n    for (var i = 0; i < toLoad; i++) {\n        script = doc.createElement('script');\n        script.src = arguments[i];\n        script.async = true;\n        script.onload = script.onerror = script.onreadystatechange = onScriptLoaded;\n        ( doc.head || doc.getElementsByTagName('head')[0] ).appendChild(script);\n    }\n};
array_min_|// escludi prezzi 0\n                let _a_num = [p1, p2, p3].filter(function(v){\n                    return v === 0;\n                });\n                cart_price = Math.min.apply(null, _a_num ); // min su array, che invece prevede n params
jq_find_|$( 'li' )\n.find( 'span' )\n.attr( 'title', 'Hover over me' )\n.click(function() {\n    $( this ).addClass( 'clicked' );\n});
require_|import_\nreference_
jq_prop_|let el = $(selector).prop(k, v); // see jq_attr_
f__|function \|():void { return; }
boundaries_|let boundaries = (val, min_val, max_val) => {\n  return Math.max(min_val, Math.min(val, max_val ) );\n};\n/* different implementation\nlet boundaries = (num, a, b) => Math.max(Math.min(num, Math.max(a, b)), Math.min(a, b));\n*/\nboundaries(2, 3, 5); // 3\nboundaries(1, -1, -5); // -1\nboundaries(3, 2, 4); // 3\n \n
fifo_|fifo_lifo_
array_find_|// The first element that pass function\nconst a2 = array_num.find(e => e > 10);\n
bb_observable_|bb_events_
preg_scan_|"dolor sit amet".match(/\\w+/g);
jq_attr_|$(selector).attr(k, v);
jq_remove_class_|$('selector').removeClass('classname');\n
_GET|// get params from query string\nfunction _GET(k) {\n  let URL = window.location;\n  let URL2 = JSON.parse('{"' + decodeURI(URL.split("?")[1]).replace(/"/g, '\\\\"').replace(/&/g, '","').replace(/=/g, '":"') +'"}');\n  var data = JSON.stringify(URL2);\n  return data[k];\n};\n\n_GET('k')
printf_|sprintf_
jq_target_|$('').click(function(e){\nlet el = jQuery(e.target).closest('tr');\n});
str_explode_|str_split_
sp_|sprintf_
apply_|fun.apply(this_obj, array_arguments );
_max_|let stooges = [{name: 'moe', age: 40}, {name: 'larry', age: 50}, {name: 'curly', age: 60}];\n_.max(stooges, function(stooge){ return stooge.age; });\n//=> {name: 'curly', age: 60};
jq_select_set_|jq_select_
data_struct_|Map_\nSet_ // ordered lists of values which contain no duplicates. not indexed based, are accessed using keys\n// memory referenced may be free by garbage-collector\nWeakMap_\nWeakSet_\n
bb_model_rec_|this.model.attributes
parseInt_|parseInt("221100", 10);
hostname_|host_
_pick_|_.pick({name: 'moe', age: 50, userid: 'moe1'}, 'name', 'age');\n=> {name: 'moe', age: 50}\n_.pick({name: 'moe', age: 50, userid: 'moe1'}, function(value, key, object) {\n  return _.isNumber(value);\n});\n//=> {age: 50}
f_sign_|cb_
jq_make_array_|// Returns a NodeList\nlet elems = document.getElementsByTagName( "div" );\n// Convert the NodeList to an Array\nlet arr = jQuery.makeArray( elems );\n// Use an Array method on list of dom elements\narr.reverse();\n$( arr ).appendTo( document.body );
jq_by_attribute_|let el = $("[attribute='value']");
_every_|// Returns true if all of the values in the list pass the predicate truth test. Short-circuits and stops traversing the list if a false element is found.\n_.every([2, 4, 5], function(num) { return num % 2 == 0; });\n// => false
jq_stop_listening_|$(el).off('click');
json_parse_|json_decode_
jq_wrap_|$("p").slice(1,3).wrap("<i></i>");\n
case_|case 'nnn':\nbreak;
filer_boundary_|// la qta non può eccedere la qta disponibile eil valore massimo del campo\nqta = Math.min(qta, qta_available, 999);\n// la qta non può essere inferiore a 1\nqta = Math.max(1, qta);
bb_view_|\n// let instance = new Views.__ViewName__({\n//     el: $('#myid'),\n//     model: mymodel\n//  collection: null, id: '',\n//  attributes: '', className: '',\n//  tagName: '', events: {}\n// });\n// instance.render().delegateEvents();\nmodule Views {\n    // interface T__ViewName__Opt Backbone.ViewOptions {}\n    export class __ViewName__ extends Backbone.View {\n        constructor(opt:? Backbone.ViewOptions ) { // TS constructor\n            super(opt);// BB chiamerà this.initialize(opt);\n            console.log( sprintf('__ViewName__ construct') );\n            // ... init properties\n        }\n        public initialize(opt: Backbone.ViewOptions ) { // BB contructor\n            // UI events update the model, listen the model change, update the view\n            this.listenTo(this.model, 'change', this.render);\n        }\n        public finalize() {\n            this.stopListening(this.model, 'change');\n        }\n        public render() {\n            let k = this.model.get('k');\n            // bb_view_subviews_\n            let html = this.getHTML();\n            this.$el.html(html);\n            return this;\n        }\n        // bb_view_events_\n        \n        // id in cui verrà resa la view come pagina\n        public getPageID() { return '__ViewName__'; }        \n        // take state as input and return the html representation\n        public getHTML(){\n            return `<div class="content">test __ViewName__</div> `;\n        }\n    }\n}\n\n\n\n\n
_values_|_.values({one: 1, two: 2, three: 3});\n//=> [1, 2, 3]
foreach_|arr.forEach(function (value, index, array_all) { // Built in method\n    console.log(value, index, array);\n});\nusers.forEach(user => {\n    console.log(user.name)\n})\nfor_of_#$1#\n// _each_\n// ie8 for ( let k in _hash_ ) { if( _hash_.hasOwnProperty(k) ) { let v:any = <any>_a_[k]; }}\n
reg_replace_|str.replace(/[^A-Za-z0-9_]+/g, "_");
array_avg_|const array_avg = (...args) => args.reduce((a, b) => a + b) / args.length;\n\narray_avg(1, 2, 3, 4);
bool_|boolean
_pluck_|// extracting a list of property values.\nlet a_customer = [\n{name: 'moe', age: 40}, \n{name: 'larry', age: 50}, \n{name: 'curly', age: 60}\n];\n_.pluck(a_customer, 'name');\n//=> ["moe", "larry", "curly"]
json_|let data = JSON.parse(text);\nlet text = JSON.stringify(data);
GET_|const getURLParameters = url =>\n  url\n    .match(/([^?=&]+)(=([^&]*))/g)\n    .reduce((a, v) => ((a[v.slice(0, v.indexOf('='))] = v.slice(v.indexOf('=') + 1)), a), {});\n// tedt:\ngetURLParameters('http://url.com/page?name=Adam&surname=Smith'); // {name: 'Adam', surname: 'Smith'}
array_diff_|function array_diff(a_1, a_2) {\n    return a_1.filter(function(i) { return a_2.indexOf(i) < 0;});\n}
_debounce_|// _.debounce(function, wait, [immediate]) \n// Useful in circumstances like preventing accidental double-clicks on a "submit" button from firing a second time.\n// Creates and returns a new debounced version of the passed function which will postpone its execution until after wait milliseconds have elapsed since the last time it was invoked. \n// Useful for implementing behavior that should only happen after the input has stopped arriving. \n// For example: rendering a preview of a Markdown comment, recalculating a layout after the window has stopped being resized, and so on.\n// At the end of the wait interval, the function will be called with the arguments that were passed most recently to the debounced function.\n// Pass true for the immediate argument to cause debounce to trigger the function on the leading instead of the trailing edge of the wait interval.\n\nvar lazyLayout = _.debounce(calculate_layout, 300);\n$(window).resize(lazyLayout);
a_num_|let a_: Array<number> = [1, 2];
hex_rand_|const randomHexColorCode = () => {\n  let n = ((Math.random() * 0xfffff) | 0).toString(16);\n  return '#' + (n.length !== 6 ? ((Math.random() * 0xf) | 0).toString(16) + n : n);\n};\nrandomHexColorCode(); // "#e34155"\nrandomHexColorCode(); // "#fd73a6"\nrandomHexColorCode(); // "#4144c6"
jq_style_|jq_css_
sprintf_def_|//\n// fmt('{1} {2}', 'a', 'b');\n// var url = ("/{0}/{1}.html").replace('{0}', aaa).replace('{1}', bbb);\nfunction fmt(fmt: string, ...args: any[]): string {\n    let formatted = fmt;\n    for (var i = 1; i < arguments.length; i++) {\n        var regexp = new RegExp('\\\\{'+i+'\\\\}', 'gi');\n        let str = '' + arguments[i];\n        formatted = formatted.replace(regexp, str);\n    }\n    return formatted;\n}\n// tmpl('{aa} {2}', {aa:'a', bb:'b'});\nfunction tmpl(fmt: string, args: Hash): string {\n    let formatted = fmt;\n    for (const key of Object.keys(args) ) {\n        let val = args[key];\n        // console.log(key+'='+val);\n        var regexp = new RegExp('\\\\{'+key+'\\\\}', 'gi');\n        formatted = formatted.replace(regexp, val);\n    }\n    return formatted;\n}\n// sprintf('%s/%s', aa, bb )\nfunction sprintf( fmt:string ):string {\n    let args = arguments;\n    let i = 1;\n    return fmt.replace(/%((%)|s|d)/g, function (m) {\n        // m is the matched format, e.g. %s, %d\n        var val = null;\n        if (m[2]) {\n            val = m[2];\n        } else {\n            val = args[i];\n            // A switch statement so that the formatter can be extended. Default is %s\n            switch (m) {\n                case '%d':\n                    val = parseFloat(val);\n                    if (isNaN(val)) {\n                        val = 0;\n                    }\n                    break;\n            }\n            i++;\n        }\n        return val;\n    });\n}\n\n
ifn_|if( !_.isEmpty(vvv) ){ }
group_by_|const groupBy = (arr, func) =>\n  arr.map(typeof func === 'function' ? func : val => val[func]).reduce((acc, val, i) => {\n    acc[val] = (acc[val] || []).concat(arr[i]);\n    return acc;\n  }, {});\ngroupBy([6.1, 4.2, 6.3], Math.floor); // {4: [4.2], 6: [6.1, 6.3]}\ngroupBy(['one', 'two', 'three'], 'length'); // {3: ['one', 'two'], 5: ['three']}
bb_model_validate_|initialize(){\n    this.on('invalid', (model:Backbone.Model, error:string)=>{\n        console.log(error);\n    });\n}\nvalidate(attrs:Hash, options:Hash):any {\n    if( attrs['item_id'] !== void 0 ) {\n        return sprintf("Remember to set '%s' for your %s.", 'item_id', this.constructor.name );\n    }\n}\n\n
_defer_|_.defer(function, *arguments) \n// Defers invoking the function until the current call stack has cleared, \n// similar to using setTimeout with a delay of 0. \n// Useful for performing expensive computations or HTML rendering in chunks without \n// blocking the UI thread from updating. \n// If you pass the optional arguments, they will be forwarded on to the function when it is invoked.\n\n
list_|// ES6 Destructuring multiple return values\nfunction margin(): Hash {\n    let left=1, right=2, top=3, bottom=4;    \n    return { left, right, top, bottom };\n}\nconst { left, bottom } = margin();\nconsole.log(left, bottom); // 1 4\nA.equal( left, 1, 'des_1' );\nA.equal( bottom, 4, 'des_2' );
jq_main_|$(() => {\n// $.ready\n});
class_|class AClass {\n    constructor(public msg: string) {\n\tsuper(msg);\n    }\n    toString() {\n        return 'Class-'+this.msg ;\n    }\n}\n\nclass BClass extends AClass {\n    private str: string;\n    private el: HTMLElement;\n    private num: number;\n    constructor(m: string) {\n        super("aaa");\n        this.str = m;\n    }\n    public getStr() {\n\tsuper.toString(); // call super class methods\n        return "str: " + this.str;\n    }\n    public static member(b: string): string { return ''; }   \n    // typed callback\n    public save(callback: (n: number) => any): void {\n        callback(42);\n    }\n}
bb_collection_findwhere_|// findWhere: returns only the first model in the collection that matches\nlet cart = <Models.Cart>this.findWhere({ is_current: true, confirmed_date: '' });\n\n
bb_route_go_to_|Backbone.history.navigate('itemcarousel', { trigger:true });
let_block_|let num:numeric = 123;\n/* if (true) {\n    let foo = 456;//this is block scoped, will not effect the prev. def as usual, like in a function\n    let private_let = 1; // block scoped\n}\nconsole.log(foo); => 123 \nconsole.log(private_var); // Uncaught ReferenceError */
overload_|interface IFoo {\n    bar: {\n        (s: string): number;\n        (n: number): string;\n    }\n}\nclass Foo{\n    public bar(s: string): number;\n    public bar(n: number): string;\n    public bar(arg: any): any {\n        if (typeof(arg) === 'number'){\n            return arg.toString();\n        }\n        if (typeof(arg) === 'string'){\n            return arg.length;\n        }\n    }\n}
jq_is_numeric_|let is_num = $.isNumeric( num );
namespace_|namespace Utils {\n    export function log(msg) {\n        console.log(msg);\n    }\n    export var Registry = new TRegistry();\n    export class Main {}\n}\n\n\n
jq_select_get_|jq_select_
jq_slide_|if (el.height() > 0) {\nel.animate({ height : 0 });\n} else {\nel.animate({ height : '100%' });\n}
jq_isnode_|if( $('#selector').length > 0 ) {}
parseint_|parseInt( val )
sleep_|settimeout_
_rand_|_.random(0, 100)
perc_|let perc = Math.round((progressEvent.loaded / progressEvent.total) * 100);\n// @see global perc_
isset_|typeof $1 != 'undefined' \n// $1 !== void 0\n$1 instanceof jQuery\n\n
jq_class_add_|$(el).addClass('css_class')
jq_merge_|let a = $.merge( [1,2], [3,4] ); // jq_extend_
array2ul_|const arrayToHtmlList = (arr, listID) =>\n  arr.map(item => (document.querySelector('#' + listID).innerHTML += `<li>${item}</li>`));\narrayToHtmlList(['item 1', 'item 2'], 'myListID');
interface_rec_|interface IPerson {\n    name: string;\n    descr?: string;\n    methodName(): string;\n    // overloading\n    select2(method: string): any;\n    select2(method: string, value: any, trigger?: boolean): any;\n}\n
template_|mustache_
in_array_|let is_present = _.indexOf([], val) >= 0;\nlet is_present = $.inArray( val, [ "8", "9", "10" ] ) >= 0;\n// _contains_\nif( is_present ){\n} else {\n}\n\n[1, 2, 3].includes(2);     // true\n[1, 2, 3].includes(4);     // false\n[1, 2, 3].includes(3, 3);  // false\n[1, 2, 3].includes(3, -1); // true\n[1, 2, NaN].includes(NaN); // true
_once_|// Creates a version of the function that can only be called one time.\n// Repeated calls to the modified function will have no effect, returning the value from the original call.\n// Useful for initialization functions, instead of having to set a boolean flag and then check it later.\n\nvar initialize = _.once(init_func);\ninitialize();\ninitialize(); // init is only created once.
while_|while( true ){\|}
error_report_|reportErrorToServer = function (error) {\n  $.ajax({type: "POST", \n          url: "http://api.xyz.com/report",\n          data: error,\n          success: function (result) {}\n  });\n}\n// Window error event\nwindow.addEventListener('error', function (e) {\n  console.log(e);\n  reportErrorToServer({message: e.message})\n})}
_reduce_|let a_list:Array<number> = [1, 2, 3];\nlet sum:number = _.reduce< number, number>(a_list, function(memo, num) { \n    return memo + num; \n}, 0);\n// 6
dict_bb_|let a_list: _.Dictionary<string> = {};
jq_grep_|let a_res_months = $.grep(a_months, function(v, i) {\n    return ( v.indexOf('J') == 0 );\n});\n
str_contains_|let is_containing_x = url.search(/xxx/) != -1;\nlet is_containing_x = /yes/i.test('xxx') ;\nlet is_containing_x = str.toLowerCase().indexOf("xxx") >= 0);\nlet is_numeric = s_num.match(/^[0-9]+$/) !== null;
reduce_|let _a = a.reduce(function(carry, v) {\n    carry = carry + v;\n    return carry;\n}, (let initial=0) );
enum_|const enum Comparison {\n    LessThan = -1,\n    EqualTo = 0,\n    GreaterThan = 1\n}\nlet x:number = Comparison.EqualTo; // Ok, replaced with 0 in emitted code\nlet y:string = Comparison[Comparison.EqualTo];\n// @see type_str_literal_\n
clone_|_clone_
preg_replace_|str_replace_
bb_model_observe_|    bb_view {\n        public cart: Backbone.Model | null;// the model to listen\n        public initialize(opt:Hash) {\n            if( this.cart ){\n                // se il carrello è null non è observable\n                this.listenTo(this.cart, 'change', (e: JQueryEventObject):void  => {\n                        console.log( 'cart change: repaint()' );\n                        this.render();\n                });\n            }\n            // ...\n            this.cart.set('filed', val);// will trigger change\n            this.cart.save();\n        }\n        public finalize() {\n            this.stopListening(this.cart, 'change');\n            this.stopListening(this.cart );\n            return this;\n        }\n    }\n    bb_collection {\n        initialize() {\n\t    this.on('remove', () => {\n                console.log(sprintf('%s "remove" ', this.constructor.name));\n     \n            });\n            this.on('change', () => {\n                console.log(sprintf('%s "change" ', this.constructor.name));\n            });   \n        }\n    }\n
by_id_|let el_ = document.querySelector('#el_id');\nbyid_\ndom_get_by_id_
array_foreach_|foreach_
type_get_|const getType = v =>\n  v === undefined ? 'undefined' : v === null ? 'null' : v.constructor.name.toLowerCase();
explode_|str_split_\nArray.from('foo') // expected output: Array ["f", "o", "o"]
strtolower_|str.toLowerCase()
declare_|declare function sprintf(fmt: string, ...args: any[]): string;\n// global let typing\ndeclare let cordova: Cordova;
construct_|constructor(public x: number ) { \n  //super();\n}\n//public getX() { return this.x; }\n
for_|for_of_\nfor (let _value_ of _a_ ) {  }  \n//for( let i:number=0; i<_a_.length; i++) { _value_[i] }
return_go_|// list_\nconst [ bg_c, bd_c, font_c] = the_func( _type );\n// define a multiple return func\nfunction the_func():string[] {\n    var bg_c, bd_c, font_c;\n    return [bg_c, bd_c, font_c];   \n}
jq_ajax_post_|let form_data = $( "#testform" ).serialize();//{k:v}\nlet jqxhr = $.post("ajax/test.html", form_data, function( data ) {\n  \tconsole.log( data );   \n}, 'json') \n  .done(function(req) {\n    console.log( "jqxhr success" );\n  })\n  .fail(function(req, status, err) {\n                    console.log( 'ajax error:', status, err );\n                    if( status == 'parsererror' ) {\n                        UI.alert('Richiesta terminata con errore di parsing. Provare a riloggarsi.');\n                    } else {\n                        UI.alert('Errore:'+err+' status:'+status );\n                    }\n  })\n  .always(function() {\n    console.log( "jqxhr finished" );\n});
require_once_|// see require_ require_once_ include_ jq_require_
queue_|fifo_lifo_
_filter_|let a_list = [1, 2, 3, 4, 5, 6];\nlet _a = _.filter<number>(a_list, (num:number):boolean => { \n    return n % 2 == 0; \n});\n// => [2, 4, 6]
define_|const KEYCODE_ENTER = 13;
jq_hasnode_|if( $('#selector').length > 0 ) {}
jq_require_|// Load a JavaScript file from the server using a GET HTTP request, then execute it \nlet r:JQueryXHR = $.getScript(url: string, function(script: string, textStatus: string, jqXHR: JQueryXHR){ \n\n});
filter_|let _a = a.filter(function(v){\n    return v.name === "test";// retained if true\n});
react_component_|/// <reference path="../typings/tsd.d.ts" />\n/// <reference path="your_classes.ts"/>\nclass TodoItem extends React.Component<ITodoItemProps, ITodoItemState> {\n    public state : ITodoItemState;\n    constructor(props : ITodoItemProps){\n        super(props);\n        this.state = { editText: this.props.todo.title };\n    }\n    public handleSubmit(event : __React.FormEvent) {\n        var val = this.state.editText.trim();\n        if (val) {\n            this.props.onSave(val);\n            this.setState({editText: val});\n        } else {\n            this.props.onDestroy();\n        }\n    }\n    public handleEdit() {\n        this.props.onEdit();\n        this.setState({editText: this.props.todo.title});\n    }\n    public handleKeyDown(event : __React.KeyboardEvent) {\n        if (event.keyCode === ESCAPE_KEY) {\n            this.setState({editText: this.props.todo.title});\n            this.props.onCancel(event);\n        } else if (event.keyCode === ENTER_KEY) {\n            this.handleSubmit(event);\n        }\n    }\n    public handleChange(event : __React.FormEvent) {\n        var input : any = event.target;\n        this.setState({ editText : input.value });\n    }\n    //\n    //  This is a completely optional performance enhancement that you can\n    //  implement on any React component. If you were to delete this method\n    //  the app would still work correctly (and still be very performant!), we\n    //  just use it as an example of how little code it takes to get an order\n    //  of magnitude performance improvement.\n    //\n    public shouldComponentUpdate(nextProps : ITodoItemProps, nextState : ITodoItemState) {\n        return (\n            nextProps.todo !== this.props.todo ||\n            nextProps.editing !== this.props.editing ||\n            nextState.editText !== this.state.editText\n        );\n    }\n    //  Safely manipulate the DOM after updating the state when invoking\n    //  `this.props.onEdit()` in the `handleEdit` method above.\n    //  For more info refer to notes at https://facebook.github.io/react/docs/component-api.html#setstate\n    //  and https://facebook.github.io/react/docs/component-specs.html#updating-componentdidupdate\n    public componentDidUpdate(prevProps : ITodoItemProps) {\n        if (!prevProps.editing && this.props.editing) {\n            var node = React.findDOMNode<HTMLInputElement>(this.refs["editField"]);\n            node.focus();\n            node.setSelectionRange(node.value.length, node.value.length);\n        }\n    }\n    public render() {\n      return (\n        <li className={classNames({\n          completed: this.props.todo.completed,\n          editing: this.props.editing\n        })}>\n          <div className="view">\n            <input\n              className="toggle"\n              type="checkbox"\n              checked={this.props.todo.completed}\n              onChange={this.props.onToggle}\n            />\n            <label onDoubleClick={ e => this.handleEdit() }>\n              {this.props.todo.title}\n            </label>\n            <button className="destroy" onClick={this.props.onDestroy} />\n          </div>\n          <input\n            ref="editField"\n            className="edit"\n            value={this.state.editText}\n            onBlur={ e => this.handleSubmit(e) }\n            onChange={ e => this.handleChange(e) }\n            onKeyDown={ e => this.handleKeyDown(e) }\n          />\n        </li>\n      );\n    }\n}
jq_checkbox_|$( 'input:checkbox(:not(:disabled))' ).prop( 'checked', 'checked' );
jq_selector_|jq_selector_list_
jq_fade_|if (el.is(':visible')) {\nel.fadeOut('slow');\n} else {\nel.fadeIn('slow');\n}
json_encode_|JSON.stringify( $1 ); /\n// or stringify($1, null, 2); // spacing level = 2
url_GET_|GET_
jq_proxy_|//let you = {\n//  type: "person",\n//  test: function( event ) {\n//    $( "#log" ).append( this.type + " " );\n//  }};\n \n// Execute you.test() in the context of the `you` object no matter where it is called\n// i.e. the `this` keyword will refer to `you`\nlet youClick = $.proxy( you.test, you );\n \n// this === "person"\n$("#test").on( "click", youClick );\n\n\n
array_reduce_|const sum = array.reduce((accumulator, element) => {\n  return accumulator + element;\n}, 0);\n// @see Array.reduceRight
jq_filter_f_|$('li').filter(function(index) {\n  return $('strong', this).length == 1;\n}).css('background-color', 'red');
_result_|// if the value of the named property is a function then invoke it with the object as context;\nlet result = _.result(hash, key_or_func, default_value=''); \n\n
_find_|let a_list = [1, 2, 3, 4, 5, 6];\nlet even = _.find<number>(a_list, function(num){ \n    return num % 2 == 0; \n});\n//=> 2 returning the first one
base64_decode_|base64_encode_
freeze_|Readonly<T> \nReadonlyArray<T> \nReadonlyMap<K, V>  \nReadonlySet<T> \n// get a compile-time error if you attempt to mutate any of those objects.
pick_|const pick = (obj, arr) =>\n  arr.reduce((acc, curr) => (curr in obj && (acc[curr] = obj[curr]), acc), {});\npick({ a: 1, b: '2', c: 3 }, ['a', 'c']); // { 'a': 1, 'c': 3 }
alert_|alert('msg');
ok_|ok( result,  expected,  label);\nok_def_
jq_mouse_over_|$('div').mouseover(function() {\n    $(this).addClass('blue-bg');\n}).mouseleave(function(){\n    $(this).find('.content').fadeOut();\n});
now_|time_
_size_|_.size(hash)
_INDEX_|/*\n\n_each_ alias:_forEach_\n_map_ alias: _collect_\n_reduce_  alias: _foldl_ _inject_\n_reduceRight_  alias: _foldr_\n_find_ alias:_detect_\n_filter_ alias:_select_\n_reject_\n_all_    alis:_every_\n_some_  alias: _any_\n_include_ \n_includes_  alias:_contains_\n_invoke_\n_pluck_\n_where_\n_findWhere_\n_max_\n_min_\n_shuffle_\n_sample_\n_sortBy_\n_groupBy_\n_indexBy_\n_countBy_\n_toArray_\n_size_\n_partition_\n_take_\n_head_\n_first_\n_initial_\n_last_\n_drop_\n_tail_\n_rest_\n_compact_\n_flatten_\n_without_\n_unique_\n_uniq_\n_union_\n_intersection_\n_difference_\n_zip_\n_unzip_\n_object_\n_findIndex_\n_findLastIndex_\n_sortedIndex_\n_indexOf_\n_lastIndexOf_\n_range_\n_bind_\n_partial_\n_bindAll_\n_memoize_\n_delay_\n_defer_\n_throttle_\n_debounce_\n_wrap_\n_negate_\n_compose_\n_after_\n_before_\n_once_\n_keys_\n_allKeys_\n_values_\n_mapObject_\n_pairs_\n_invert_\n_methods_\n_functions_\n_extend_\n_assign_\n_extendOwn_\n_findKey_\n_pick_\n_omit_\n_defaults_\n_create_\n_clone_\n_tap_\n_isMatch_\n_isEqual_\n_isEmpty_\n_isElement_\n_isArray_\n_isObject_\n_isArguments_\n_isFunction_\n_isString_\n_isNumber_\n_isDate_\n_isRegExp_\n_isError_\n_isFinite_\n_isNaN_\n_isBoolean_\n_isNull_\n_isUndefined_\n_has_\n_noConflict_\n_identity_\n_constant_\n_noop_\n_property_\n_propertyOf_\n_matches_\n_matcher_\n_times_\n_random_\n_now_\n_escape_\n_unescape_\n_result_\n_uniqueId_\n_mixin_\n*/
array_filter_|var arr = [ 1, 9, 3, 8, 6, 1, 5, 9, 4, 7, 3, 8, 6, 9, 1 ];\narr = jQuery.grep(arr, function( n, i ) {\n  return ( n !== 5 && i > 4 );\n});\nconst aa2 = arr.filter(i => i > 6);\n
implode_|a_s.join(", ")
var_|log_
tmpl_|sprintf_
jq_foreach_|$.each(a, function(i,key){\|});
array_some_|const a_age = [2,7,12,17,21];\n// at least one element\nlet is_x = a_age.some(function(xxx){ return xxx > 18;}); //true
import_|import * as Calculations from './Scripts/Calculations';\n\nimport { range } from "lodash";\n// use: for (let i of range(10)) { }\n\n// <script src="systemjs/dist/system-production.js"></script>\nSystemJS.import('/js/main.js');\n\n//@see reference_
opt_|p_options:{[k: string]:any;}\nlet options = _.extend({         \n    param: true\n}, p_options );
replace_|s = s.replace("old","new");\n// @see regexp str_replace_
is_alphanumeric_|function is_alphanum(str){\n  if( str.match( /^[a-zA-Z0-9]*$/i ) ){\t \n    return true;\n  } else {\n    return false;\n  }\n}
array_find_index_|const array = [5, 12, 8, 130, 44];\n/// it returns the first index of number which satisfy the condition  \nconst index = array.findIndex((item)=> item>10);   //1\n
is_numeric_|jq_is_numeric_
count_|[].length\nObject.keys(dictionary).length\n//let k_num:number = _.size(hash);
js_log_|console.log();
jq_empty_|// rm all child nodes\n$(selector).empty();
reg_get_|rx = /^(\\d{4})-(\\d{2})-(\\d{2})$/;\nm = rx.exec('2009-06-03');\nyr = m[1];\nmo = m[2];\ndy = m[3];
is_empty_|jq_is_empty_
waitgroup_|    let wg = new AsyncUtils.WaitGroup();\n    wg.deferred('key', (def_k:string, _wg:AsyncUtils.WaitGroup) => {\n        _wg.completed(def_k, { ok: true, result: 0 } );\n    });\n    wg.wait( (r:boolean, v:any ):void => { } );
gettype_|jQuery.type( val )
jq_filter_|$(".parent").find(".bar").filter("p");
ok_def_|/* own test suite:\nok(0, 0, 'ok for same value');// should pass\nok(0, null, 'type warning');//should pass with type warning\nok({'b':2,'a':1}, {'a':1,'b':'2'});\nok([1,2], [2,1]);\nok(['a','b'], ['b','a']);\n// this should be true in all impelemetations\nok([1,2], [1,2]);\nok({'a':1,'b':2}, {'a':1,'b':2});\n*/\n/**\n* @param mixed $res\n* @param mixed $expected\n* @return void\n*/\nfunction ok( res, expected, label = '') {\n    var failures = 0;\n    var _colored = function(msg, color){\n        if( color == 'green'  ) {\n            console.log('\\x1b[32m%s\\x1b[0m', '\\u2714 ' + msg);\n        }  else if( color == 'red') {\n            failures++;\n            console.log('\\x1b[31m%s\\x1b[0m', '\\u2718 ' + msg);\n        } else {\n            console.log(msg);\n        }\n    };\n    // be careful passing arrays and objects,  === only returns true if the arrays are the same reference\n    var a_eq = function (a, b) {\n        return Array.isArray(a) && Array.isArray(b) && a.length === b.length && a.every((val, index) => val === b[index]);\n    };\n    // @see Lodash's _.isEqual() function\n    var obj_eq = typeof _ != 'undefined' && _.isEqual ? _.isEqual : function ( x, y ) {\n        if ( x === y ) return true; // if both x and y are null or undefined and exactly the same\n        // if ( ! ( x instanceof Object ) || ! ( y instanceof Object ) ) return false; // if they are not strictly equal, they both need to be Objects\n        if ( x.constructor !== y.constructor ) return false; // they must have the exact same prototype chain, the closest we can do is test there constructor.\n        for ( var p in x ) {\n            if ( ! x.hasOwnProperty( p ) ) continue; // other properties were tested using x.constructor === y.constructor\n            if ( ! y.hasOwnProperty( p ) ) return false; // allows to compare x[ p ] and y[ p ] when set to undefined\n            if ( x[ p ] === y[ p ] ) continue; // if they have the same strict value or identity then they are equal\n            if ( typeof( x[ p ] ) !== "object" ) return false; // Numbers, Strings, Functions, Booleans must be strictly equal\n            if ( ! obj_eq( x[ p ],  y[ p ] ) ) return false; // Objects and Arrays must be tested recursively\n        }\n        for ( p in y ){\n            if ( y.hasOwnProperty( p ) && ! x.hasOwnProperty( p ) ){\n                return false; // allows x[ p ] to be set to undefined\n            }\n        }\n        return true;\n    };\n    // tmpl('{1} {2}', 'a', 'b');\n    var tmpl = function (fmt) {\n        var formatted = fmt;\n        if( arguments.length > 1 ) {\n            for (var i = 1; i < arguments.length; i++) {\n                var rx = '{'+i+'}';// var rx = new RegExp('\\\\{'+i+'\\\\}', 'gi');\n                formatted = formatted.replace( rx, arguments[i]    );\n            }\n        }\n        return formatted;\n    };\n    if( Array.isArray( expected) && Array.isArray( expected) ){\n        if( a_eq(res, expected) ){\n            _colored("OK "+label, 'green');\n        } else {\n            var msg = tmpl("ERROR({1})  GOT {2} <> {3} EXP  ", label, JSON.stringify(res), JSON.stringify( expected));\n            _colored( msg, 'red');\n        }\n    } else if( (res instanceof Object) &&  (expected instanceof Object) ) {\n        if( JSON.stringify(res) == JSON.stringify( expected) ){\n            _colored("OK "+label, 'green');\n        } else if( obj_eq(res, expected) ){\n            _colored("OK "+label, 'green');\n        } else {\n            var msg = tmpl("ERROR({1})  GOT {2} <> {3} EXP  ", label, JSON.stringify(res), JSON.stringify( expected));\n            _colored( msg, 'red');\n        }\n    } else if ( res ===  expected) {\n        _colored("OK "+label, 'green');\n    } else if ( res ==  expected) {\n        var msg = tmpl("OK (but type differ) label:{1} => {2}<>{3}", label, JSON.stringify( res), JSON.stringify( expected));\n        _colored( msg, 'brown');\n    } else {\n        var msg = tmpl("ERROR({1})  GOT {2} <> {3} EXP  ", label, JSON.stringify( res), JSON.stringify( expected));\n        _colored( msg, 'red');\n    }\n}
__END__|let str_template = `\n  multiline string  ${var}\n  call ${description()}\n  array ${arr['test']}\n  ${encodeURIComponent `&&`}\n  ${[1,2].join(',')}\n`;\n\n\n
bb_views_render_fast_|                \n// batch rendering views\nvar el_list = $('#items');\nvar el_wrapper = el_list.parent();\nel_list.detach(); // this detaches the container element from the DOM\n// dataset is array of many models objects\nfor (var i = 0; i < dataset.length; i++) {\n  var myView = new ItemView({ model: dataset[i] });\n  // TODO: keep track of created views to finalize them\n  el_list.append( myView.render().el );\n}\n// put container element into the DOM\nel_wrapper.append(el_list);\n\n\n\n
is_object_|function is_object(v) {\n    //One of the quirks of JavaScript is that typeof null returns "object". But it’s not an object. So let’s check for that, too\n    return (v instanceof Object && v.toString() == '[object Object]');\n}
url_self_|window.location.href
preg_|reg_replace_
rand_|_rand_
async_queue_|// http://www.dustindiaz.com/async-method-queues\nlet q_check = new Utils.AsyncQueue();\nq_check.deferred( (ctx: any) => {\n    q_check.resolve(ctx);\n} );\nq_check.catch((ctx: any, error: Error) => {\n    console.log( 'q_check initDB error:' + error );\n});\nq_check.finally((ctx) => {\n\n});\nq_check.run({});\n\n\n\n
bb_router_|namespace Views {\n    export class Router extends Backbone.Router {\n        public routes:Hash = {\n            '': this.homeAction,\n            // '*actions': this.homeAction, // catch all route\n            // 'home': this.homeAction,\n            'client/:id': this.clientDetailAction,\n        };\n        constructor(options?: Backbone.RouterOptions) {\n            super(options);\n            // routes va inizializzato prima di richiamre super, che inizierà la gestione della url\n            // vedi come TS compila il costruttore\n            // call _bindRoutes() here function to bind your routes\n            (<any>this)._bindRoutes();\n        }\n        public initialize():void { }\n        protected clientDetailAction(id:string):void {\n            console.log(lf('Router.clientDetailAction ' + id));\n            let modal_id = Views.Modals.BaseModal.buildModalID('client_detail', 'main');\n            let modal_el = Views.Modals.BaseModal.show(modal_id, 'Dettaglio Cliente', '');\n            let modal_content_el = Views.Modals.BaseModal.getContentElement(modal_id);\n            let client = new Models.Client({ IDCLI: id });\n            client.fetch({\n                success: (model) => {\n                    let V = Views.Utils.traceView(new Views.ClientDetailView({\n                        el: modal_content_el,\n                        model: model\n                    }));\n                    V.render().delegateEvents();\n                }\n            });\n        }\n    }\n}\n\n\n\n
js_require_|js_include_
host_|window.location.hostname
parent_|super.methodName()
strval_|''+maybe_str
jq_ajax_multiple_|$.when(\n    getTweets('austintexasgov'),\n    getTweets('greenling_com'),\n    getTweets('themomandpops')\n).done(function(atxArgs, greenlingArgs, momandpopsArgs) {\n    let allTweets = [].concat(atxArgs[0]).concat(greenlingArgs[0]).concat(momandpopsArgs[0]);    \n    alert(sortedTweets);\n});\nlet getTweets = function(user) {\n    let url = 'http://twitter.com/status/user_timeline/' + user + '.json';\n    return $.get(url, { count: 5 }, null, 'jsonp');\n}\n
array_shuffle_|const shuffleArray = (arr) => arr.sort(() => 0.5 - Math.random());\n\nconsole.log(shuffleArray([1, 2, 3, 4]));
sprintf_|var url = ("/{0}/{1}.html").replace('{0}', aaa).replace('{1}', bbb);\n\nsprintf('%s/%s', aa, bb )\n// @see sprintf_def_\n\n
jq_post_|jq_ajax_post_
jq_form_validate_|// https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.14.0/jquery.validate.min.js\n// https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.14.0/additional-methods.min.js\n// @see http://jqueryvalidation.org/\n$().ready(function() {\n    // Selecting the form and defining validation method\n    $("#form").validate({\n        // Passing the object with custom rules\n        rules : {\n            // login - is the name of an input in the form\n            login : {\n              // Setting login to be required\n              required : true\n            },\n            email : {\n                required : true,\n                // Setting email pattern for email input\n                email : true\n            },\n            password : {\n                required : true,\n                // Setting minimum and maximum lengths of a password\n                minlength : 5,\n                maxlength : 8\n            }\n        },\n        // Setting error messages for the fields\n        messages: {\n            login: "Enter you login",\n            password: {\n                required: "Enter your password",\n                minlength: "Minimum password length is 5",\n                maxlength: "Maximum password length is 8"\n            },\n            email: "Enter you email"\n        },\n        // Setting submit handler for the form\n        submitHandler: function(form) {\n            form.submit();\n        }\n    });\n});
jq_checked_|$(":checkbox").is(':checked')\n$('#selector').prop('checked') === true
_map_|let a_=_.map([1, 2, 3], function(num){ return num * 3; }); // [3, 6, 9]\nlet a_=_.map({one: 1, two: 2, three: 3}, function(num, key){ return num * 3; }); // [3, 6, 9]
a_t_|//typed array\nlet type_list = new Array<TheType>();
url_encode_|let s = encodeURIComponent(v);
es6_promise_|// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\n// typings install --save --global dt~es6-promise\nfunction printAfterTimeout(val:any, timeout:number){\n  return new Promise((resolve:Function, reject:Function) => {\n    setTimeout(function(){\n      resolve(val);\n    }, timeout);\n  });\n}\nprintAfterTimeout('Hello ', 2000)\n.then((result:any) => {\n  console.log(result);\n  return printAfterTimeout(result + ' 2', 1000);\n})\n.then((result:any) => {\n  console.log(result);\n  return printAfterTimeout(result + ' 3', 1000);\n})\n.then((result:any) => {\n  console.log(result);\n});
typeof_|isset_
localstorage_|if(typeof localStorage !== "undefined") {\n    // update key\n    let = key = 'clickcount';\n    if ( typeof localStorage[key] !== "undefined" ) {\n        localStorage[key] = localStorage[key] + 1;\n    } else {\n        localStorage[key] = 1;\n    }\n    // eliminare dati:\n    // localStorage[key] = null;\n    // localStorage.removeItem(key);\n}\n
try_|try {\n    // do it\|} catch(e){\n    console.log('Errore:' + e.message);\n    // alert(format_exception(e));\n} \nfinally {}
tooltip_|function tooltip_mk(selector, title){\n                var el = $(selector);// el to listen\n                if( empty( title ) ){\n                    title = el.attr('title');\n                }\n                el.removeAttr('title');\n                var tooltip = $('#tooltip_el');\n                if( tooltip.length == 0 ) {\n                    tooltip = $('<div id="tooltip_el"/>');\n                    // class="tooltip" style="font-size:10px;"\n                    tooltip.css({\n                            position:'absolute',\n                            width: '200px',\n                            padding: '4px',\n                            background: '#eee',\n                            border: '1px solid #ffcc00',\n                            backgroundColor: '#ffcc66',\n                            fontSize: '11px',\n                            top:  100, //top + 5,\n                            right: 100, //left + 5\n                    });\n                    tooltip.appendTo('body');\n                }\n                tooltip.text(title);\n                tooltip.hide();\n                //\n                el.on('mouseover click', function(e) {\n                        var top = e.pageY;\n                        var left = e.pageX;\n                        console.log( top +'  '+ left);\n                        tooltip.show();\n                        tooltip.css({\n                                display: 'block',\n                                top:  top + 5,\n                                left: left + 5\n                        }).text(title);\n                });\n                el.mouseout(function() {\n                        tooltip.hide(700);\n                });\n                return tooltip;\n            }
jq_append_|$('<div/>').append(text).css({}).appendTo('#log');\n$('<option/>').attr('value',optionValue).text(optionName).appendTo('#colors');\n// jq_build_\n
wg_|waitgroup_
func_|function(){\n\|}
help_text_|// genera stringa informativa\n            function help_text(selector,text){\n                var el_txt = $(selector);\n                var el = el_txt.next('small');// esiste un elemento?\n                if( el.length === 0  ) {\n                    el = el_txt.after('<small style="color:#999;display:block;">'+text+'</small>').next('small');;\n                } else {\n                    el.text(text);\n                }\n                // el_txt.nextAll('small').remove();\n                // el_txt.after('<small style="color:#999;display:block;">' + text + '</small>');\n            }
arguments_|var args = [].slice.call(arguments);
***|/*\n\|*/
_zip_|let a_vals = _.zip(\n\t['moe', 'larry', 'curly'], \n\t[30, 40, 50], \n\t[true, false, false]\n);\n// => [["moe", 30, true], ["larry", 40, false], ["curly", 50, false]]\n\n\n
range_|_range_
promise_|jq_promise_
ifis_|if_
array_sort_|var fruits = ["Banana", "Orange", "Apple", "Mango"];\nfruits.sort();// sort strings\n\nfruits.reverse(); // sort strings in reverse order\n\nlet a_ = [1, 10, 2, 21]; \na_.sort(); // [1, 10, 2, 21] // sorts as STRINGS!\n//\n// sort numeric, DESC\na_.sort( (a:number, b:number):boolean  => {\n                    if (a > b) {\n                        return -1;\n                    } else if (b > a) {\n                        return 1;\n                    } else {\n                        return 0;\n                    }\n            });\n// RS sort\nconst sortUsers = users.sort((a, b) => a.age - b.age) // sort users by age ASC\nconst sortUsersDesc = users.sort((a, b) => b.age - a.age) // sort users by age DESC\n\n// sort RS\nvar stooges = [{name: 'moe', age: 40}, {name: 'larry', age: 50}, {name: 'curly', age: 60}];\n_.sortBy(stooges, 'name');
jq_click_|$('form input:checkbox').on('click', (e:JQueryEventObject) => {\n  e.preventDefault();\n  let txt = $( this ).text();//accedere all'elemento cliccato\n}); \n\|\n// passing data\n$('button').on('click', { name: 'Karl'}, ( e:JQueryEventObject ) => {\n  alert( "Hello " + e.data.name );\n});\n// proxy assicura che _method_ sia chimato nel contesto di classe\n$('button').on('click', jQuery.proxy(this._method_, this) );
fluent_|// fluent interface pattern\nclass BasicCalculator {\n    public constructor(protected value: number = 0) { }\n    public currentValue(): number {\n        return this.value;\n    }\n    public add(operand: number): this {\n        this.value += operand;\n        return this;\n    }\n    public multiply(operand: number): this {\n        this.value *= operand;\n        return this;\n    }\n}\nlet v = new BasicCalculator(2).multiply(5).add(1).currentValue();
array_last_|function last<T>(a:Array<T>) :T { return a[a.length - 1]; }
_min_|let numbers = [10, 5, 100, 2, 1000];\n_.min(numbers);\n//=> 2
bb_events_|var a_dict = {};\n_.extend(a_dict, Backbone.Events);\na_dict.on("dict:update", function(v:any) {\n            alert("Triggered dict:update => " + v);\n});\na_dict.trigger("dict:update", "param");\nview.listenTo(a_dict, "dict:update", view.render);\nview.stopListening(a_dict, "dict:update");\n\n
method_|protected method():void {\n\n}
deferred_|jq_promise_
jq_animate_|$( this ).animate({\n    left: '+=50', // increase by 50\n    opacity: 0.25,\n    fontSize: '12px' //camelcase when prop name like "font-size"\n  },  300,  function() {\n    // executes when the animation is done\n  }\n);\n.stop(); // will stop currently running animations \n.delay(milliseconds); // will pause before the execution of the next animation method
jq_each_|$.each(associative_array, function(key, value) { \n  alert(key + ': ' + value); \n});
valid_email_|function is_valid_eamil(emailAdress) {\n    let regexEmail = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\n    return emailAdress.match(regexEmail) ? true : false;\n}
tomorrow_|const tomorrow = () => new Date(new Date().getTime() + 86400000).toISOString().split('T')[0];\ntomorrow(); // 2017-12-27 (if current date is 2017-12-26)\n// @see now_
unique_|jq_unique_
str_lower_|str.toLowerCase()
interface_|interface_rec_\ninterface_func_\ninterface Window { device: IDevice; }\n\n
_has_|_.has({a: 1, b: 2, c: 3}, "b");\n//=> true
bb_collection_find_|// Collection\nlet item: null|Models.ItemsCollection = new Models.ItemsCollection();\nlet opt_items:Backbone.CollectionFetchOptions = {\n    reset: true,\n    success: ( list: any/*Models.ClientCollection*/, response: any, options: any ):any => {\n        console.log( 'ItemsCollection fetch' );\n        console.log( list );\n    },\n    error: (list: any, jqxhr: JQueryXHR, options: any):any => {\n        console.log( 'ItemsCollection fetch error' );\n    }\n};\n\n// Entity\nlet p_items:JQueryPromise< Backbone.Model > = item.fetch( opt_items );\np_items.done( (rec: Backbone.Model ) => {\n    let _model:Models.Item = <Models.Item> rec; // itemModel.at(0);\n    let html = ''; // generation of the view\n    $('#el').html(html);\n});\n\n\n\n\n
_clone_|let obj_derefenced = _.clone( obj );\nlet obj_derefenced = JSON.parse(JSON.stringify( obj ));
bb_model_update_|cart_row.save({ qta: new_qta });
dict_js_|let item_list: { [k: string]: Object; } = { };
str_replace_|str = "do re mi mi mi";\nstr = str.replace( /([^A-Z0-1\\-\\_])/gi ,  '_');// clean up chars\nstr = str.replace(/re|mi/gi, function (s_m) { // a function for computing the replacement\n  return s_m.toUpperCase();\n});
jq_ajax_get_|let jqxhr = $.get( '/data/people.html', function( html ){\n  $( '#target' ).html( html );\n}).done(function(req) {\n    console.log( "jqxhr success" );\n  })\n  .fail(function(req, status, err) {\n                    console.log( 'ajax error:', status, err );\n                    if( status == 'parsererror' ) {\n                        UI.alert('Richiesta terminata con errore di parsing. Provare a riloggarsi.');\n                    } else {\n                        UI.alert('Errore:'+err+' status:'+status );\n                    }\n  })\n  .always(function() {\n    console.log( "jqxhr finished" );\n});
jq_is_empty_|jQuery.isEmptyObject({}); // true\njQuery.isEmptyObject({ foo: "bar" }); // false
memoize_|_memoize_\ncache_mem_\n\nconst memoize = (fn: Function): Function => {\n  const cache: { [key: string]: any } = {};\n  return (...args: any[]): any => {\n    const key = JSON.stringify(args);\n    if (cache[key]) {\n      return cache[key];\n    }\n    const result = fn(...args);\n    cache[key] = result;\n    return result;\n  };\n}
cast_|// let foo: any; let foo = {} as IFooInterface;\np_index_fields:string|string[]\nif( _.isArray(p_index_fields) ) {\n    let a:string[] = <Array<string>>p_index_fields;\n    index_fields = a.join(', ');\n} else {\n    index_fields = <string>p_index_fields;\n}\n//(<any>this)._bindRoutes();\n\ncast_int_\n
type_|type Hash = Record = { [k: string]: any; };\ntype Dictionary<T> = { [k: string]: T; };// C#like: let aaa:Dictionary<number> = { 'a': 1 };\ntype Map<K,T> = { [key: K]: T; };// javalike: aaa:Map<Integer,String> \ntype List<T> = Array<T>;\ntype RS = RecordSet = Array<Hash>;\n/*\n// shortcuts\ntype HashStr = Dictionary<string>;\ntype HashNum = Dictionary<number>;\n\n// optionals\ntype TStringOrNumber = string | number;\ntype TText_ = string | { text: string };\n// alias\ntype TObjectStatics = typeof Object;\n// tuple\nexport type TSQLExecTuple = [ string, any[] ];\n// parametricas\ntype TPair<T> = [T, T];\ntype TCoordinates_ = TPair<number>;\ntype TTree<T> = T | { left: Tree<T>, right: Tree<T> };\ntype TNameLookup = Dictionary<string, any>;\n// callbacks\ntype TMyHandler = (myArgument: string) => void;\ntype TCallback<T> = (data: T) => void;\n*/\n\n\n\ntype TCallbackFunc = () => void;\ntype TCallbackData = TCallback<any>;\ntype TCallback<T> = (data: T) => void;\ntype TCallback2<T,Y> = (a: T, b:Y) => void;\ntype TCallback3<T,Y,U> = (a: T, b:Y, c:U) => void;\n\n\nenum_\ntype_rec_\ntype_str_literal_\n
ife_|if( _.isEmpty(customer_id) ) {\n\t\|}
react_|react_component_
jq_select_|//\n        var Select = {\n            get: function (select_name){\n                var selector="select[name='"+select_name+"']";\n                var el = $(selector);\n                if( el.length == 0 ) {\n                    console.log( 'select not found '+selector );\n                }\n                return el;\n            },\n            // ottiene valore selezionato in una html select\n            get_val: function (select_name) {\n                var select = Select.get(select_name);\n                var selector = select.find("option:selected");\n                var select_val = $(selector).val();\n                return select_val;\n            },\n            set_val: function (select_name, val) {\n                var select = Select.get(select_name);\n                select.find("option").filter(function() {\n                  return $(this).text().trim().toLowerCase() == val.toLowerCase();\n                }).prop('selected', true);\n            },\n            clear: function (select_name){\n                var select = Select.get(select_name);\n                select.find("option").each(function() {\n                        $(this).remove();\n                });\n            },\n            //\n            enable: function (select_name){\n                var select = Select.get(select_name);\n                select.prop('disabled', false);\n            },\n            disable: function (select_name){\n                var select = Select.get(select_name);\n                select.prop('disabled', 'disabled');\n            },\n            // crea una select copn lo stesso nome\n            set_options: function (select_name, a_options){\n                var select = Select.get(select_name);\n                Select.clear(select_name);\n                for( var i=0; i < a_options.length; i++) {\n                    var val = a_options[i];\n                    $("<option />", { value: val , text:  val }).appendTo(select);\n                }\n            },\n            // crea una select copn lo stesso nome\n            from_input: function (input_name, options){\n                var selector="input[name='"+input_name+"']";\n                var input = $(selector);\n                if( input.length == 0 ) {\n                    console.log( 'input not found '+selector );\n                }\n                var el_anchor = $(selector).parent();\n                var name = $(selector).attr('name');\n                $(selector).remove();\n                var select = $("<select id=\\""+name+"\\" name=\\""+name+"\\" />");\n                for( var i=0; i< options.length; i++) {\n                    var val = options[i];\n                    $("<option />", { value: val , text:  val }).appendTo(select);\n                }\n                select.appendTo( el_anchor );\n            },\n            to_text: function (select_name){\n                var el = Select.get(select_name);\n                var el_new = $("<input />").attr({\n                        type: 'text',\n                        id:  el.attr('id'),\n                        name:  el.attr('name'),\n                        class:  el.attr('class'),\n                        value:  '' // el.val()\n                });\n                el.replaceWith( el_new );\n            }\n        };\n\n// al change di un select, carica ajax le options di una select dipendente\n$('#cod_linea').change(function(){\n           let f = $('#form_item_search');\n           let select = $(this);\n           let val = select.find('option:selected').val()\n           console.log(val);\n           $.ajax({\n               url: '<?=$url_ajax_options?>',\n               type: 'POST',\n               dataType: 'json',\n               data: f.serialize(),\n               success: function( resp_o ) {\n                   console.log(resp_o);\n                   let select_col = $('#cod_collection');\n                   // select_col.empty(); // remove old options\n                   $(select_col).find('option:gt(0)').remove(); // remove all options, but not the first\n\n                   $.each(resp_o , function(i, rec) {\n                           //console.log( rec );\n                           //console.log( rec['ADESCR'] );                           \n                           let html_value =  rec['ANUCOL'];\n                           let html_label =  rec['AAACOL'];\n                           select_col.append($("<option></option>").attr("value", html_value).text(html_label));\n                   });\n               },\n               error: function( req, status, err ) {\n                   console.log( 'something went wrong', status, err );\n               }\n    });\n});\n
jq_data_|data-hidden="true" data-options='{"name":"John"}'\n$("div").data("hidden") === true;\n$("div").data("options").name === "John";
merge_|jq_merge_
//--|\|//------------------------------------------------------------------------------
_time_|_.now();\n//=> 1392066795351
jq_parents_|$(el).parents('.class').toggleClass('selected');
date_now_|time_
array_count_|a_fruits.length
microtime_|profile_
is_scalar_|// Is the given value a non-object non-function value?\nfunction is_scalar(val) {\n\treturn /undefined|null|boolean|number|string/.test($.type(val));\n}
jq_input_disable_|function disable(selector){\n    $(selector).attr('disabled', 'disabled');\n}\nfunction enable(selector){\n    $(selector).removeAttr('disabled');\n}
jq_ajax_json_|let params:Hash = { 'k': v };\nlet jqxhr = $.getJSON("/controller/action", params, (data:Hash) => {\n     console.log("JSON Data: " + data.name);\n}).fail((req, status, err) => {\n                    console.log( 'ajax error:', status, err );\n                    if( status == 'parsererror' ) {\n                        UI.alert('Richiesta terminata con errore di parsing. Provare a riloggarsi.');\n                    } else {\n                        UI.alert('Errore:'+err+' status:'+status );\n                    }\n});\n\n
bb_model_fetch_|\n\nthis.item = new Models.Item({\n    BCOART: 123\n});\nthis.item.fetch({\n  success: (item_model:Models.Item) => {\n    console.log(lf('getItem','CartRow.item.fetch()'));\n  }\n} as Backbone.CollectionFetchOptions );\n\n\n\n\n\n
array_unique_|function array_unique(a:Array<any>):Array<any> {\n    return a.filter((v, i, a2) => a2.indexOf(v) === i); \n}
cache_mem_|ag MemCache
form_validation_|\n\n\n\n// TS code\n//------------------------------------------------------------------------------\n// form validation utils\n//------------------------------------------------------------------------------\n/* uso:\n<script >\n$(function(){\n    var el_form = $("#contact-form");\n    var url = "$php_self";\n    var a_sel = {\n        '#name': SimpleValidation.isNonEmpty,\n        '#email': SimpleValidation.isEmail,\n        '#message': SimpleValidation.isNonEmpty,\n        '#cb_informativa': SimpleValidation.isChecked,\n    };\n    // bind al change dei valori per i campi impostati, riporata la validità dell'input\n    SimpleValidation.dynamic_validate(el_form, a_sel );\n    el_form.submit(function(e) {\n        e.preventDefault(); // avoid the actual submit of the form\n        if( !SimpleValidation.is_valid(el_form, a_sel ) ) {\n            event.preventDefault();\n            return false;\n        } else {\n            prevent_double_submission(el_form, e);\n            $.ajax({\n                type: 'GET',\n                url: url,\n                data: el_form.serialize(),\n                success: function(data) {\n                    alert(data);\n                }\n            });\n            return true;\n        }\n    });\n});\n</script>\n*/\n// @see ts_utils validation\n//------------------------------------------------------------------------------\n// form validation utils\n//------------------------------------------------------------------------------\n\n// firma di un validator\ntype TSimpleValidationValidator = ( val:string, el:JQuery ) => boolean;\n//\nclass SimpleValidation {\n    //----------------- validators ---------------------------------------------\n    public static isNumeric(v:string):boolean {\n        var numbers = /^[0-9]+$/;\n        return v.match(numbers) !== null;\n    }\n    public static isEmail(email:string):boolean {\n        var re = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/;\n        return re.test(email);\n    }\n    public static isNonEmpty(text:string):boolean {\n        return text.trim() != '';\n    }\n    public static isChecked(val:string, el:JQuery) {\n        var ckd = $(el).is( ":checked" );\n        return ckd ;\n    }\n    public static isItemCod(codice:string):boolean {\n        var re = /^[a-zA-Z0-9]{4,15}$/;\n        return re.test(codice);\n    }\n    // crea la funzione di validazione con i parametri passati\n    public static mkFileValidator( a_valid_ext:string[], CV_SIZE_MAX_B: number ): TSimpleValidationValidator  {\n        let f_validator = function( val, el ) {\n            // round function\n            let round = function (number, precision) {\n                var factor = Math.pow(10, precision);\n                var tempNumber = number * factor;\n                var roundedTempNumber = Math.round(tempNumber);\n                return roundedTempNumber / factor;\n            };\n            // validate file size, in bytes\n            // var CV_SIZE_MAX_B = 2* (1024 * 1024);// n MB max accepted\n            var a_f =  $(el).prop('files');// FileList\n            if( a_f ){\n                var f = a_f[0]; // equivalent to el.files[0];\n                if( f && f.size){\n                    var fileSize = round( f.size / (1024 * 1024), 2);// actual file size in MB\n                    if ( f.size > CV_SIZE_MAX_B ) {\n                        var max_accepted = CV_SIZE_MAX_B / (1024 * 1024);\n                        console.log( el.attr('id')+' File Should Be less Than '+max_accepted+'MB, '+fileSize+' detected.' );\n                        return false;\n                    } else {\n                        console.log( el.attr('id')+' File size ok '+fileSize+'MB');\n                    }\n                }\n            }\n            // validate extension\n            // expected: var a_valid_ext = ['pdf', 'docx'];\n            if( a_valid_ext && a_valid_ext.length ) {\n                var extension = val.toLowerCase().substring(val.lastIndexOf('.') + 1);\n                var is_valid_extension = a_valid_ext.indexOf(extension) >= 0;\n                return val.trim() != '' && is_valid_extension;\n            }\n            return true;\n        };\n        return f_validator;\n    }\n    //------------------------------------------------------------------------------\n    public static errorReport(txt_el:JQuery, test:boolean ) {\n        // codice per i bottoni\n        if( txt_el.hasClass('btn') ){\n            if( test ) {\n                txt_el.removeClass('btn-warning btn-info');\n                txt_el.addClass('btn-success');\n            } else {\n                txt_el.removeClass('btn-success btn-info');\n                txt_el.addClass('btn-warning');\n            }\n        }\n        // gestione checkbox:\n        if( txt_el.parent().prop('tagName') == "LABEL" ) {\n            txt_el = txt_el.parent();\n        }\n        if( test ) {\n            txt_el.removeClass('warning');\n            txt_el.addClass('success');\n        } else {\n            txt_el.removeClass('success');\n            txt_el.addClass('warning');\n            txt_el.focus();\n        }\n    }\n    // el_form the form to validate\n    //    var a_sel = {\n    //        '#name':'isNumeric' ,\n    //        '#email':'isNumeric',\n    //        '#message':'isNumeric'\n    //    };\n    public static is_valid(el_form:JQuery, a_sel:Hash ) {\n        // @see ts_utils validation\n        var is_valid = true;\n        for (const selector of Object.keys(a_sel) ) {\n            let validator = a_sel[selector];//'isNumeric'\n            // console.log(selector+'='+validator);\n            var el = $(el_form).find(selector);\n            var val = el.val();\n            var is_ok = validator.call( null, val, el );\n            SimpleValidation.errorReport( el, is_ok);\n            if( !is_ok ) {\n                console.log( sprintf('failing {1} {2}', selector, validator ) );\n                is_valid = false;\n                break;\n            }\n        }\n        return is_valid;\n    }\n    // al change dei valori per i campi impostati, riporata la validità dell'input\n    public static dynamic_validate(el_form:JQuery, a_sel:Hash ) {\n        for (const selector of Object.keys(a_sel) ) {\n            let validator = a_sel[selector];\n            el_form.find(selector).on('input change',function(e) {\n                    var el = $(this);\n                    var val = el.val();\n                    var is_ok = validator.call( null, val, el );\n                    SimpleValidation.errorReport( el, is_ok);\n                    if( !is_ok ) {\n                        console.log( sprintf('failing {1} {2}', selector, validator ) );\n                    }\n            } );\n        }\n    }\n}\n\n//  prevent double submission of forms\nfunction prevent_double_submission(el_form, event) {\n    $(el_form).find('button[type=submit], input[type=submit]').prop('disabled',true);\n    if (el_form.data('submitted') === true) {\n        // Previously submitted - don't submit again\n        event.preventDefault();\n        console.log('double submit prevented');\n    } else {\n        // Mark it so that the next submit can be ignored\n        el_form.data('submitted', true);\n    }\n}\n\n\n/*\n// add CSS per supportare la validazione\n$(document).ready(function() {\n    Form.init();\n});\nminimal client side vaildation\nuso:\n    $("#FormNewCustomer").submit(function(event) {\n            var formdata = $(this);\n            if (formdata.length>0){\n                if (Form.checkRequired(formdata)){\n                    formdata.submit();\n                } else {\n                    var msg = "E' necessario compilare tutti le voci per il Cliente  ";\n                    UI.alert(msg);\n                    return false;\n                }\n            } else {\n                alert('form #FormNewCustomer non trovata ');\n            }\n    });\n*/\nvar Form = {\n\n    init: function(){\n        var csscode = "                     \\\n            input.error, select.error {     \\\n                border: 1px solid #b94a48;  \\\n            }                               \\\n            input.success, select.success { \\\n                border: 1px solid #468847;  \\\n            } ";\n        CSSTool.insertRule( csscode );\n    },\n    // assicura che i campi richiesti siano valorizzati\n    checkRequired: function(dataForm) {\n        var err_count = 0;\n        dataForm.find(':input.required').each(function(){\n                // salta i bottoni\n                if( this.tagName.toLowerCase() == 'button'){\n                    return;\n                }\n                var is_empty = $.trim($(this).val()).length==0;\n                if (is_empty){\n                    err_count++;\n                    $(this).removeClass('success').addClass('error');\n                } else {\n                    $(this).removeClass('error').addClass('success');\n                }\n        });\n        if (err_count>0) {\n            return false;\n        } else {\n            return true;\n        }\n    },\n\n    //  prevent double submission of forms\n    prevent_double_submit: function (el_form:JQuery, event) {\n        $(el_form).find('button[type=submit], input[type=submit], button').prop('disabled',true);\n        if (el_form.data('submitted') === true) {\n            // Previously submitted - don't submit again\n            event.preventDefault();\n            console.log('double submit prevented');\n        } else {\n            // Mark it so that the next submit can be ignored\n            el_form.data('submitted', true);\n        }\n    }\n    \n//  prevent double submission of forms\nfunction form_prevent_double_submission(el_form, event) {\n    $(el_form).find('button[type=submit], input[type=submit]').prop('disabled',true);\n    if (el_form.data('submitted') === true) {\n        // Previously submitted - don't submit again\n        event.preventDefault();\n        console.log('double submit prevented');\n    } else {\n        // Mark it so that the next submit can be ignored\n        el_form.data('submitted', true);\n    }\n}    \n    \n    // resetta la form\n    function form_reset(f){\n            f.find('input:text, input:password, input:file, select, textarea').val('');\n            f.find('input:radio, input:checkbox').removeAttr('checked').removeAttr('selected');\n    }\n}\n\n\n\n
_some_|//Returns true if any of the values in the list pass the predicate truth test. Short-circuits and stops traversing the list if a true element is found.\n_.some([null, 0, 'yes', false]);\n//=> true
jq_inarray_|let a_ = [ "8", "9", "10", 10 + "" ];\nlet is_ = $.inArray( 10, a_ );
file_get_contents_|const fs = require('fs');\nconst readFileLines = filename =>\n  fs\n    .readFileSync(filename)\n    .toString('UTF8')\n    .split('\\n');\n/*\ncontents of test.txt :\n  line1\n  line2\n  line3\n  ___________________________\n*/\nlet arr = readFileLines('test.txt');\nconsole.log(arr); // ['line1', 'line2', 'line3']
variadic_|func_get_args_
_bind_|// Bind a function to an object, meaning that whenever the function is called, the value of this will be the object.\n// Optionally, pass arguments to the function to pre-fill them, also known as partial application. \n// For partial application without context binding, use partial.\nvar func = function(str){ return str + ': ' + this.name };\nfunc = _.bind(func, {name: 'moe'}, 'hi');\nfunc(); // => 'hi: moe'\n
jq_dom_node_|let dom_node = $( "li" ).get( 0 );\nconsole.log( dom_node+' '+$.type(dom_node) );
include_once_|// see require_ require_once_ include_ jq_require_
sql_sqlite_limit_|LIMIT 10 OFFSET 40\n-- fetch 10, skip first 40
reg_scan_|"dolor sit amet".match(/\\w+/g);
byid_|let el = document.getElementById('id');
jq_disable_|// su checkbox\n$('form#form_id #checkid').change(function(){\n    if( this.checked ){\n        $('form#form_id input:text').attr('disabled','disabled');\n    } else {\n        $('form#form_id input:text').removeAttr('disabled');\n    }\n}).trigger('change');\n\n// tutti i submit di una form\n$('form#form_id').map(function(){\n    let selector_btn = 'input[type=button], input[type=submit], :submit';\n    $(this).find(selector_btn).prop('disabled', true);\n});
lambda_|let sqr2: (x: number) => number = (x) => {\n  return x * x;\n};
f_|$1 =():string  => {\n    \|\n}
throw_|throw new Error("msg");
reg_match_|if( first_char.match(/[a-z]/i) !== null ) {\n    // ok \n}
docstr_|doctring_
str_split_|str.split(' ')
cache_|\nfunction cache(c_key:string, op:TCalback ):Hash {\n    let data:Hash = {};\n    if ( c_key in window.localStorage) {\n        data = JSON.parse(window.localStorage.getItem(c_key));\n    } else {\n        let data = op();\n        // Salvo dati\n        let json_data = JSON.stringify(data);\n        window.localStorage.setItem( c_key, json_data );\n    }\n    return data;\n}\n//\nfunction cache_session( c_key:string, cb:TCallbackFunc, cb_context:Object=null ): Hash {\n    let data:Hash = {};\n    if (c_key in window['sessionStorage'] ) {\n        // Recupero l'oggetto dalla sessionStorage\n        let json = window['sessionStorage'].getItem(c_key);\n        data = JSON.parse(json);\n    } else {\n        let data = cb.call(cb_context);//, arg1, arg2\n        // Salvo dati\n        let json_data = JSON.stringify(data);\n        window.sessionStorage.setItem( c_key, json_data );\n    }\n    return data;\n}\n//\n// esempio cached func\nfunction cached_function() {\n  let key:string = _.str.sprintf('%s_%s_%s', 'app.adapters.items', searchKey, use_bestsellers );\n  let result = null;        \n  if( MemCache.has(key) ) {\n            results = MemCache.get(key);\n  } else {\n            // compute list\n            results = getItemsFilterd(searchKey, use_bestsellers);\n            MemCache.set(key, result);\n  }\n  return result;\n}\n\n\n/**\n * funzione:\n * mantine in memoria il risultato di una operazione\n */\n\nclass MemCache {\n    public static cache:Hash = {}\n    static add(key: string, dom_node: any): void {\n        //console.log(lf('','MemCache add '+key));\n        MemCache.cache[key] = dom_node;\n    }\n    static set(key: string, dom_node: any): void {\n        return MemCache.add(key, dom_node);\n    }\n    static has(key: string): boolean {\n        return typeof MemCache.cache[key] !== 'undefined';\n    }\n    static get(key: string): any {\n        //console.log(lf('','MemCache hit '+key));\n        return MemCache.cache[key];\n    }\n    // elimina tutto dalla memoria, da usare quando si aggiornano i dati dal server\n    static cleanup() {\n        MemCache.cache = {};\n    }\n}\n    // TODO: generalizzare questo meccanismo\n    getData: function() {\n        var data = {};\n        if ("typSearch" in sessionStorage) {\n            // Recupero l'oggetto dalla sessionStorage\n            data = JSON.parse(sessionStorage.getItem('typSearch'));\n        } else {\n            $.ajax({\n                url: _URL.searchTypeahead(),\n                dataType: 'json',\n                async: false,\n                cache: true,\n                success: function(resp) {\n                    if( resp.result !== void(0) ) {\n                        if ( resp.result == 'ko' ) {\n                            console.log('Json TypeSearch non vaido');\n                        } else {\n                            // Salvo in sessionStorage il json\n                            sessionStorage.setItem('typSearch', JSON.stringify(resp));\n                            console.log('Json TypeSearch corretto salvato in sessionStorage');\n                            data = resp;\n                        }\n                    }\n                }\n            });\n        }\n        return data;\n    }\n
main_|document.addEventListener('DOMContentLoaded', init, false);\nasync function init() { }\n\n(function main() {\n\n}());
static_|public static $1($b:string):string { \n    return ''; \n}\n\n
jq_when_|// da utilizzare per sincronizzare una coda di operazioni\nlet d1:JQueryPromise<any> = $.ajax('/page1.php'); // $.Deferred(); d1.resolve();\nlet d2:JQueryPromise<any> = $.ajax('/page2.php'); // $.Deferred(); d2.resolve('abc');\n\n$.when( d1, d2 ).done( ( v1:any, v2:any ) => {\n    console.log( v1 ); // v1 is undefined\n    console.log( v2 ); // v2 is "abc"\n});\n \n\n\n\n
jq_html_|// Load HTML from the server and place into the matched elements\n$("#result").load("ajax/test.html", function() {\n    alert( "Load was performed." );\n});
void_|if ( value === void 0) { value = 0; }
stop_|e.stopPropagation();//bubbling\ne.preventDefault();
call_|cb.call(thisArg|null, arg1, arg2 );
base64_encode_|function base64_encode(str){\n\tvar enc = window.btoa(str);// bin to asci\n\treturn enc;\n}\nfunction base64_decode(str_enc){\n\tvar dec = window.atob(str_enc);// ascii to bin\n\treturn dec;\n}\n\n\n
for_of_|for (const key of Object.keys( $1 ) ) {\n    let val = $1[key];\n    // console.log(key+'='+val);\n}\n//array: for (const v of a_vals ) { console.log('val: '+v); }\n\n
jq_contains_|str_contains_
jq_promise_when_|// da utilizzare per sincronizzare una coda di operazioni\nlet d1:JQueryPromise< RS > = Clients.findAll();\nlet d2:JQueryPromise< RS > = Destinations.findByClientID(client_id);\n$.when( d1, d2 ).done((a_clients:RS, a_destinations:RS  ) => {\n                    console.log( 'clients:', a_clients );\n                    console.log( 'destinations:', a_destinations );\n});\n// example 2 \n$.when(  $.ajax("/main.php"), $.ajax("/modules.php"),               \n).then( successFunc, failureFunc )\n  .done((val_1, val_2)=>{})\n  .fail(()=>{});\n// example 3 \nlet d1 = $.Deferred();\nlet d2 = $.Deferred();\nlet p = $.when( d1, d2 );//a promise composed of many\np.done(function ( v1, v2 ) {\n    console.log( v1 ); // v1 is undefined\n    console.log( v2 ); // v2 is "abc"\n \n});\nd1.resolve( /*no value, yelds undefined*/ );\nd2.resolve( "abc" );\n// \n// array of any count() of promises\n            var promises = [];\n            collection.each( (m) => {\n                let p = asicn_op();\n                promises.push( p );\n            });\n            $.when.apply($, promises).done( (result) => {\n            });\n// @see all()\n// p = Promise.all(p1,p2,p3)\n
__CLASS__|instance.constructor.name \n// or MyClass.name \n
_flter_|//all the values that pass\nlet evens = _.filter([1, 2, 3, 4, 5, 6], function(num){ \n\treturn num % 2 == 0; \n});\n// => [2, 4, 6]
jq_deferred_|jq_promise_
singleton_|// instance = SingletonClass.getInstance();\nclass SingletonClass {\n    private static _instance:SingletonClass = new SingletonClass();\n    public static getInstance():SingletonClass {\n        return SingletonClass._instance;\n    }\n    constructor() {\n\t// enforce singleton\n        if(SingletonClass._instance) {\n            throw new Error("Error: Instantiation failed: Use SingletonClass.getInstance() instead of new.");\n        }\n        SingletonClass._instance = this;\n    }\n}
ucfirst_|function ucfirst(str:string):string {\n    return str.charAt(0).toUpperCase() + str.slice(1);\n}
strpos_|str_indexof_
proxy_|jq_proxy_
lastindexof_|str.lastIndexOf("substr");
jq_radio_|$('input[name=radioName]:checked', '#FormID').val()
jq_events_|// custom events\n$( document ).on("light:on", {\n    foo: "bar"\n}, function( event, arg1, arg2 ) {\n    console.log( event.data.foo, arg1, arg2 );\n});\n$(document).trigger("light:on", ["bim", "baz"]);\n\n
selected_text_|const getSelectedText = () => window.getSelection().toString();\n\ngetSelectedText();
pow_|Math.pow(7, 2);    // =>49
is_string_|_.isString(myVar)\n// typeof mylet === 'string' || mylet instanceof String
bb_view_events_|    public events() {\n        return {\n            'click #cart_current_edit': this.onCartCurrentOpen,\n        };\n    }\n    public onCartCurrentOpen(event:JQueryEventObject):void {\n        let el_btn = event.target;\n        event.stopPropagation();\n        Backbone.history.navigate('cart_edit_current', { trigger:true });\n\n        // this.model.set({ name: this.$("#name").val() });\n        // this.model.save({ name: name });\n        this.render();\n    }\n    const KEYCODE_ENTER = 13;\n    // 'keypress #txt_search': this.searchOnEnter,\n    public searchOnEnter( event:JQueryEventObject ) {\n        if ( event.which === KEYCODE_ENTER ) { }\n    }\n\n\n\n\n
_count_|_size_
log_|console.log( sprintf('%s %s', date_, this.constructor.name ) );\n// console.trace();\n
_reject_|let a_list = [1, 2, 3, 4, 5, 6];\nlet odds = _.reject<number>(a_list, (num:number):number => { return num % 2 == 0; });\n// => [1, 3, 5]
grep_|var arr = [ 1, 9, 3, 8, 6, 1 ];\narr = jQuery.grep(arr, function( n, i ) {\n  return ( n !== 5 && i > 4 );//if true use value\n})
let_|let num:numeric = 123;\n\n \n
jq_ajax_setup_|//\n// ajax loading indicator\nlet el_loading = $('<div/>').attr('id','loading').text('loading...').css({\n    display: 'none',\n    position: 'fixed',\n    top: '0',\n    right: '0',\n    padding: '10px',\n    border: '1 px solid #ccc',\n    backgroundColor: 'rgba(255,255,255, 0.4)',\n}).appendTo(document.body);\n\n$( document ).ajaxStart(function () {\n    el_loading.show();\n});\n$( document ).ajaxStop(function () {\n    el_loading.hide('slow');\n});\n// intercetta gli eventi jquery ajax per logging\n$(document).ajaxComplete(function() {\n    console.log( "Triggered ajaxComplete handler." );\n});\n$(document).ajaxError(function() {\n    console.log( "Triggered ajaxError handler." );\n});\n$(document).ajaxSend(function() {\n    console.log( "Triggered ajaxSend handler." );\n});\n$(document).ajaxSuccess(function() {\n    console.log( "Triggered ajaxSuccess handler." );\n});
jq_get_json_|let r:JQueryXHR = $.getJSON(url: string, data?: Object, \n\tfunction(data: any, textStatus: string, jqXHR: JQueryXHR){\n});\n
hash_|dict_js_
max_|let n = Math.max(n1,n2);
lifo_|fifo_lifo_
function_|//\nfunction add(x: number): number {\n    return x;\n}
_throttle_|// _.throttle(function, wait, [options])\n// Creates and returns a throttled version of function, that,\n// when invoked repeatedly,\n// will only actually call the original function at most once per every wait milliseconds.\n// Useful for **rate-limiting** events that occur faster than you can keep up with.\n//\n// By default, throttle will execute the function as soon as you call it for the first time, and,\n// if you call it again any number of times during the wait period, as soon as that period is over.\n// If you'd like to disable the leading-edge call, pass {leading: false}, and if you'd like to disable the execution on the trailing-edge, pass\n// {trailing: false}.\n//\nvar throttled_f = _.throttle(updatePosition, 100);\n$(window).scroll(throttled_f);
intval_|parseint_
_template_|let html = _.template("<%=k%>").call(this, {k: "aa"});
jq_promise_|// \npublic static findById(item_id:string): JQueryPromise< Array<T> > {\n    let deferred:JQueryDeferred< Array<any> > = $.Deferred();\n    let data: Array<T> = [];\n    // eg. async\n    setTimeout(function() {\n        deferred.resolve( data );// il tipo di JQueryPromise<T>\n    }, 100 );\n    return deferred.promise();\n}\nfunction xxx() {\n    return $.Deferred(( dfd ) => {\n         setTimeout(() => {\n             // $(".news, .reactions").removeClass("active");\n             dfd.resolve();\n        }, 4000);  \n    }).promise();\n}\n\n// caller: per una operazione asincrona ritorna .promise(),\n// intercetta il .done() con una callback\nlet promise: JQueryPromise<T> = findById(item_id);\npromise.done( function(data:T) { });
moment_|let om = moment("12-25-1995", "MM-DD-YYYY");\nconsole.log( om.format("MM-DD-YYYY") );\nlet dp10 = moment().add('10 days').format('YYYYMMDD');\n//d:Date\nlet str_date = moment(d).format('DD/MM/YYYY');\n\n\n
type_rec_|type TAvailabilityResult = {\n    css_label: string,\n    msg: string;\n    [key: string]: string;\n};
select_get_|input_get_
session_|var str = sessionStorage.getItem(key);\nsessionStorage.setItem(key, str );\nsessionStorage.removeItem(key);\n
array_max_|max_\narray_min_
echo_|log_
_before_|// _.before(count, function) \n// Creates a version of the function that can be called no more than count times. \n// The result of the last function call is memoized and returned when count has been reached.\n\nvar monthlyMeeting = _.before(3, askForRaise);\nmonthlyMeeting();\nmonthlyMeeting();\nmonthlyMeeting();\n// the result of any subsequent calls is the same as the second call
jq_effects_|$(this).show()       ;// Show the selected elements.\n$(this).hide()       ;// Hide the selected elements.\n$(this).fadeIn()     ;// Animate the opacity of the selected elements to 100%.\n$(this).fadeOut()    ;// Animate the opacity of the selected elements to 0%.\n$(this).slideDown()  ;// Display the selected elements with a vertical sliding motion.\n$(this).slideUp()    ;// Hide the selected elements with a vertical sliding motion.\n$(this).slideToggle();// Show or hide the selected elements with a vertical sliding motion
async_|# npm install --save async\n# typings install async\n\n//---- parallel exec ---------------------------------\n// Array to hold async tasks\nvar asyncTasks = [];\n// Loop through some items\nitems.forEach( (item) => {\n  // add a function to an array of "tasks"\n  asyncTasks.push( (callback) => {\n    // Call an async function, ie a save() to DB\n    item.someAsyncCall( () => {\n      // Async call is done \n      callback();\n    });\n  });\n});\nasyncTasks.push( (callback) => {\n  // Set a timeout for 3 seconds\n  setTimeout(function(){\n    // alert completion via callback\n    callback();\n  }, 3000);\n});\n// Execute all async tasks in the asyncTasks array\nasync.parallel(asyncTasks, () => {\n  // All tasks are done now\n});\n//-------------------------------------\nasync.waterfall // todo docuemntation\n//-------------------------------------\n// items: array of items\nasync.each(items,\n  //  function that each item is passed to\n  function(item, done){\n    // Call an asynchronous function, ie save() to DB\n    item.someAsyncCall( () => {\n      // Async call is done: alert via callback injected by Async lib\n      done();\n    });\n  },\n  // function to call when everything's done\n   (err) => {     \n    console.log('async DONE!')\n  }\n);\n
file_exists_|let file_exists = function ( file_URL_zip:string, cb: TCallback<File> ):void {\n                window.resolveLocalFileSystemURL( file_URL_zip,\n                    (entry: FileEntry ) => {\n                        entry.file(\n                            (file: File) => {\n                                console.log('file_exists: ' + file_zip_name +' Size = ' + file.size );\n                                if( file.size > 0 ){\n                                    cb( file );\n                                }\n                            },\n                            (error: FileError) => {\n                                console.log('!file_exists: '+file_zip_name );\n                            } );\n                    },\n                    (error: FileError) => {\n                        console.log('file_exists error:'+JSON.stringify(error) );\n                    });\n            };\nfile_exists( file_URL_zip, (file:File) => {\n    console.log( 'file_exists cb: '+file.name );\n});\n\n
jq_submit_|$('form').submit(function(e){\n    e.preventDefault();// prevent the default browser behaviour on this case\n    let isErrorFree = true;\n    // custom validation\n    $('input.required, select.required, textarea.required',this).each(function(){\n        if ( validateElement.isValid(this) == false ){\n            isErrorFree = false;\n        };\n    });\n    if (isErrorFree){ \n\t// disable multiple submissions\n        $(this).find('button, input[type=submit]').attr('disabled', 'disabled');\n\t// send data\n\tlet a_ = $(this).serializeArray();\n\t$.post( url, data, callback, type );\n    }\n    return isErrorFree;\n});\n\n
array_keys_|Object.keys(a_recs)
cb_|cb?: TCallback<Hash>\ncb?: (i: number)=>void\n
empty_|_empty_\n\n// php empty equivalent\n// ok( empty('') );\n// ok( empty(0) );\n// ok( empty(0.0) );\n// ok( empty('0') );\n// ok( empty(null) );\n// ok( empty(false) );\n// ok( empty([]) );\n// ok( empty({}) );\n// ok( empty( void(0) ) );\nfunction empty(data):boolean {\n    if( 0 == data ) {\n        return true;\n    }\n    if (typeof(data) === 'number' || typeof(data) === 'boolean') {\n        return false;\n    }\n    if (typeof(data) === 'undefined' || data === null) {\n        return true;\n    }\n    if (typeof(data.length) !== 'undefined') {\n        return data.length === 0;\n    }\n    var count = 0;\n    for (var i in data) {\n        if (data.hasOwnProperty(i)) {\n            count++;\n        }\n    }\n  
timestamp_|let now = new Date().getTime().toString();
jq_key_press_|<input type="text"><span id="test_out">0</span> \n<script type="text/javascript">\nlet i = 0;\n$(function(){\n    $("input").keypress(function(){\n        $("#test_out").text(i += 1);\n    });\n});\n</script>\n
redirect_|const redirect = (url, asLink = true) =>\n  asLink ? (window.location.href = url) : window.location.replace(url);\nredirect('https://google.com');\n
stack_|fifo_lifo_
_each_|_.each<string>(hash, (val:string, key:string) => { \n    // do not return, just iter. @see _map_\|});
callback_|cb_
regexp_|let re = /\\w+/;\nlet re_m = regex.exec(text);\nconsole.log(re_m[1]); \n// str_match_ str_replace_
jq_by_name_|let email = $("input[name='email']").val();
array_merge_|// a_val.concat(a_val2); // merge di array sequenziali\nconst concatUsers = users.concat([{ name: 'Jenny', age: 45 }]);\n// let a = _.extend(a1, a2);
is_array_|_.isArray(aaa)\n$.isArray(aaa)\nArray.isArray([1, 2, 3]);  // true\nArray.isArray({foo: 123}); // false
strlen_|str.length
jq_json_|jq_ajax_json_
input_get_|let var_name = $(form_selector)\n            .find(':input[name=input_name]')\n            .first()\n            .val();
profile_|let t_start:number = Date.now();\nlet timeElapsed:number = (Date.now()-t_start);\n"time: "+timeElapsed+" msec"
is_int_|function is_int(n) {\n\treturn n % 1 === 0;\n}
jq_on_|@see man event delegation\n// event is attacched only to tbody and then filterd, not attached to all elements, is not deleted when rebuilding the dom\n$( "#dataTable tbody" ).on( "click", "tr", function() {\n  console.log( $( this ).text() );\n});
jq_css_|el.css({\n\tbackgroundColor: '#ffe', \n\tborderLeft: '1px solid #ccc' \n}).css('width', function( i) {\n  return i * 50;\n}).css('width', '+=200');
console_|log_
public_|public \|():boolean {\nreturn true;\n}
jq_closest_|let ul_el = $('li.classname').closest( "ul" );
bb_find_|this.$('scoped selector');
jq_ready_|$(function(){\|});
time_|function time() {\n    let t:number = (new Date()).getTime() / 1000.0;\n    return Math.floor( t );\n}\nmoment().format('YYYY-MM-DD HH:mm:ss')\n$.now()\n_time_\nlet t_start:number = Date.now();
fetch_|// get the cats\nlet resp = await fetch('https://www.raymondcamden.com/.netlify/functions/get-cats');\ndata = await resp.json();\n\n\n
_range_|_.range(1, 11);
f_es6_|//ES6 \nlet multiply = (x, y) => x*y;\nlet str_split = str => str.split(" ");// 1 args, () are optional\nlet doc_log = () => { console.log(document); };// 0 args\nlet rec_new = (id, name) => ({ id: id, name: name });\n \n\n\n
_after_|// _.after(count, function)\n// Creates a version of the function that will only be run after being called count times.\n// Useful for grouping asynchronous responses, where you want to be sure that all the async calls have finished, before proceeding.\n\nvar renderNotes = _.after(notes.length, render);\n_.each(notes, function(note) {\n  note.asyncSave({ success: renderNotes });\n});\n// renderNotes is run once, after all notes have saved.
str_toupper_|str.toUpperCase()
str_match_|let is_found = 'For more information, see Chapter 3.4.5.1'.match( /(chapter \\d+(\\.\\d)*)/i );\nlet is_numeric = s_num.match(/^[0-9]+$/) !== null;\nconsole.log(is_found, is_numeric);
promise_jq_|jq_promise_
form_get_|input_get_
dict_|dict_js_
ifne_|if( !_.isEmpty($1) ){\n\t$1\n}
bind_|fun.bind(this_obj , arg1, arg2 ... );
date_day_num_|// numero del giorno del anno es. 21-03-2020 => 232\nfunction date_day_num(date=null) {\n  if( date=== null){ date=new Date(); }\n  return Math.floor((date - new Date(date.getFullYear(), 0, 0)) / 1000 / 60 / 60 / 24);\n}\ndayOfYear(new Date());
fifo_lifo_|let stack = [];\nstack.push(2);       // stack is now [2]\nstack.push(5);       // stack is now [2, 5]\nlet i = stack.pop(); // stack is now [2]\nconsole.log(i);      //  5\n\nlet queue = [];\nqueue.push(2);         // queue is now [2]\nqueue.push(5);         // queue is now [2, 5]\nlet i = queue.shift(); // queue is now [5]\nconsole.log(i);        // 2
strtoupper_|str.toUpperCase();
date_make_|let yr = 1999;\nlet mo = 9;\nlet dy = 10;\nlet hr = 23;\nlet mi = 30;\nlet ss = 0;\nlet t = new Date(yr, mo - 1, dy, hr, mi, ss);
jq_trigger_|$( "#foo" ).trigger( "click" );
slice_|let a_1 = ["Banana", "Orange", "Lemon", "Apple", "Mango"];\nlet str = a_1.slice(1, 3);
date_format_|let str_date = moment(d:Date).format('DD/MM/YYYY');\n\n// from one format to another using Moment\nfunction get_value_date_it(value_as400: string): string {\n  let value_it:string = '';\n  if (!empty(value_as400)) {\n    let m_value: moment.Moment = moment(value_as400, 'YYYYMMDD');\n      if (m_value.isValid()) {\n        let value_it = m_value.format('DD/MM/YYYY');\n      }\n  }\n  return value_it;\n}\n
interface_jquery_plugin|\n// define plugin options\ninterface Select2Options {\n    width?: string;\n    dropdownAutoWidth?: boolean;\n    minimumInputLength?: number;\n}\n\ninterface JQuery {\n    select2(): JQuery;\n    select2(it: IdTextPair): JQuery;\n    select2(options: Select2Options): JQuery;\n}
bb_view_subviews_|\n  // subviews: preferibile configurarle per renderle manualmente\n  // this.collection.each((m:Model) => {\n  //     let tmpView = new subView({ model: m });\n  //     this.$el.append(tmpView.render().el);\n  // });\n  public subviews = [];\n  public renderItemSubviews() {\n            // unbind subviews\n            if(  !_.isEmpty(this.subviews) ) {\n                for (let _v of this.subviews ) {\n                    _v.remove();\n                }\n            }\n            if( this.itemCollection.size() > 0 ) {\n                this.itemCollection.each( (_model: Models.Item, i: number):void => {\n                    // limite a 500 articoli per rendere fluida l'interazione\n                    // TODO: pagination 23/01/17\n                    if( i < 500 ) {\n                        let id:string  = ''+_model.get('COD_ART');\n                        let rec:Models.IItemRec = _model.attributes;\n                        rec['id'] = id;\n                        let _v = new _ItemFormSubview({\n                            model: _model,\n                            el: $('<li>')\n                        });\n                        this.subviews.push( _v );\n                        this.$el.append( _v.render().el );\n                    }\n                } );\n            } else {\n                // se ricerca produce DS vuota restituire un  <li /> vuoto\n                this.$el.append('<li />');\n            }\n  }
url_decode_|let v="JavaScript_%D1%88%D0%B5%D0%BB%D0%BB%D1%8B";// "JavaScript_шеллы"\nlet v = decodeURIComponent(v);
date_|moment().format('YYYY-MM-DD HH:mm:ss');
date_parts_|t.getHours();\nt.getMinutes();\nt.getSeconds();
to_array_|let args = Array.prototype.slice.call(arguments);
scroll_to_top_|const scrollToTop = () => {\n  const c = document.documentElement.scrollTop || document.body.scrollTop;\n  if (c > 0) {\n    window.requestAnimationFrame(scrollToTop);\n    window.scrollTo(0, c - c / 8);\n  }\n};\nscrollToTop();
clamp_|boundaries_
number_format_|if( isNumber(val_f) )\n    var s_num_fmt = val_f.toFixed(2));// float formatting\n\n// round parameter can be negative for decimal, precision has to be postive\nfunction number_format(n, num_grp_sep, dec_sep, round, precision) {\n  if (typeof num_grp_sep == 'undefined' || typeof dec_sep == 'undefined') return n;\n  n = n ? n.toString() : '';\n  if (n.split) n = n.split('.');\n  else return n;\n\n  if (n.length > 2) return n.join('.'); // that's not a num!\n  // round\n  if (typeof round != 'undefined') {\n    if (round > 0 && n.length > 1) { // round to decimal\n      n[1] = parseFloat('0.' + n[1]);\n      n[1] = Math.round(n[1] * Math.pow(10, round)) / Math.pow(10, round);\n      n[1] = n[1].toString().split('.')[1];\n    }\n    if (round <= 0) { // round to whole number\n      n[0] = Math.round(parseInt(n[0], 10) * Math.pow(10, round)) / Math.pow(10, round);\n      n[1] = '';\n    }\n  }\n\n  if (typeof precision != 'undefined' && precision >= 0) {\n    if (n.length > 1 && typeof n[1] != 'undefined') n[1] = n[1].substring(0, precision); // cut off precision\n    else n[1] = '';\n    if (n[1].length < precision) {\n      for (var wp = n[1].length; wp < precision; wp++) n[1] += '0';\n    }\n  }\n\n  regex = /(\\d+)(\\d{3})/;\n  while (num_grp_sep != '' && regex.test(n[0])) n[0] = n[0].toString().replace(regex, '$1' + num_grp_sep + '$2');\n  return n[0] + (n.length > 1 && n[1] != '' ? dec_sep + n[1] : '');\n}
h_get_|let xxx = _.has(hh, kk) ? hh[kk] : def;\n// h_get_def_\n
_merge_|_extend_
jq_insert_|$( "h2" ).insertAfter( $( ".container" ) );
type_guard_|if ((<Fish>pet).swim) {\n    (<Fish>pet).swim();\n} else {\n    (<Bird>pet).fly();\n}
array_add_|a.push( );//at bottom\na.unshift();//at top
__FUNCTION__|arguments.callee.name;\narguments.callee.caller.toString()
[plaintex]
[cobol]
[csv]
[css]
less_extend_|  &:extend(.class_name);
center_vh_|<div class="horizontal-and-vertical-centering">\n  <div class="child"></div>\n</div>\nstyle_\n.horizontal-and-vertical-centering {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}
sass_func_|// \n@mixin func-name($lato_len_px) {\n    // definizioni da ripetere...\n    .hide-txt when ($lato_len_px > 50) {\n        font-size: $font-size-small;\n    }\n}\n@include func-name($lato_len_px);
layout_|layout_grid_
list_horizontal_|<ul class="list-horizontal">\n  <li><a class="active" href="#home">Home</a></li>\n  <li><a href="#news">News</a></li>\n  <li><a href="#contact">Contact</a></li>\n</ul>\n\nul.list-horizontal {\n    list-style-type: none;\n    margin: 0;\n    padding: 0;\n    overflow: hidden;\n    background-color: #333333;\n  li {\n    float: left;\n  }\n  li a {\n    display: block;\n    color: white;\n    text-align: center;\n    padding: 16px;\n    text-decoration: none;\n  }\n  li a:hover {\n    background-color: #111111;\n  }\n}\n\n \n\n
css_mediaquery_|// if( $device_width >= $x )\n@media only screen and (min-width: 640px  ) { }\n@media only screen and (min-width: 667px  ) { }\n@media only screen and (min-width: 732px  ) { }\n@media only screen and (min-width: 960px  ) { }\n@media only screen and (min-width: 1024px ) { }\n@media only screen and (min-width: 1280px ) { }\n\n// if( $device_width <= $x )\n@media only screen and (max-width: 1280px) { }\n\n
list_menu_h_|<style type="text/css"> \nul#menu {\n    font-family: Verdana, sans-serif;\n    font-size: 11px;\n    margin: 0;\n    padding: 0;\n    list-style: none;\n}\nul#menu li {\n    background-color: #FF831C;\n    border-bottom: 5px solid #54BAE2;\n    display: block;\n    width: 150px;\n    height: 30px;\n    margin: 2px;\n    float: left;\n}\n \nul#menu li a {\n    color: #fff;\n    display: block;\n    font-weight: bold;\n    line-height: 30px;\n    text-decoration: none;\n    width: 150px;\n    height: 30px;\n    text-align: center;\n}\nul#menu li.active, ul#menu li:hover {\n    background-color: #54BAE2;\n    border-bottom: 5px solid #FF831C;\n}\n</style> \n<ul id="menu"> \n    <li><a href="#">Home</a></li> \n    <li class="active"><a href="#">About Us</a></li> \n    <li><a href="#">Services</a></li> \n    <li><a href="#">Portfolio</a></li> \n    <li><a href="#">Contact</a></li> \n</ul> \n\n// example 2\n<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">\n<style>\nbody {margin:0;}\n.icon-bar {\n    width: 100%;\n    background-color: #555;\n    overflow: auto;\n}\n.icon-bar a {\n    float: left;\n    width: 20%;\n    text-align: center;\n    padding: 12px 0;\n    transition: all 0.3s ease;\n    color: white;\n    font-size: 36px;\n}\n.icon-bar a:hover {\n    background-color: #000;\n}\n.active {\n    background-color: #4CAF50 !important;\n}\n</style>\n<div class="icon-bar">\n  <a class="active" href="#"><i class="fa fa-home"></i></a> \n  <a href="#"><i class="fa fa-search"></i></a> \n  <a href="#"><i class="fa fa-envelope"></i></a> \n  <a href="#"><i class="fa fa-globe"></i></a>\n  <a href="#"><i class="fa fa-trash"></i></a> \n</div>\n\n
var_|less_var_\nsass_var_
media_|mediaquery_
hide_|visibility:hidden;\n/*occupa posto nel layout*/\ndisplay:none;\n/*SEO friendly, Removes an item from the page, without affecting page flow or causing scrollbars*/\n.SEO_hide {\n    position: absolute;\n    left: -9999px;\n}
text_truncate_|<p class="truncate-text">If I exceed one line's width, I will be truncated.</p>\nCSS\n.truncate-text {\n  overflow: hidden;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n}
list_menu_tabs_|<style type="text/css">\n#tabs { font-family: Verdana, sans-serif; font-size: 14px; }\n#tabs li {\n    list-style: none;\n    float: left;\n    width: 150px;\n    height: 35px;\n    margin: 0 5px;\n}\n    #tabs li a {\n        background-color: #dedede;\n        color: #222;\n        font-weight: bold;\n        text-decoration: none;\n        width: 150px;\n        height: 35px;\n        display: block;\n        float: left;\n        line-height: 35px;\n        text-align: center;\n    }\n        #tabs li a:hover,\n        #tabs li a:active { background-color: #ededed; }\n\n\tdiv.content {\n        color: #222;\n        font-family: Verdana;\n        font-size: 12px;\n        background-color: #efefef;\n        padding: 25px;\n        width: 600px;\n        height: 350px;\n        line-height: 22px;\n    }\n\t\n\t#container { clear: both; height: 400px; overflow: hidden; }\n\t\n</style>\n\t\n</head>\n<body>\n\n\n\n<ul id="tabs">\n     <li><a href="#tab1">Tab 1</a></li>\n     <li><a href="#tab2">Tab 2</a></li>\n     <li><a href="#tab3">Tab 3</a></li>\n</ul>\n<div id="container">\n    <div class="content">\n        <a name="tab1" id="tab1"></a>\n        <h2>Tab 1</h2>\n\n        <p>Lorem ipsum dolor sit amet consectetuer ac quis dui mauris iaculis. Congue Vestibulum wisi tellus a Curabitur laoreet dui orci.</p>\n\n    </div>\n    <div class="content">\n        <a name="tab2" id="tab2"></a>\n        <h2>Tab 2</h2>\n\n        <p>Convallis elit tortor ut ante libero Aenean Maecenas semper et interdum. Id lorem id dui orci risus volutpat Curabitur Curabitur a urna. Vivamus sit lorem venenatis Nulla semper justo pretium id tincidunt Vestibulum. Vestibulum justo volutpat non.</p>\n    </div>\n    <div class="content">\n        <a name="tab3" id="tab3"></a>\n        <h2>Tab 3</h2>\n\n        <p>Urna justo quam nunc urna sem facilisis nibh Curabitur tellus quis. Orci sem ligula platea parturient justo Morbi id cursus tortor adipiscing. Tortor convallis pede orci Quisque id Nam condimentum sed eu Sed. Cum orci Quisque vitae egestas vitae nulla Cum fermentum egestas ante. Congue eu elit.</p>\n    </div>\n</div>
font_helvetica_|   font-family: "HelveticaNeue-Light", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif;\n   font-weight: 300;\n// @see https://fonts.google.com/specimen/Arimo\n// @see "Liberation Sans" by RedHat https://www.dafont.com/liberation-sans.font \n// @see   "IBM Plex" font by IBM or "CNN sans"\n// @see https://www.myfonts.com/fonts/linotype/neue-haas-grotesk/webfont_preview.html\n// @see http://www.fontbureau.com/nhg/\nAlteHaasGroteskBold per i titoli+RobotoRegular x testo\nh1..h6 font-family: "AlteHaasGroteskBold",Helvetica,Arial,sans-serif;\nbody, p font-family: "RobotoRegular",Helvetica,Arial,sans-serif;
remove_|display: none;
alpha_|opacity:0.85;\nfilter:alpha(opacity=85);\n// or see bg_ opacity_\nimg {\n    opacity: 0.5;\n    filter: alpha(opacity=50); /* For IE8 and earlier */\n}\nimg:hover {\n    opacity: 1.0;\n    filter: alpha(opacity=100); /* For IE8 and earlier */\n}
media_types_|<link rel="stylesheet" type="text/css" href="print.css" media="print">\n\nall - Used for all media typedevices\naural - Used for speech and sound synthesizers\nbraille - Used for braille tactile feedback devices\nembossed - Used for paged braille printers\nhandheld - Used for small or handheld devices\nprint - Used for printers\nprojection - Used for projected presentations, like slides\nscreen - Used for computer screens\ntty - Used for media using a fixed-pitch character grid, like teletypes and terminals\ntv - Used for television-type devices
import_|@import url("/css/style.css");
font_families_|.x {\n   font-family: 'CustomFont', Helvetica, Arial, sans-serif;\n}\n/* example fonts:\n<link href="https://fonts.googleapis.com/css?family=Lato|PT+Sans|PT+Serif" rel="stylesheet">\nfont-family: 'Lato', sans-serif;\nfont-family: 'PT Serif', serif;\nfont-family: 'PT Sans', sans-serif;\n*/\n\n//Sans-Serif:\nArial, sans-serif; Helvetica, sans-serif; Gill Sans, sans-serif; Lucida, sans-serif; Helvetica Narrow, sans-serif; sans-serif;\n\n//Serif:\nTimes, serif; Times New Roman, serif; Palatino, serif; Bookman, serif; New Century Schoolbook, serif; serif;\n\n//Monospace:\n'Andale Mono, monospace; Courier New, monospace; Courier, monospace; Lucidatypewriter, monospace; Fixed, monospace; monospace;\n\n//Cursive:\n'Comic Sans, Comic Sans MS, cursive; Zapf Chancery, cursive; Coronetscript, cursive; Florence, cursive; Parkavenue, cursive; cursive;\n\n//Fantasy:\n'Impact, fantasy; Arnoldboecklin, fantasy; Oldtown, fantasy; Blippo, fantasy; Brushstroke, fantasy; fantasy;
css_reset_|https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css\n// or\nhttps://cdnjs.cloudflare.com/ajax/libs/normalize/7.0.0/normalize.css
less_func_|// func def...\n.btn-square-parametric(@lato_len_px) {\n    .hide-txt when (@lato_len_px > 50) {\n        font-size: @font-size-small;\n    }\n}\n// func call \n.btn-square-parameter(@lato_len_px);
triangle2_|<div class="triangle"></div>\n \n.triangle {\n  width: 0;\n  height: 0;\n  border-top: 20px solid #333;\n  border-left: 20px solid transparent;\n  border-right: 20px solid transparent;\n}
footer_sticky_|// @see twb_ <nav class="navbar navbar-default navbar-fixed-bottom">\n\n* { margin:0; padding:0; }\n\nhtml, body, #wrap { height: 100%; }\n\nbody > #wrap {height: auto; min-height: 100%;}\n\n#main { padding-bottom: 150px; } /* must be same height as the footer */\n\n#footer {\n\n  position: relative;\n\n  margin-top: -150px; /* negative value of footer height */\n  height: 150px;\n  clear:both;\n}\n\n/* CLEAR FIX*/\n.clearfix:after {content: ".";\n  display: block;\n  height: 0;\n  clear: both;\n  visibility: hidden;}\n.clearfix {display: inline-block;}\n/* Hides from IE-mac \\*/\n* html .clearfix { height: 1%;}\n.clearfix {display: block;}\n/* End hide from IE-mac */\n\n\n<div id="wrap">\n\t<div id="main" class="clearfix">\n\t</div>\n</div>\n<div id="footer">\n</div>
list_menu_|<ul class="grid_5 prefix_4" id="menu">\n                        <li><a class="active" href="#">Home</a></li>\n                        <li><a href="#">About</a></li>\n                        <li><a href="#">Blog</a></li>\n                        <li><a href="#">Portfolio</a></li>\n                        <li><a href="#">Contact</a></li>\n                    </ul>\nul, ol { margin: 10px; list-style: disc inside; line-height: 20px; }\nol { list-style-type: decimal; }\n\n    ul#menu { list-style: none; margin-top: 60px; }\n        #menu li { float: left; }\n            #menu li a {\n                color: white;\n                display:block;\n                font-weight: bold;\n                height: 40px;\n                line-height: 50px;\n                width: 70px;\n                text-align: center;\n                text-decoration: none;\n            }\n                #menu li a:hover, #menu li a.active {\n                    background-color: #F58529;\n                }\n\n
palette_ibm_|$c_red = rgb(224, 21, 21);\n$c_orange = rgb(255, 102, 0);\n$c_yellow = rgb(250, 196, 80);\n$c_magenta = rgb(228, 36, 155);\n$c_gray = rgb(204, 204, 204);\n$c_green = rgb(95, 188, 41);\n$c_purple = rgb(88, 45, 170);\n$c_blue = rgb(0, 151, 218);\n$c_cian = rgb(1, 179, 202);\n\n// IBM color palette --------------------------------------------\n@color-ultramarine-1: #e7e9f7;\n@color-ultramarine-10: #d1d7f4;\n@color-ultramarine-20: #b0bef3;\n@color-ultramarine-30: #89a2f6;\n@color-ultramarine-40: #648fff;\n@color-ultramarine-50: #3c6df0;\n@color-ultramarine-60: #3151b7;\n@color-ultramarine-70: #2e3f8f;\n@color-ultramarine-80: #252e6a;\n@color-ultramarine-90: #20214f;\n@color-blue-1: #e1ebf7;\n@color-blue-10: #c8daf4;\n@color-blue-20: #a8c0f3;\n@color-blue-30: #79a6f6;\n@color-blue-40: #5392ff;\n@color-blue-50: #2d74da;\n@color-blue-60: #1f57a4;\n@color-blue-70: #25467a;\n@color-blue-80: #1d3458;\n@color-blue-90: #19273c;\n@color-cerulean-1: #deedf7;\n@color-cerulean-10: #c2dbf4;\n@color-cerulean-20: #95c4f3;\n@color-cerulean-30: #56acf2;\n@color-cerulean-40: #009bef;\n@color-cerulean-50: #047cc0;\n@color-cerulean-60: #175d8d;\n@color-cerulean-70: #1c496d;\n@color-cerulean-80: #1d364d;\n@color-cerulean-90: #1b2834;\n@color-aqua-1: #d1f0f7;\n@color-aqua-10: #a0e3f0;\n@color-aqua-20: #71cddd;\n@color-aqua-30: #00b6cb;\n@color-aqua-40: #12a3b4;\n@color-aqua-50: #188291;\n@color-aqua-60: #17616b;\n@color-aqua-70: #164d56;\n@color-aqua-80: #13393e;\n@color-aqua-90: #122a2e;\n@color-teal-1: #c0f5e8;\n@color-teal-10: #8ee9d4;\n@color-teal-20: #40d5bb;\n@color-teal-30: #00baa1;\n@color-teal-40: #00a78f;\n@color-teal-50: #008673;\n@color-teal-60: #006456;\n@color-teal-70: #124f44;\n@color-teal-80: #133a32;\n@color-teal-90: #122b26;\n@color-green-1: #cef3d1;\n@color-green-10: #89eda0;\n@color-green-20: #57d785;\n@color-green-30: #34bc6e;\n@color-green-40: #00aa5e;\n@color-green-50: #00884b;\n@color-green-60: #116639;\n@color-green-70: #12512e;\n@color-green-80: #123b22;\n@color-green-90: #112c1b;\n@color-lime-1: #d7f4bd;\n@color-lime-10: #b4e876;\n@color-lime-20: #95d13c;\n@color-lime-30: #81b532;\n@color-lime-40: #73a22c;\n@color-lime-50: #5b8121;\n@color-lime-60: #426200;\n@color-lime-70: #374c1a;\n@color-lime-80: #283912;\n@color-lime-90: #1f2a10;\n@color-yellow-1: #fbeaae;\n@color-yellow-10: #fed500;\n@color-yellow-20: #e3bc13;\n@color-yellow-30: #c6a21a;\n@color-yellow-40: #b3901f;\n@color-yellow-50: #91721f;\n@color-yellow-60: #70541b;\n@color-yellow-70: #5b421a;\n@color-yellow-80: #452f18;\n@color-yellow-90: #372118;\n@color-gold-1: #f5e8db;\n@color-gold-10: #ffd191;\n@color-gold-20: #ffb000;\n@color-gold-30: #e39d14;\n@color-gold-40: #c4881c;\n@color-gold-50: #9c6d1e;\n@color-gold-60: #74521b;\n@color-gold-70: #5b421c;\n@color-gold-80: #42301b;\n@color-gold-90: #2f261c;\n@color-orange-1: #f5e8de;\n@color-orange-10: #fdcfad;\n@color-orange-20: #fcaf6d;\n@color-orange-30: #fe8500;\n@color-orange-40: #db7c00;\n@color-orange-50: #ad6418;\n@color-orange-60: #814b19;\n@color-orange-70: #653d1b;\n@color-orange-80: #482e1a;\n@color-orange-90: #33241c;\n@color-peach-1: #f7e7e2;\n@color-peach-10: #f8d0c3;\n@color-peach-20: #faad96;\n@color-peach-30: #fc835c;\n@color-peach-40: #fe6100;\n@color-peach-50: #c45433;\n@color-peach-60: #993a1d;\n@color-peach-70: #782f1c;\n@color-peach-80: #56251a;\n@color-peach-90: #3a201b;\n@color-red-1: #f7e6e6;\n@color-red-10: #fccec7;\n@color-red-20: #ffaa9d;\n@color-red-30: #ff806c;\n@color-red-40: #ff5c49;\n@color-red-50: #e62325;\n@color-red-60: #aa231f;\n@color-red-70: #83231e;\n@color-red-80: #5c1f1b;\n@color-red-90: #3e1d1b;\n@color-magenta-1: #f5e7eb;\n@color-magenta-10: #f5cedb;\n@color-magenta-20: #f7aac3;\n@color-magenta-30: #f87eac;\n@color-magenta-40: #ff509e;\n@color-magenta-50: #dc267f;\n@color-magenta-60: #a91560;\n@color-magenta-70: #831b4c;\n@color-magenta-80: #5d1a38;\n@color-magenta-90: #401a29;\n@color-purple-1: #f7e4fb;\n@color-purple-10: #efcef3;\n@color-purple-20: #e4adea;\n@color-purple-30: #d68adf;\n@color-purple-40: #cb71d7;\n@color-purple-50: #c22dd5;\n@color-purple-60: #9320a2;\n@color-purple-70: #71237c;\n@color-purple-80: #501e58;\n@color-purple-90: #3b1a40;\n@color-violet-1: #ece8f5;\n@color-violet-10: #e2d2f4;\n@color-violet-20: #d2b5f0;\n@color-violet-30: #bf93eb;\n@color-violet-40: #b07ce8;\n@color-violet-50: #9753e1;\n@color-violet-60: #7732bb;\n@color-violet-70: #602797;\n@color-violet-80: #44216a;\n@color-violet-90: #321c4c;\n@color-indigo-1: #e9e8ff;\n@color-indigo-10: #dcd4f7;\n@color-indigo-20: #c7b6f7;\n@color-indigo-30: #ae97f4;\n@color-indigo-40: #9b82f3;\n@color-indigo-50: #785ef0;\n@color-indigo-60: #5a3ec8;\n@color-indigo-70: #473793;\n@color-indigo-80: #352969;\n@color-indigo-90: #272149;\n@color-gray-1: #eaeaea;\n@color-gray-10: #d8d8d8;\n@color-gray-20: #c0bfc0;\n@color-gray-30: #a6a5a6;\n@color-gray-40: #949394;\n@color-gray-50: #777677;\n@color-gray-60: #595859;\n@color-gray-70: #464646;\n@color-gray-80: #343334;\n@color-gray-90: #272727;\n@color-cool-gray-1: #e3ecec;\n@color-cool-gray-10: #d0dada;\n@color-cool-gray-20: #b8c1c1;\n@color-cool-gray-30: #9fa7a7;\n@color-cool-gray-40: #8c9696;\n@color-cool-gray-50: #6f7878;\n@color-cool-gray-60: #535a5a;\n@color-cool-gray-70: #424747;\n@color-cool-gray-80: #343334;\n@color-cool-gray-90: #272727;\n@color-warm-gray-1: #efe9e9;\n@color-warm-gray-10: #e2d5d5;\n@color-warm-gray-20: #ccbcbc;\n@color-warm-gray-30: #b4a1a1;\n@color-warm-gray-40: #9e9191;\n@color-warm-gray-50: #7d7373;\n@color-warm-gray-60: #5f5757;\n@color-warm-gray-70: #4b4545;\n@color-warm-gray-80: #373232;\n@color-warm-gray-90: #2a2626;\n@color-neutral-white-1: #fcfcfc;\n@color-neutral-white-2: #f9f9f9;\n@color-neutral-white-3: #f6f6f6;\n@color-neutral-white-4: #f3f3f3;\n@color-cool-white-1: #fbfcfc;\n@color-cool-white-2: #f8fafa;\n@color-cool-white-3: #f4f7f7;\n@color-cool-white-4: #f0f4f4;\n@color-warm-white-1: #fdfcfc;\n@color-warm-white-2: #fbf8f8;\n@color-warm-white-3: #f9f6f6;\n@color-warm-white-4: #f6f3f3;\n@color-black-100: #000;\n@color-white-0: #fff;\n/*\n[[http://www.joehallock.com/edu/COM498/|Color Assigment Study]] nel rilevare le preferenze di un campione rappresentativo della popolazione:\n\nFiducia: blu (34%) e bianco (21%).\nSicurezza: blu (28%) e nero (16%).\nQualità: nero (43%) e blu (20%).\nAffidabilità: blu (43%) e nero (24%).\nTecnologia: nero (26%), blu (23%) e grigio (23%).\n#\nVelocità: rosso (76%).\nCoraggio: viola (29%) e rosso (28%).\nPaura: rosso (41%) e nero (38%).\n#\nConvenienza: arancione (26%) e giallo (22%).\nDivertimento: arancione (28%) e giallo (26%).\n\ntarget maschile o femminile, \nmaschile: risponde bene al verde\nfemminile: risponde bene al viola\n*/\n
less_var_|// Variables\n@link-color:        #428bca; // sea blue\n@link-color-hover:  darken(@link-color, 10%);
list_inline_|/* TWB inline */\n.list-inline {\n                        padding-left: 0;\n                        margin-left: -5px;\n                        list-style: none;\n}\n.list-inline>li {\n                        display: inline-block;\n                        padding-right: 5px;\n                        padding-left: 5px;\n}
opacity_|// @see bootstrap .opacity mixin\n// @see alpha_\n.opacity(@opacity);\n\n.transparent_class {\n  /* IE 8 */\n  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=50)";\n\n  /* IE 5-7 */\n  filter: alpha(opacity=50);\n\n  /* Netscape */\n  -moz-opacity: 0.5;\n\n  /* Safari 1.x */\n  -khtml-opacity: 0.5;\n\n  /* Good browsers */\n  opacity: 0.5;\n}
dbg_|border: 1px solid #\|;/*dbg*/
text_selection_|/* Mozilla based browsers */\n::-moz-selection {\n   background-color: #FFA;\n   color: #000;\n}\n\n/* Works in Safari */\n::selection {\n   background-color: #FFA;\n   color: #000;\n}
list_menu_dropdown_|<style>\n.dropbtn {\n    background-color: #4CAF50;\n    color: white;\n    padding: 16px;\n    font-size: 16px;\n    border: none;\n    cursor: pointer;\n}\n\n.dropdown {\n    position: relative;\n    display: inline-block;\n}\n\n.dropdown-content {\n    display: none;\n    position: absolute;\n    background-color: #f9f9f9;\n    min-width: 160px;\n    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);\n    z-index: 1;\n}\n\n.dropdown-content a {\n    color: black;\n    padding: 12px 16px;\n    text-decoration: none;\n    display: block;\n}\n\n.dropdown-content a:hover {background-color: #f1f1f1}\n\n.dropdown:hover .dropdown-content {\n    display: block;\n}\n\n.dropdown:hover .dropbtn {\n    background-color: #3e8e41;\n}\n</style>\n<div class="dropdown">\n  <button class="dropbtn">Dropdown</button>\n  <div class="dropdown-content">\n    <a href="#">Link 1</a>\n    <a href="#">Link 2</a>\n    <a href="#">Link 3</a>\n  </div>\n</div>\n
layout_grid_|// https://codepen.io/geoffgraham/pen/GrYgex\n// https://css-tricks.com/snippets/css/complete-guide-grid/\|<div class="grid">\n  <header>\n    Header\n  </header>\n\n  <aside class="sidebar-left">\n    Left Sidebar\n  </aside>\n\n  <article>\n    Article\n  </article>\n\n  <aside class="sidebar-right">\n    Right Sidebar\n  </aside>\n  \n  <footer>\n    Footer\n  </footer>\n</div>\n\nbody {\n  text-align: center;\n}\n\n.grid {\n  display: grid;\n  grid-template-columns: 150px auto 150px;\n  grid-template-rows: repeat(3, 100px);\n  grid-gap: 1em;\n}\n\nheader,\naside,\narticle,\nfooter {\n  background: #ccc;\n  padding: 1em;\n}\n\nheader {\n  /* Start on Row 1 */\n  grid-row: 1;\n  /* Start on the first column line and extend all the to the last column line */\n  grid-column: 1 / 4;\n}\n\n.sidebar-left {\n  /* Start on Row 2 */\n  grid-row: 2;\n  /* Start on the first column line and stop at the next column line */\n  grid-column: 1 / 2;\n}\n\narticle {\n  /* Start on Row 2 */\n  grid-row: 2;\n  /* Start on the second column line and stop at the third column line */\n  grid-column: 2 / 3;\n}\n\n.sidebar-right {\n  /* Start on Row 2 */\n  grid-row: 2;\n  /* Start on the third column line and stop at the last column line */\n  grid-column: 3 / 4;\n}\n\nfooter {\n  /* Start on Row 1 */\n  grid-row: 3;\n  /* Start on the first column line and extend all the to the last column line */\n  grid-column: 1 / 4;\n}\n\n\n
less_mixin_|.my-hover-mixin() {\n  &:hover {\n    border: 1px solid red;\n  }\n}\n.foo (@bg: #f5f5f5, @color: #900) {\n  // @arguments variable\n  background: @bg;\n  color: @color;\n}\n.foo(#008000);//call\nmixin(@margin: 20px; @color: #33acfe); // call named parameters
table_border_|table, td, th {    \n    border: 1px solid #ddd;\n    text-align: left;\n}\n\ntable {\n    border-collapse: collapse;\n    width: 100%;\n}\n\nth, td {\n    padding: 15px;\n}
canter_v_|.verticale {\n    width: 200px;//must have a dim\n    height: 200px;\n \n    position: absolute;\n    top: 50%;\n    left: 50%;\n    margin-top: -100px;\n    margin-left: -100px;\n}
page_center_|#page-wrap {\n     width: 800px;\n     margin: 0 auto;\n}\nHTML\n\n<body>\n  <div id="page-wrap">\n    <!-- all websites HTML here -->\n  </div>\n</body>
close_|// implementa bottone chiudi con segno X\n<div class=".admin__menu">\n<a href="#" class="action-close _close" data-role="close-submenu"></a>\n</div>\n\n.admin__menu .action-close {\n    padding: 2.4rem 2.8rem;\n    position: absolute;\n    right: 0;\n    top: 0;\n}\n.action-close:before {\n    content: '\\e62f';\n    transition: color .1s linear;\n}\n.admin__menu .submenu a:hover, .admin__menu .submenu a:focus {\n    box-shadow: none;\n    text-decoration: none;\n}\n.admin__menu .submenu a {\n    color: #fcfcfc;\n    transition: background-color .1s linear;\n}\n.action-close:hover {\n    cursor: pointer;\n    text-decoration: none;\n}\n// fa cambiare il colore con animazione\n.admin__menu .action-close:hover:before {\n    color: #fff;\n}\n
mediaquery_|/* 480 768 */\n@media only screen and (max-width : 1024px) {\n}
footer_bar_|  <style type="text/css">\n    * { margin: 0; padding: 0; }\n    body {\n      font-family: Verdana, sans-serif;\n      font-size: 14px;\n\n      /* ie6 hack */\n      height: 100%;\n      overflow: auto;\n    }\n    p { margin: 20px; }\n    #footer_bar {\n      width: 100%;\n      position: fixed;\n      bottom: 0;\n      overflow: hidden;\n    }\n       #bar_container {\n         background: #FAA53A;\n         margin: 0 auto;\n         width: 900px;\n         height: 35px;\n         overflow: hidden;\n       }\n           #bar_container ul {\n             list-style: none;\n           }\n               #bar_container ul li {\n                 float: left;\n                 width: 150px;\n                 text-align: center;\n               }\n                  #bar_container ul li a {\n                    color: white;\n                    display: block;\n                    font-weight: bold;\n                    padding: 10px 0;\n                    text-decoration: none;\n                    width: 150px;\n                  }\n                      #bar_container ul li a:hover {\n                        background-color: #F68529;\n                      }\n    /* IE6 hack */\n    * html #footer_bar {\n      position: absolute;\n    }\n  </style>\n\n\n \n\n<div id="footer_bar">\n  <div id="bar_container">\n    <ul>\n      <li><a href="#">Home</a></li>\n      <li><a href="#">About</a></li>\n      <li><a href="#">Services</a></li>\n      <li><a href="#">Portfolio</a></li>\n      <li><a href="#">Resume</a></li>\n      <li><a href="#">Contact</a></li>\n    </ul>\n  </div>\n</div>
icon_sprite_|http://www.html.it/pag/18960/sprites-css/
img_text_around_|.alignleft { float: left; padding: 15px 15px 15px 0; }\n.alignright { float: right; padding: 15px 0 15px 15px; }
foreach_|// less 2.1\n@list: "banana", "tomato", "potato", "peach";\n@n: length(@list);\n.loop(@i) when (@i >= 0) {\n    .loop( (@i - 1) );  // recursivem next iteration\n    @value: extract(@list, @i);\n    // code for each iteration\n    body { color:@value; }\n}\n.loop(@n);
text_shadow_|p { text-shadow: 1px 1px 1px #000, 3px 3px 5px blue; }\n// or\np { text-shadow: 0px 2px 2px rgba(255, 255, 255, 0.4); }
ul_bullet_|ul {\n    list-style-image: url('bullet.png');\n \n    list-style-type: square;\n}
center_h_|.orizzontale {\n    width: 200px;//must have a dim\n    height: 200px;\n    margin: 0 auto;\n}
if_|sass_if_\nless_if_
sass_call_|@include func-name($varname);
triangle_|.upper {\n  position:absolute;\n  left:150px; top:100px; /* pos.*/   }\n\n  .upper div {\n    border-left-color: transparent;\n    border-style: solid;\n  }\n  .inner{\n  border-width: 0 0 /* x: */ 100px /* h: */ 100px;\n  border-bottom-color: #955;\n}\n \n\n<div class="upper">\n  <div class="inner"></div>\n</div>
IE6_fixed_position_|// The 100% height on the body and html stuff is in case you want to do fixed positioning along the bottom edge of the browser window.\n* { margin:0; padding:0; }\nhtml, body {\n   height: 100%;\n}\nbody #fixedElement {\n   position:fixed !important;\n   position: absolute; /*ie6 and above*/\n   top: 0;\n   right: 0;\n}\n#page-wrap {\n   width: 600px;\n   margin: 0 auto;\n   font: 16px/2 Georgia, Serif;\n}
sass_if_|@if ($lato_len_px > 50) {\n\n} @else if($lato_len_px <= 50) {\n\n}
bg_|background-color: rgba(255,255,255,0.9);
img_crop_|<p class="crop"><a href="http://templatica.com" title="Css Templates"><img src="img.jpg" alt="css template"></a></p>\n.crop{\n\tfloat:left;\n\tmargin:.5em 10px .5em 0;\n\toverflow:hidden; /* this is important */\n\tborder:1px solid #ccc;\n\t}\n/* input values to crop the image */\n.crop img{\n\tmargin: -20px -15px -40px -55px;\n\t}
show_|display:block;
transition_|// transition on BG\n.admin__menu .submenu a {\n    color: #fcfcfc;\n    transition: background-color .1s linear;\n}\n.admin__menu .submenu a:hover {\n     background-color: #333;\n}\n// animation on dimension\ndiv {\n    width: 100px;\n    height: 100px;\n    background: red;\n    -webkit-transition: width 2s; /* For Safari 3.1 to 6.0 */\n    transition: width 2s;\n}\ndiv:hover {\n    width: 300px;\n}\n\n// animation on bg\n.myclass a i {\n                        -moz-transition: all 200ms ease-in;\n                        -o-transition: all 200ms ease-in;\n                        -webkit-transition: all 200ms ease-in;\n                        transition: all 200ms ease-in\n}\n.myclass a i:hover {\n    opacity: .8\n}\n
text_replacement_|h1 #logo {\n  width: 200px; // width of image\n  height: 100px; // height of image\n  background: url(/path/to/image.jpg);\n  text-indent: -9999px;\n}
list_menu_v_|<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">\n<style>\nbody {margin:0}\n.icon-bar {\n    width: 90px;\n    background-color: #555;\n}\n.icon-bar a {\n    display: block;\n    text-align: center;\n    padding: 16px;\n    transition: all 0.3s ease;\n    color: white;\n    font-size: 36px;\n}\n.icon-bar a:hover {\n    background-color: #000;\n}\n.active {\n    background-color: #4CAF50 !important;\n}\n</style>\n<body>\n\n<div class="icon-bar">\n  <a class="active" href="#"><i class="fa fa-home"></i></a> \n  <a href="#"><i class="fa fa-search"></i></a> \n  <a href="#"><i class="fa fa-envelope"></i></a> \n  <a href="#"><i class="fa fa-globe"></i></a>\n  <a href="#"><i class="fa fa-trash"></i></a> \n</div>\n\n<style>\nul {\n    list-style-type: none;\n    margin: 0;\n    padding: 0;\n    width: 200px;\n    background-color: #f1f1f1;\n}\nli a {\n    display: block;\n    color: #000;\n    padding: 8px 16px;\n    text-decoration: none;\n}\nli a.active {\n    background-color: #4CAF50;\n    color: white;\n}\n\nli a:hover:not(.active) {\n    background-color: #555;\n    color: white;\n}\n</style>\n<h2>Vertical Navigation Bar</h2>\n<ul>\n  <li><a class="active" href="#home">Home</a></li>\n  <li><a href="#news">News</a></li>\n  <li><a href="#contact">Contact</a></li>\n  <li><a href="#about">About</a></li>\n</ul>\n\n
transparent_|opacity_
box_shadow_|shadow_
font_face_|@font-face {\n   font-family: 'CustomFont';\n   src: url('customfont.eot');\n   src: url('customfont.eot?#iefix') format('embedded-opentype'),\n   url('customfont.woff') format('woff'),\n   url('customfont.ttf')  format('truetype'),\n   url('customfont.svg#CustomFont') format('svg');\n}\n\nbody {\n   font-family: 'CustomFont', Helvetica, Arial, sans-serif;\n}
center_v2_|// center vertical con display table\n<div id="container">\n    <div id="content">\n        <p>Lorem ipsum</p>\n    </div>\n</div>\n#container {\n    height: 200px;\n    display: table;\n}\ndiv#content {\n    display: table-cell;\n    vertical-align: middle;\n}\n\n
a_btn_|// v0\n<div><a href="#" class="block">Lorem ipsum dolor sit amet.</a></div>\n<style>\ndiv {width: 500px}\na.block { display:block;padding:5px; border:1px solid #666; text-decoration: none}\na.block:hover, a.block:focus, a.block:active { background-color:#99cc66; }\n</style>\n// v1\n<style>\na:link, a:visited {\n    background-color: #f44336;\n    color: white;\n    padding: 14px 25px;\n    text-align: center;\n    text-decoration: none;\n    display: inline-block;\n}\na:hover, a:active {\n    background-color: red;\n}\n</style>\n</head>\n<body>\n\n<a href="default.asp" target="_blank">This is a link</a>\n\n\n
shadow_|/* oriz vert blur_radius spread radius */\n-webkit-box-shadow: 10px 0px 8px 0px rgba(0, 0, 0, 0.5);\n\n.shadow {\n  box-shadow: 5px 5px 5px #ccc;\n  -moz-box-shadow: 5px 5px 5px #ccc;\n  -webkit-box-shadow: 5px 5px 5px #ccc;\n}
position_sticky_|// experimental css support\n// use js library like this one:\nhttps://github.com/HubSpot/tether
list_vertical_|<ul class="list-vertical">\n  <li><a href="#home">Home</a></li>\n  <li><a href="#news">News</a></li>\n  <li><a href="#contact">Contact</a></li>\n</ul>\nul.list-vertical {\n    list-style-type: none;\n    margin: 0;\n    padding: 0;\n  li a {\n    display: block;\n    width: 60px;\n    background-color: #dddddd;\n  }\n}\n\n\n \n\n
footer_sticky2_|html, body {\n\theight: 100%;\n}\n#container {\n\tmin-height: 100%;\n\theight: auto !important;\n\theight: 100%;\n\tmargin: 0 auto -50px; \n}\n#footer, #push {\n\theight: 50px; \n\tclear: both;\n}
gradient_|// use less or sass mixin\nbackground-image: linear-gradient(45deg,#7990f5 0,#0a1855 100%);\n\n// multiple gradient like docker.com\nbackground-image: \n  linear-gradient(-74deg, transparent 90%, rgba(255, 255, 255, 0.23) 20%), \n  linear-gradient(-74deg, transparent 83%, rgba(255, 255, 255, 0.18) 15%), \n  linear-gradient(-74deg, transparent 76%, rgba(255, 255, 255, 0.1) 15%), \n  linear-gradient(to top, #127ab1, #1799e0, #1796db);\n\n
color_|$base-color: #AD141E;\n\n// aggiunge bianco o nero\ntint( $base-color, 10% )\nshade( $base-color, 10% )\n\n// schiarisce o scurisce\ndarken( $base-color, 10% )\nlighten( $base-color, 10% )\n\n// vira verso il grigio o il brillante\nsaturate( $base-color, 20% )\ndesaturate( $base-color, 20% )\n\nadjust-hue( $base-color, 20% )\n\n// alpha channel\nrgba( $base-color, .7 )\n\n\n\n\n\n\n
underline_|text-decoration: underline;
text_rotate_|.rotate {\n  /* Safari */\n  -webkit-transform: rotate(-90deg);\n  /* Firefox */\n  -moz-transform: rotate(-90deg);\n  /* Internet Explorer */\n  -ms-transform: rotate(90deg);\n  /* Opera */\n  -o-transform:rotate(-90deg);\n  transform: rotate(90deg);\n}
IE_conditiona_comment_|<!--[if IE 5]>\n<style type="text/css">@import "IE5_only.css";</style>\n<![endif]-->\n \n<!--[if !IE]><!-->\n<p>This is not Internet Explorer</p>\n<!--<![endif]-->\n \n<!--[if gte IE 7]>\n  At least IE7 and not\n<!-->
blockquote_|blockquote {\n  background:#f9f9f9;\n  border-left:10px solid #ccc;\n  margin:1.5em 10px;\n  padding:.5em 10px;\n  quotes:"\\201C""\\201D""\\2018""\\2019";\n}\nblockquote:before {\n  color:#ccc;\n  content:open-quote;\n  font-size:4em;\n  line-height:.1em;\n  margin-right:.25em;\n  vertical-align:-.4em;\n}\nblockquote p {\n  display:inline;\n}
center_div_of_dinamic_height_|* { margin: 0; padding: 0; }\n#page{display:table;overflow:hidden;margin:0px auto;}\n*:first-child+html #page {position:relative;}/*ie7*/\n* html #page{position:relative;}/*ie6*/\n\n#content_container{display:table-cell;vertical-align: middle;}\n*:first-child+html #content_container{position:absolute;top:50%;}/*ie7*/\n* html #content_container{position:absolute;top:50%;}/*ie6*/\n\n*:first-child+html #content{position:relative;top:-50%;}/*ie7*/\n* html #content{position:relative;top:-50%;}/*ie6*/\n\nhtml,body{height:100%;}\n#page{height:100%;width:465px;}\nHTML\n\n<div id="page">\n       <div id="content_container">\n               <div id="content">\n                     <p>your content</p>\n               </div>\n       </div>\n</div>
less_import_|@import "file.less";
text_center_|.box {\n    text-align: center; /* orizzontale */\n    line-height: 150px; /* verticale */\n}\n.box { // box must have dimensions and display:block\n    width: 250px;\n    height: 150px;\n    border: 1px solid #f00;\n}
header_bar_|footer_bar_
selection_|text_selection_
[assembly-x86]
[binsource-agc]
[ans-forth94]
[xq]
[gnuplot]
[javascript]
foreach_|array.forEach(function(val, i) {\n    // console.log(val);\n});\n// js6\nObject.keys( dict ).forEach(function(key) { \n\tlet v = target[key]; \n});\n\n// IE<=8 \n// for(var k in dict ){ if(a.hasOwnProperty(k)){ var v = a[k]; }}
js_require_|js_include_
min_|var n = Math.min(n1,n2);
jq_loading_indicator_|jq_ajax_setup_
globals_|window.xxxxx
jq_is_|$( "ul" ).click(function( event ) {\n  var target = $( event.target );\n  if ( target.is( "li" ) ) {\n    target.css( "background-color", "red" );\n  }\n});
global_|globals_
if_|if( $jq_selection.length && !_.isEmpty(o) ) {\|}
_sprintf_|var s = _.str.sprintf('%s', val);
jq_attr_|$(selector).attr(k, v);
jq_build_|$('<div/>', {\n    'id':'myDiv',\n    'class':'myClass',\n    'style':'cursor:pointer;font-weight:bold;',\n    'html':'<span>For HTML</span>',\n    'click':function(){ alert(this.id) },\n    'mouseenter':function(){ $(this).css('color', 'red'); },\n    'mouseleave':function(){ $(this).css('color', 'black'); }\n}).appendTo('body');
reg_get_|var regexp = new RegExp(s_query, 'gi');\nvar res = str.match(regexp);
redirect_|window.location = "http://www.name.com/";
try_|try {\n\|} catch(e){\n        //console.log(e.message); \n\t//alert(format_exception(e));\n} finally {}
str_multiline_|`Jessy has ${5+3} cats and ${3+2} dogs.`\n`${sayHello()}, it's the code girl next door.`\n`\n    <div class = "animal">\n        <h1>Hey, this is a ${animal.kind}</h1>\n        <p>It eats ${animal.food} and loves ${animal.hobby}</p>\n    </div>\n`
jq_ajax_|$.ajax({\n  url: '/data/people.json',\n  type: 'POST',\n  dataType: 'json',\n  success: function( resp_o ) {\n    $( '#target').html( resp_o.name );\n  },\n  error: function( req, status, err ) {\n    console.log( 'something went wrong', status, err );\n  }\n});
node_main_|if (typeof require != 'undefined' && require.main==module) {\n    run_tests();\n}
str_begins_|/^2/.test(request.status)
_template_|var html = _.template("<%=k%>").call(this, {k: "aa"});
jq_post_|jq_ajax_post_
include_once_|// see require_ require_once_ include_ jq_require_
jq_prop_|var el = $(selector).prop(k, v); // see jq_attr_
sprintf_|const x = 'Hello'; // js6\nconst msg = `${x} World`; // =>Hello World\n\n"{1}".format('aa')\n// @see _sprintf_ sprintf_def_\n
round_|Math.round( float );\n\nvar myNamespace = {};\n\nmyNamespace.round = function(number, precision) {\n    var factor = Math.pow(10, precision);\n    var tempNumber = number * factor;\n    var roundedTempNumber = Math.round(tempNumber);\n    return roundedTempNumber / factor;\n};\n\n// myNamespace.round(1234.5678, 1); // 1234.6
jq_effects_|$(this).show()       ;// Show the selected elements.\n$(this).hide()       ;// Hide the selected elements.\n$(this).fadeIn()     ;// Animate the opacity of the selected elements to 100%.\n$(this).fadeOut()    ;// Animate the opacity of the selected elements to 0%.\n$(this).slideDown()  ;// Display the selected elements with a vertical sliding motion.\n$(this).slideUp()    ;// Hide the selected elements with a vertical sliding motion.\n$(this).slideToggle();// Show or hide the selected elements with a vertical sliding motion
jq_style_|jq_css_
jq_html_|// Load HTML from the server and place into the matched elements\n$("#result").load("ajax/test.html", function() {\n    alert( "Load was performed." );\n});
preg_|reg_replace_
for_|for( var i=0; i<a.length; i++) {\|}
call_|fun.call(this_obj, arg1, arg2, ... );
str_match_|var is_found = 'For more information, see Chapter 3.4.5.1'.match( /(chapter \\d+(\\.\\d)*)/i );\nconsole.log(is_found);
f__|function(){\n\n}
case_|case 'xxx':\n    break;
to_array_|var args = Array.prototype.slice.call(arguments);
is_empty_|jq_is_empty_
_map_|var a_=_.map([1, 2, 3], function(num){ return num * 3; }); // [3, 6, 9]\nvar a_=_.map({one: 1, two: 2, three: 3}, function(num, key){ return num * 3; }); // [3, 6, 9]
react_component_base_|import React, { Component } from 'react';\n\nclass E extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      e: 0,\n    };\n\n    this.timer = this.timer.bind(this);\n  }\n\n  componentDidMount() {\n    const eId = setInterval(this.timer, 10);\n    this.setState({ eInterval: eId });\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.state.eInterval);\n  }\n\n  timer() {\n    this.setState({ e: this.state.e + 1 });\n  }\n\n  render() {\n    const e = Array(this.state.e).fill(<p>e</p>);\n    return e;\n  }\n}\n\nexport default E;
jq_promise_|/* per una operazione asincrona ritorna .promise(), intercetta il .done() con una callback\n$( "div" ).promise().done(function() {\n     // op Finished!\n});\n$.when( effect() ).done(function() {\n    // op Finished!\n}); */\n\nfunction doSomethingLater( fn, time ) {\n  var dfd = $.Deferred();\n  setTimeout(function() {\n    dfd.resolve( fn() );\n  }, time || 0);\n  return dfd.promise();\n}\nvar success = function( resp ) {\n  $( '#target' ).html( 'it worked' );\n};\nvar err = function( req, status, err ) {\n  $( '#target' ).html( 'it failed' );\n};\nvar dfd = doSomethingLater(function() { /* onTimeOut */ }, 100);\ndfd.then( success, err );\n
array_foreach_|// performs a function for each element in an array\n    let miles = [1, 3, 5, 10];\n    let moreMiles = [];\n    miles.forEach(element => moreMiles.push(element + 10))\n    console.log(moreMiles);\n    // [11, 13, 15, 20];
include_|function include( url ) {\n    var el, el2 = null;\n    el = document.createElement('script');\n    el.async = 1;\n    el.src = url;\n    el2 = document.getElementsByTagName('script')[0];\n    el2.parentNode.insertBefore(el, el2);\n}\n\n\nLazyLoad.js(['foo.js', 'bar.js', 'baz.js'], function () {\n  alert('all files have been loaded');\n});\n// see require_ require_once_ include_ jq_require_ js_include_
jq_json_|jq_ajax_json_
jq_disable_|// su checkbox\n$('form#form_id #checkid').change(function(){\n    if( this.checked ){\n        $('form#form_id input:text').attr('disabled','disabled');\n    } else {\n        $('form#form_id input:text').removeAttr('disabled');\n    }\n}).trigger('change');\n\n// tutti i submit di una form\n$('form#form_id').map(function(){\n    var selector_btn = 'input[type=button], input[type=submit], :submit';\n    $(this).find(selector_btn).prop('disabled', true);\n});
jq_dom_map_|$("input").map(function(){\n      return $(this).val();\n    }).get().join(", ")
jq_contains_|str_contains_
jq_is_numeric_|var is_num = $.isNumeric( num );
array_map_|map_
jq_get_|jq_ajax_get_
jq_wrap_all_|$( ".inner" ).wrapAll( "<div class='my_css' />");
str_contains_|var is_containing_x = url.search(/xxx/) != -1;\nvar is_containing_x = /yes/i.test('xxx') ;\nvar is_containing_x = str.toLowerCase().indexOf("xxx") >= 0);\n\n// contains any\n/^(checkbox|radio|submit|file)$/i.test(el.type)
is_object_|function is_object(v) {\n    //One of the quirks of JavaScript is that typeof null returns "object". But it’s not an object. So let’s check for that, too\n    return (v instanceof Object && v.toString() == '[object Object]');\n}
jq_remove_|// elimina dal DOM i nodi selezionati\n$(selector).remove();
jq_wrap_|$("p").slice(1,3).wrap("<i></i>");\n
jq_id_|$(selector).attr('id')
clo_|func_
factory_|function createObject(name) \n{\n  var privateName = name || "I am private name";\n  var privateMethod = function () {\n    return "result of private"; \n  }\n  return {\n    publicName: "I am public name",\n    publicMethod: function () {\n           alert("privateName is " + privateName + ", privateMethod called: "+ privateMethod()); \n      }\n  }\n}
jq_each_|$.each(associative_array, function(key, value) { \n  alert(key + ': ' + value); \n});
_size_|var a_={one: 1, two: 2, three: 3};// 3\nvar c = _.size(a_);
jq_exists_|jq_hasnode_
substr_|str.substr( beg=0, len=4);
max_|var n = Math.max(n1,n2);
jq_css_|el.css({\n\tbackgroundColor: '#ffe', \n\tborderLeft: '1px solid #ccc' \n}).css('width', function( i) {\n  return i * 50;\n}).css('width', '+=200');
implode_|array.join(separator)
in_array_|var is_present = ["Banana", "Orange"].indexOf("Apple") >= 0; // jq_inarray_
json_encode_|var text = JSON.stringify(data);
ltrim_|trim_
array_unshift_|// adds an element to the beginning of an array\n    let ages = [30, 26, 24, 20];\n    ages.unshift(60);\n    console.log(ages);\n    // ages = [60, 30, 26, 24, 20];
log_|console.log(\|);
profile_|var a = performance.now();\nalert('do something...');\nvar b = performance.now();\nalert('It took ' + (b - a) + ' ms.');
strpos_|indexof_
func_|function(){\n\|}
static_|myclass.method = function() {\n};
jq_ready_|$(function(){\|});
jq_delegate_|$( "table" ).delegate( "td", "click", function() {\n  $( this ).toggleClass( "chosen" );\n});
_empty_|_.isEmpty(|)
jq_on_ready_|$(function() {\n  //  as soon as the page's Document Object Model (DOM) becomes safe to manipulate\n});
date_|var Y = (new Date()).getFullYear();\nfunction format_date_it(date){\n    var m = date.getMonth() + 1;\n    var str = date.getDate() + "/" + m + "/" + date.getFullYear();\n    return str;\n}\nfunction date_last_week(){\n    var es = (7*24*60*60*1000);//secondi in una settimana\n    var ts = ( (new Date()).getTime() - es );\n    return new Date(ts);\n};\nvar str = format_date_it( date_last_week() );
indexof_|//var a = ['apple','orange','pear'];\nvar is_found = (a.indexOf("orange") != -1);\nvar has_char = str.indexOf('@') === -1;
jq_submit_|$('form').submit(function(e){\n    e.preventDefault();// prevent the default browser behaviour on this case\n    var isErrorFree = true;\n    // custom validation\n    $('input.required, select.required, textarea.required',this).each(function(){\n        if ( validateElement.isValid(this) == false ){\n            isErrorFree = false;\n        };\n    });\n    if (isErrorFree){ \n\t// disable multiple submissions\n        $(this).find('button, input[type=submit]').attr('disabled', 'disabled');\n\t// send data\n\tvar a_ = $(this).serializeArray();\n\t$.post( url, data, callback, type );\n    }\n    return isErrorFree;\n});\n\n
jq_checked_|$(":checkbox").is(':checked')
addsleshes_|function addslashes(string) {\n    return string.replace(/\\\\/g, '\\\\\\\\').\n        replace(/\\u0008/g, '\\\\b').\n        replace(/\\t/g, '\\\\t').\n        replace(/\\n/g, '\\\\n').\n        replace(/\\f/g, '\\\\f').\n        replace(/\\r/g, '\\\\r').\n        replace(/'/g, '\\\\\\'').\n        replace(/"/g, '\\\\"');\n}
http_build_query_|var obj = { "foo":"bar", "baz":"boom" };\n// jquery based\nreturn jQuery.param(obj);\n//\n//\nfunction http_build_query( h_query ){\n    var a_qry = [];\n    Object.keys( h_query ).map(function(key, index) {\n      var v = h_query[key];\n      a_qry.push( key+'='+encodeURIComponent(v)  );\n    });\n    var qry_str = a_qry.join('&');\n    return qry_str;\n}
define_|define(["my/dependency"],\n    function(dependency) {\n        // private code\n        return function() {\n            // public code\n        }\n    }\n);
json_|var data = JSON.parse(text);\nvar text = JSON.stringify(data);
jq_foreach_|$.each(a, function(i,key){\|});
_reduce_|var sum = _.reduce([1, 2, 3], function(memo, num){ return memo + num; }, 0);// 6
strtolower_|str.toLowerCase();
jq_is_empty_|jQuery.isEmptyObject({}); // true\njQuery.isEmptyObject({ foo: "bar" }); // false
timestamp_|var now = new Date().getTime().toString();
opt_|opt = (typeof b !== 'undefined') ?  b : 1;\nopt = $.extend({ }, opt);\n
ife_|if( empty( )){}
jq_extend_|var settings = $.extend({ test: 1 }, opt);\n
jq_form_validate_|npm install --save jquery-validation\nnpm install --save @types/jquery.validation\n\n$('#form_validation').validate({\n        rules: {\n            'checkbox': {\n                required: true\n            },\n            'gender': {\n                required: true\n            }\n        },\n        highlight: function(input) {\n            $(input).parents('.form-line').addClass('error');\n        },\n        unhighlight: function(input) {\n            $(input).parents('.form-line').removeClass('error');\n        },\n        errorPlacement: function(error, element) {\n            $(element).parents('.form-group').append(error);\n        }\n    });\n\n\n\n// https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.14.0/jquery.validate.min.js\n// https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.14.0/additional-methods.min.js\n// @see http://jqueryvalidation.org/\n$().ready(function() {\n    // Selecting the form and defining validation method\n    $("#form").validate({\n        // Passing the object with custom rules\n        rules : {\n            // login - is the name of an input in the form\n            login : {\n              // Setting login to be required\n              required : true\n            },\n            email : {\n                required : true,\n                // Setting email pattern for email input\n                email : true\n            },\n            password : {\n                required : true,\n                // Setting minimum and maximum lengths of a password\n                minlength : 5,\n                maxlength : 8\n            }\n        },\n        // Setting error messages for the fields\n        messages: {\n            login: "Enter you login",\n            password: {\n                required: "Enter your password",\n                minlength: "Minimum password length is 5",\n                maxlength: "Maximum password length is 8"\n            },\n            email: "Enter you email"\n        },\n        // Setting submit handler for the form\n        submitHandler: function(form) {\n            form.submit();\n        }\n    });\n});
jq_turbolinks_|$(function(){\n    var content_id = 'content';\n    console.log('turbo init');\n    var turbo_get = function(content_id, url) {\n        var t_1 = performance.now();\n        //\n        var jqxhr = $.get( url, function( html ) {\n          console.log("turbolinks rendering ");\n          $('#'+content_id).html( html );\n          $('#'+content_id+' a.turbo').on('click', on_turbo_click);\n        }).done(function(req) {\n            var t_2 = performance.now();\n            var t_s = CA.round( (t_2 - t_1)/1000, 4 );\n            console.log( "turbolinks success, "+' took ' +  t_s + ' s.' );\n        })\n        .fail(function(req, status, err) {\n                console.log( "turbolinks error:"+status+' '+err );\n        });\n    };\n\n    var on_turbo_click = function(e){\n        e.preventDefault();\n        var url = $(this).attr('href');\n        console.log('turbolinks loading url='+ url );\n        turbo_get(content_id, url) ;\n        // _gaq.push(['_trackPageview']);\n        // usa .turbo-menu per mantenre lo stato di un gruppo di link\n        $(this).closest('.turbo-menu').find('a.turbo').removeClass('active');\n        $(this).addClass('active');\n    };\n\n    $('a.turbo').on('click', on_turbo_click);\n});
_sort_|var a_people = [{name: 'moe', age: 40}, {name: 'larry', age: 50}, {name: 'curly', age: 60}];\na_people = _.sortBy(a_people, 'name');\n
jq_target_|$('').click(function(e){\nvar el = jQuery(e.target).closest('tr');\n});
file_get_contents_|var fs = require("fs");\n\nfunction file_get_contents(f) {\n  return fs.readFileSync(f).toString();\n}
jq_get_json_|var r: JQueryXHR = $.getJSON(url: string, data?: Object, function(data: any, textStatus: string, jqXHR: JQueryXHR){\n\n});\n
jq_find_|$( 'li' )\n.find( 'span' )\n.attr( 'title', 'Hover over me' )\n.click(function() {\n    $( this ).addClass( 'clicked' );\n});
node_include_|node_require_
jq_by_attribute_|var el = $("[attribute='value']");
now_|var now_ts = (new Date).getTime();//timestamp
merge_|jq_merge_
jq_data_|data-hidden="true" data-options='{"name":"John"}'\n$("div").data("hidden") === true;\n$("div").data("options").name === "John";
array_push_|    // adds an element to the end of an array\n    let names = ["Nick", "Chris", "Ben"];\n    names.push("Rebecca");\n    console.log(names);\n    // names = ["Nick", "Chris", "Ben", "Rebecca];
jq_serialize_|// URL-encoded notation\nvar url_data = $('form').serialize();\n// array [{ name: "a", value: "1" }]\nvar a_data   = $('form').serializeArray();\n
jq_mouse_over_|$('div').mouseover(function() {\n    $(this).addClass('blue-bg');\n}).mouseleave(function(){\n    $(this).find('.content').fadeOut();\n});
require_|require(["jquery", "undercore"], function($, _) {\n        // $ && _ are available\|\n});\n// see require_ require_once_ include_ jq_require_
extend_|jq_extend_
trim_|var s = $.trim(str);\|function rtrim(argvalue) {\n    while (true && (argvalue != null)) {\n        if (argvalue.substring(argvalue.length - 1, argvalue.length) == " "){\n            argvalue = argvalue.substring(0, argvalue.length - 1);\n        }else{\n            break;\n        }\n    }\n    return argvalue\n}\nfunction ltrim(argvalue) {\n    while (true && (argvalue != null) ) {\n        if (argvalue.substring(0, 1) == " "){\n            argvalue = argvalue.substring(1, argvalue.length);\n        }else{\n            break;\n        }\n    }\n    return argvalue\n}
jq_end_|$( "ul.first" )\n  .find( ".foo" )\n    .css( "background-color", "red" )\n  .end()  // returs a query object\n  .find( ".bar" )\n    .css( "background-color", "green" );
str_replace_|var str = 'John Smith'.replace(/(\\w+)\\s(\\w+)/, '$2, $1');\n\nvar str = str.replace( new RegExp(search, 'gi'), function(match) {\n    return '<b>'+match+'</b>';\n});\n\n\n
jq_unique_|var a_unique = $.unique( a_ );
isset_|typeof != 'undefined'\n//  !== void 0
jq_filter_|$(".parent").find(".bar").filter("p");
f_|func_
//--|\|//------------------------------------------------------------------------------
switch_|switch(\|) {\n  case : \n  break;\n  default: \n    //istruzioni \n}
sprintf_def_|if (!String.prototype.format) {\n    // "{1}".format('aa')\n    String.prototype.format = function() {\n        var args = arguments;\n        return this.replace(/{(\\d+)}/g, function(match, number) {\n                return typeof args[number] != 'undefined' ? args[number] : match ;\n        });\n    };\n}\nvar Str {\n    // minimal sprintf implementation\n    // sprintf('aaa %s', 'var'); =>  "aaa var"\n    sprintf: function(format) {\n        var args = Array.prototype.slice.call(arguments, 1);\n        var i = 0;\n        return format.replace(/%s/g, function() {\n                return args[i++];\n        });\n    }\n};
togle_|function toggle(id) {\n    var el = qs('#' + id);\n    el.className = (el.className == 'hidden' ? '' : 'hidden');\n    return false;\n}
ceil_|var n = Math.ceil(7.004); // 8
rand_|// Returns a random integer between min (included) and max (included)\n// Using Math.round() will give you a non-uniform distribution!\nfunction getRandomIntInclusive(min, max) {\n  return Math.floor(Math.random() * (max - min + 1)) + min;\n}\nfunction rand(max){\n    return  Math.floor(Math.random() * max );// 0 to (max-1)\n}\nvar r_n = Math.random();// between 0 (inclusive) and 1 (exclusive)\nvar r_perc = Math.floor(Math.random() * 100 );// 0-99\n
require_once_|// see require_ require_once_ include_ jq_require_
jq_hover_|jQuery('#something').hover(\nfunction(){\njQuery(this).stop(true)\n.fadeTo( 1, 1000 )\n.animate( {height:500}, 1000 );\n},\nfunction(){\njQuery(this).stop(true)\n.fadeTo( 0.8, 1000 )\n.animate( {height:200}, 1000 );\n}\n);\n
method_|    method: function() {\n    },
prompt_|var s = prompt("question","default");\nif ( s!=null && s!="" ) {\n}
filter_|var _a = a.filter(function(v){\n    return v.name === "test";\n});
is_numeric_|jq_is_numeric_\n\n// handles ',.'\nfunction is_numeric(txt) {\n    var a_c = '0123456789,.';\n    for (i = 0; i < txt.length; i++) {\n        var c = txt.charAt(i);\n        if ( a_c.indexOf(c) == -1 ) {\n            return false;\n        }\n    }\n    return true;\n}
join_|array.join(',');
jq_inarray_|var a_ = [ "8", "9", "10", 10 + "" ];\nvar is_ = $.inArray( 10, a_ );
ok_|ok( result, expected, label);\|// node_ok_def_
jq_append_|$('<div/>').append(text).css({}).appendTo('#log');\n$('<option/>').attr('value',optionValue).text(optionName).appendTo('#colors');\n// jq_build_\n
array_slice_|    // returns a shallow copy of an array. It can take one or two parameters that represent the "beginning" and "end" of where you want to slice. Note that the "beginning" parameter is included whereas the "end" parameter should not be included.\n    let colors = ["Blue", "Red", "Orange", "Purple", "Pink"];\n    let lessColors = colors.slice(1, 3);\n    console.log(lessColors);\n    // colors = ["Red", "Orange"];
jq_checkbox_|$( 'input:checkbox(:not(:disabled))' )\n.is( ":checked" );// test\n.prop( 'checked', 'checked' ); // set
lastIndexOf_|-1 !== window.location.pathname.lastIndexOf('/xxxx_Orders/');
valid_number_|$('.number_only').bind('keyup paste', function(){\n        this.value = this.value.replace(/[^0-9]/g, '');\n  });
unique_|jq_unique_
jq_ajax_multiple_|$.when(\n    getTweets('austintexasgov'),\n    getTweets('greenling_com'),\n    getTweets('themomandpops')\n).done(function(atxArgs, greenlingArgs, momandpopsArgs) {\n    var allTweets = [].concat(atxArgs[0]).concat(greenlingArgs[0]).concat(momandpopsArgs[0]);    \n    alert(sortedTweets);\n});\nvar getTweets = function(user) {\n    var url = 'http://twitter.com/status/user_timeline/' + user + '.json';\n    return $.get(url, { count: 5 }, null, 'jsonp');\n}\n
jq_ajax_setup_|$(function(){\n        // ajax loading indicator\n/*\n<i class="fa fa-spinner fa-spin fa-3x fa-fw"></i>\n<span class="sr-only">Loading...</span>\n\n<i class="fa fa-circle-o-notch fa-spin fa-3x fa-fw"></i>\n<span class="sr-only">Loading...</span>\n\n<i class="fa fa-refresh fa-spin fa-3x fa-fw"></i>\n<span class="sr-only">Loading...</span>\n\n<i class="fa fa-cog fa-spin fa-3x fa-fw"></i>\n<span class="sr-only">Loading...</span>\n\n<i class="fa fa-spinner fa-pulse fa-3x fa-fw"></i>\n<span class="sr-only">Loading...</span>\n*/\n        var html = ' <i class="fa fa-spinner fa-spin" aria-hidden="true"></i> ';\n        var el_loading = $('<div/>').attr('id','loading').html( html+' loading...').css({\n                display: 'none',\n                position: 'fixed',\n                'z-index': 3000,\n                top: '0',\n                right: '0',\n                padding: '10px',\n                border: '1 px solid #ccc',\n                backgroundColor: 'rgba(255, 255, 255, 0.4)',\n                color: '#000'\n        }).appendTo(document.body);\n});\n\n        $( document ).ajaxStart(function () {\n            $('#loading').show();\n        });\n        $( document ).ajaxStop(function () {\n            $('#loading').fadeOut();\n        });\n// intercetta gli eventi jquery ajax per logging\n$(document).ajaxComplete(function() {\n    console.log( "Triggered ajaxComplete handler." );\n});\n$(document).ajaxError(function() {\n    console.log( "Triggered ajaxError handler." );\n});\n$(document).ajaxSend(function() {\n    console.log( "Triggered ajaxSend handler." );\n});\n$(document).ajaxSuccess(function() {\n    console.log( "Triggered ajaxSuccess handler." );\n});
proxy_|jq_proxy_
replace_|s = s.replace("old","new");
jq_insert_|$( "h2" ).insertAfter( $( ".container" ) );
apply_|fun.apply(this_obj, array_arguments );
jq_load_|// it and all sub-elements have been completely loaded\n$('#book').load(function() {\n\n});
jq_on_load_|jq_on_ready_
node_require_|// File cal.js\nmodule.exports = {\n    sum: function(a,b) {\n        return a+b\n    }\n};\n// from main\nvar C = require('./calc.js');\nvar value = C.sum(10,20);\n//\n//---------------------------- INCLUDE GLOBALS\nvar fs = require("fs");\nfunction file_get_contents(f) {\n  return fs.readFileSync(f).toString();\n}\nfunction include(f) {\n  eval.apply(global, [file_get_contents(f)]);\n}\ninclude('./calc2.js');\nprint_aa();
jq_key_press_|<input type="text"><span id="test_out">0</span> \n<script type="text/javascript">\nvar i = 0;\n$(function(){\n    $("input").keypress(function(){\n        $("#test_out").text(i += 1);\n    });\n});\n</script>\n
object_|var T = {\n    name: "a", \n    say: function() {\n        alert(this.a); \n    }\n};
while_|while( true ){\|}
template_|_template_
array_pop_|    // removes the last element in an array\n    let cities = ["New York", "Los Angeles", "Atlanta"];\n    cities.pop();\n    console.log(cities);\n    // cities = ["New York", "Los Angeles"];
jq_fade_|if (el.is(':visible')) {\nel.fadeOut('slow');\n} else {\nel.fadeIn('slow');\n}
var_|console.log(\|);
url_decode_|var v="JavaScript_%D1%88%D0%B5%D0%BB%D0%BB%D1%8B";// "JavaScript_шеллы"\nvar v = decodeURIComponent(v);
reg_test_|var re_email = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-]{2,})+\.)+([a-zA-Z0-9]{2,})+$/;\n if ( _.isEmpty(str) || !re_email.test(str)  ) { } else { }
jq_grep_|var a_res_months = $.grep(a_months, function(v, i) {\n    return ( v.indexOf('J') == 0 );\n});\n
jq_by_name_|var email = $("input[name='email']").val();
array_filter_|    var possibilities = [1, 2, 3, 4, 5, 6, 7, 8, 9].filter(function(item) {\n        return knowns.indexOf(item) === -1;\n    });
jq_select_|// lavorare con una select\n// al change di un selct variare le options di una select dipendente\n$('#cod_linea').change(function(){\n           var f = $('#form_item_search');\n           var select = $(this);\n           var val = select.find('option:selected').val()\n           console.log(val);\n           $.ajax({\n               url: '<?=$url_ajax_options?>',\n               type: 'POST',\n               dataType: 'json',\n               data: f.serialize(),\n               success: function( resp_o ) {\n                   console.log(resp_o);\n                   var select_col = $('#cod_collection');\n                   // select_col.empty(); // remove old options\n                   $(select_col).find('option:gt(0)').remove(); // remove all options, but not the first\n\n                   $.each(resp_o , function(i, rec) {\n                           //console.log( rec );\n                           //console.log( rec['ADESCR'] );                           \n                           var html_value =  rec['ANUCOL'];\n                           var html_label =  rec['AAACOL'];\n                           select_col.append($("<option></option>").attr("value", html_value).text(html_label));\n                   });\n               },\n               error: function( req, status, err ) {\n                   console.log( 'something went wrong', status, err );\n               }\n    });\n});\n
cli_|node_cli_
jq_deferred_|jq_promise_
settimeout_|var timer = window.setTimeout(function(params){\n    console.log(params);\n}, 500, params);\nwindow.clearTimeout(timer);\n\n// esempio 2\n        var Counter = {\n            TIMEOUT: 0, // quanto è impostato il counter globale\n            _c: 0, // variabile di lavoro in cui viene copiato il valore TIMEOUT\n            isReady: function(){\n                console.log( 'timeout:' + Counter._c );\n                return Counter._c <= 0 ;\n            },\n            dec: function() {\n                Counter._c--;\n            },\n            init: function(TIMEOUT) {\n                Counter.TIMEOUT = TIMEOUT;\n                Counter.reset();\n            },\n            reset: function() {\n                Counter._c = Counter.TIMEOUT;\n            },\n            get: function() {\n                return Counter._c;\n            }\n        };\n\n        var ReclaimController = {\n            init: function( TIMEOUT, APPSTORE_URL ) {\n                ReclaimController.APPSTORE_URL = APPSTORE_URL;\n                Counter.init(TIMEOUT);\n                ReclaimController.timer = window.setInterval(ReclaimController.onTick, 1*1000 );\n                ReclaimController.UIUpdate();\n            },\n            onTick: function() {\n                if( Counter.isReady() ) {\n                    window.clearTimeout(ReclaimController.timer);\n                    ReclaimController.gotoDownload();// your JS function\n                }\n                ReclaimController.UIUpdate(); // sync UI\n                Counter.dec()\n            },\n            stopRedirect: function() {\n                Counter.reset();\n                window.clearTimeout( ReclaimController.timer );\n                console.log( ReclaimController.timer );\n                ReclaimController.UIUpdate();\n            },\n            UIUpdate: function() {\n                $('.timeout_label').text( Counter.get() );// update the UI\n            },\n            // your BL here\n            gotoDownload: function(){\n                location.href = ReclaimController.APPSTORE_URL;\n            }\n        };\n\n        $(function() {\n            var TIMEOUT = 60;\n            var APPSTORE_URL = "$url";\n            var is_mobile = $is_mobile;\n            ReclaimController.init(TIMEOUT, APPSTORE_URL);\n            if( !is_mobile ) {\n                ReclaimController.stopRedirect();\n            }\n        });\n\n\n\n\n
interval_|var intervalID = window.setInterval(function(){}, 500); \nclearInterval(intervalID);
jq_scroll_|// todo!
js_log_|console.log();
jq_hasnode_|if( $('#selector').length > 0 ) {}
jq_get_node_|$(selector).get(0)
bind_|fun.bind(this_obj , arg1, arg2 ... );
parse_int_|var i = parseInt(s, 10);
js_include_|function include(js_url){\n        var s = document.createElement('script');\n        s.type = 'text/javascript';\n        s.async = true;\n        s.src = js_url;\n        var x = document.getElementsByTagName('script')[0];\n        x.parentNode.insertBefore(s, x);\n}
byid_|var el = document.getElementById('id');
reduce_|var _a = a.reduce(function(carry, v) {\n    carry = carry + v;\n    return carry;\n}, (var initial=0) );
echo_|print_
_count_|_size_
is_array_|$.isArray(\|)
is_string_|_.isString(myVar)\n// typeof myVar === 'string' || myVar instanceof String
jq_merge_|var a = $.merge( [1,2], [3,4] ); // jq_extend_
jq_empty_|// rm all child nodes\n$(selector).empty();
jq_require_|// Load a JavaScript file from the server using a GET HTTP request, then execute it \nvar r:JQueryXHR = $.getScript(url: string, function(script: string, textStatus: string, jqXHR: JQueryXHR){ \n\n});
is_function_|jq_is_function_
print_|console.log('Hello %s!', username);
jq_ajax_post_|var jqxhr = $.post("ajax/test.html", {k:v}, function( data ) {\n  \tconsole.log( data );   \n}, 'json') \n  .done(function(req) {\n    console.log( "jqxhr success" );\n  })\n  .fail(function(req, status, err) {\n    console.log( "jqxhr error:"+status+' '+err );\n  })\n  .always(function() {\n    console.log( "jqxhr finished" );\n});
rtrim_|trim_
jq_turbo_|jq_turbolinks_
jq_map_|var a = $.map( [2,3,4], function(n){\n   return n*2;\n});//[4, 6, 8]
jq_click_|$('form input:checkbox').on('click', function(e){\n    e.preventDefault();\n        \|});
typeof_|isset_
jq_isnode_|if( $('#selector').length > 0 ) {}
console_|console.log(\|);
reg_replace_|var str = str_result.replace(new RegExp('[a-z]', 'g'), '_');\n\nvar str = str.replace( new RegExp(search, 'gi'), function(match) {\n    return '<b >' + match + '</b>';\n});
node_print_c_|function print_c(str, color = 'red', bg_color = 'black') {\n\n    var reset = "\\x1b[0m";\n    // var Bright = "\\x1b[1m"       ;\n    // var Dim = "\\x1b[2m"          ;\n    // var Underscore = "\\x1b[4m"   ;\n    // var Blink = "\\x1b[5m"        ;\n    // var Reverse = "\\x1b[7m"      ;\n    // var Hidden = "\\x1b[8m"       ;\n    //\n    var fg = [];\n    fg['black'] = "\\x1b[30m";\n    fg['red'] = "\\x1b[31m";\n    fg['green'] = "\\x1b[32m";\n    fg['yellow'] = "\\x1b[33m";\n    fg['blue'] = "\\x1b[34m";\n    fg['magenta'] = "\\x1b[35m";\n    fg['cyan'] = "\\x1b[36m";\n    fg['white'] = "\\x1b[37m";\n    //\n    var bg = [];\n    bg['black'] = "\\x1b[40m";\n    bg['red'] = "\\x1b[41m";\n    bg['green'] = "\\x1b[42m";\n    bg['yellow'] = "\\x1b[43m";\n    bg['blue'] = "\\x1b[44m";\n    bg['magenta'] = "\\x1b[45m";\n    bg['cyan'] = "\\x1b[46m";\n    bg['white'] = "\\x1b[47m";\n    // +bg[bg_color]\n    console.log(fg[color] + '%s' + reset, str);\n}\n// v2\nfunction printc(){\n  const colors = { black: 30, red: 31, green: 32, yellow: 33, blue: 34, magenta: 35, cyan: 36, white: 37, gray: 90 };\n  var supported = /color|ansi|cygwin|linux/i.test(process.env.TERM);\n \n  for (let name in colors ) {\n    const color = colors[name];\n    const fn = module.exports[name] = function(msg) {\n      if (supported) msg = `\\u001b[${color}m${msg}\\u001b[39m`\n      process.stdout.write(msg)\n    }\n    module.exports[name + 'ln'] = function(str) {\n      fn(str + '\\n')\n    }\n  }\n}\n\n
function_|function(){\n\|}
throw_|throw new Error(msg);
stop_|e.stopPropagation();//bubbling\ne.preventDefault();
jq_filter_f_|$('li').filter(function(index) {\n  return $('strong', this).length == 1;\n}).css('background-color', 'red');
floor_|var n = Math.floor( 45.95 ); //  45
regexp_|var re = /\\w+/;\nvar re_m = regex.exec(text);\nconsole.log(re_m[1]); \n// str_match_ str_replace_
module_|module = function() {\n  // ... module privates and aliases\n\n  // public\n  return {\n    // ... module constants\n    init: function() {\n      return this;\n    },\n\n  };\n}().init();
jq_selector_|jq_selector_list_
node_cli_|#!/usr/bin/env node\n'use strict';\n// `process.argv`\n// [0] The path of the executable that started the Node.js process\n// [1] The path to this application\n// [2-n] the command line arguments\nvar username = process.argv[2];\n// Check if the username hasn't been provided.\nif (!username) {\n    // Extract the filename\n    var file_name = process.argv[1].split(require('path').sep).pop();\n    console.error('Missing argument! Example: %s YOUR_NAME', file_name );\n    //   (success: 0, error: 1)\n    process.exit(1);\n}\nconsole.log('Hello %s!', username);
jq_ajax_get_|var jqxhr = $.get( '/data/people.html', function( html ){\n  $( '#target' ).html( html );\n}).done(function(req) {\n    console.log( "jqxhr success" );\n  })\n  .fail(function(req, status, err) {\n    console.log( "jqxhr error:"+status+' '+err );\n  })\n  .always(function() {\n    console.log( "jqxhr finished" );\n});
select_value_|function selectValue(select) {\n    if (!select.selectedIndex) {\n        return select.value;\n    }\n    var selected = select.options[select.selectedIndex];\n    return ((selected.attributes.value || {}).specified ? selected.value : selected.text);\n}
count_|[].length
jq_ajax_json_|var jqxhr = $.getJSON("/controller/action", { k: v },\n   function(json){\n     console.log("JSON Data: " + json.name);\n}).fail(function(req, status, err) {\n    console.log( "jqxhr error:"+status+' '+err );\n});
map_|// for Array\n[1,23].map(function(v){\n    v = '"'+(v*2)+'"';\n    return v;\n});\n// for Hash\nvar h = { a:2,b:4};\nObject.keys( h ).map(function(key, index) {\n  h[key] *= 2;\n});
jq_rm_|jq_remove_
array_merge_|function mixin(target, source) {\n    for (var key in source) {\n        target[key] = source[key];\n    }\n}\nvar a3 = row.concat(a1, a2);
jq_dom_node_|var dom_node = $( "li" ).get( 0 );\nconsole.log( dom_node+' '+$.type(dom_node) );
jq_animate_|$( this ).animate({\n    left: '+=50', // increase by 50\n    opacity: 0.25,\n    fontSize: '12px' //camelcase when prop name like "font-size"\n  },  300,  function() {\n    // executes when the animation is done\n  }\n);\n.stop(); // will stop currently running animations \n.delay(milliseconds); // will pause before the execution of the next animation method
localstorage_|if(typeof localStorage !== "undefined") {\n    // update key\n    var = key = 'clickcount';\n    if ( typeof localStorage[key] !== "undefined" ) {\n        localStorage[key] = localStorage[key] + 1;\n    } else {\n        localStorage[key] = 1;\n    }\n    // eliminare dati:\n    // localStorage[key] = null;\n    // localStorage.removeItem(key);\n}\n
table_a_|<?php\necho '<input type="text" name="search" id="search" value="" placeholder="Agente" maxlength="25" tabindex="0" -required /> ';\necho '<div id="table_1" ></div>';\n?>\n<script >\n//----------------------------------------------------------------------------\n//  app helpers\n//----------------------------------------------------------------------------\nvar Helper = {\n    buttonto: function(text, url, is_blank, is_disabled ) {\n        if (is_blank === void 0) { is_blank = false; }\n        if (is_disabled === void 0) { is_disabled = false; }\n        var css_disabled = is_disabled ? 'pure-button-disabled' : '';\n        var html = sprintf( '<a href="%s" %s class="pure-button %s" >%s</a>',\n            url,\n            ( is_blank ? 'target="_blank"':''),\n             css_disabled,\n             text\n        );\n        return html;\n    },\n    highlight: function(str, search ) {\n        var str = str.replace( new RegExp(search, 'gi'), function(match) {\n                return '<b >' + match + '</b>'\n        });\n        return str ;\n    }\n};\n// minimal sprintf implementation\n// sprintf('aaa %s', 'var'); =>  "aaa var"\nfunction sprintf(format) {\n    var args = Array.prototype.slice.call(arguments, 1);\n    var i = 0;\n    return format.replace(/%s/g, function() {\n            return args[i++];\n    });\n}\n\nfunction ucfirst(s) {\n    var f = s.charAt(0).toUpperCase();\n    return f + s.substr(1, s.length - 1);\n}\nfunction str_icontains(str, substr){\n    return (str.toLowerCase().indexOf(substr) != -1);\n}\n\nvar HTML = (function () {\n    function HTML() {\n    }\n    //------------------------------------------------------------------------------\n    // uso: HTML.tableArray([{'a':1,'b':3}, {'a':3,'b':4}]);\n    //\n    HTML.tableArray = function (data, options) {\n        if (options === void 0) { options = {}; }\n        var html = '';\n        var html_head = '';\n        var _opt = {};\n        _opt['id'] = '';\n        _opt['class'] = 'table table-condensed ec';\n        // templates\n        _opt['_th'] = "\\t\\t<th>%s</th>\\n";\n        _opt['_thead'] = "\\t<thead><tr>%s</tr></thead>\\n";\n        _opt['_td'] = "\\t\\t<td>%s</td>\\n";\n        _opt['_tr'] = "\\t<tr class=\\"%s\\">%s</tr>\\n";\n        _opt['_table'] = "<table class=\\"%s\\" id=\\"%s\\">%s</table>\\n\\n";\n        // delegates\n        _opt['delegates'] = {\n            'tr_class': function (i) {\n                return (i % 2 == 0 ? 'odd' : 'even');\n            }\n        };\n        // a_labels\n        options = _.extend(_opt, options);\n        if (_.isEmpty(data)) {\n            return '';\n        }\n        function get_col_name(key) {\n            if (typeof _opt['data_labels'] !== 'undefined' && (typeof _opt['data_labels'][key] !== 'undefined')) {\n                return ucfirst(_opt['data_labels'][key]);\n            }\n            else {\n                return ucfirst(key);\n            }\n        }\n        // righe\n        for (var i = 0; i < data.length; i++) {\n            // intestazione\n            if (i == 0) {\n                _.each(data[i], function (val, key, list) {\n                    var col_name = get_col_name(key);\n                    html_head += sprintf(_opt['_th'], col_name);\n                });\n                html_head = sprintf(_opt['_thead'], html_head);\n            }\n            var tds = '';\n            _.each(data[i], function (val, key, list) {\n                var str = val == '' ? "&nbsp;" : val;\n                tds += sprintf(_opt['_td'], str);\n            });\n            html += sprintf(_opt['_tr'], options['delegates']['tr_class'](i), tds);\n        }\n        html = html_head + "\\t" + html + "\\n";\n        return sprintf(_opt['_table'], _opt['class'], _opt['id'], html);\n    };\n    return HTML;\n}());\n\n//----------------------------------------------------------------------------\n//  app components\n//----------------------------------------------------------------------------\nvar Url = {\n    agentpick: function(cod_age) {\n        var url_tmpl = '<?= $GLOBALS['view']->url($par=array('cod_agente' => '999999' ), $r_name='portfolio_agentpick'); ?>';\n        url_tmpl = url_tmpl.replace(/999999/, '%s');\n        return sprintf(url_tmpl, cod_age );\n    }\n};\n// model\nvar AgentList = {\n    all: function(){\n        // proviene dal server\n        var a_agents = <?=json_encode( $this->a_agents); ?>;\n        return a_agents;\n    },\n    getByFilter: function(filter) {\n        var all = AgentList.all();\n        all = _.filter(all, function(rec){\n                var cur_desc = rec['DESCR'].toLowerCase();\n                var cur_code = rec['COD'].toLowerCase();\n                var is_found = str_icontains(cur_desc, filter) || str_icontains(cur_code, filter);\n                return is_found;\n        });\n        return all;\n    }\n};\n\n\n// View\nvar AgentView = {\n    render: function(a_agents, filter){\n        if( filter === void 0 ) filter = '';\n        var html = '';\n        var a_agents_m = AgentView.mapper(a_agents, filter);\n        html = HTML.tableArray(a_agents_m, {});\n        return html;\n    },\n    // crea html records da mostrare\n    mapper: function(a_agents, filter){\n        var a_agents_m = [];\n        _.each(a_agents, function(rec, k, list){\n                var url = Url.agentpick(rec['COD']);\n                var is_filter_valid = filter && filter.length >= 2;\n                a_agents_m.push( {\n                    'Codice':      is_filter_valid ? Helper.highlight(rec['COD'], filter)   : rec['COD']   ,\n                    'Descrizione': is_filter_valid ? Helper.highlight(rec['DESCR'], filter) : rec['DESCR'] ,\n                    'Seleziona':   Helper.buttonto('seleziona agente', url),\n                });\n        });\n        return a_agents_m;\n    }\n};\n//----------------------------------------------------------------------------\n//  main\n//----------------------------------------------------------------------------\n$(function() {\n        var a_agents = AgentList.all();\n        var html = AgentView.render(a_agents);\n        $('#table_1').html( html );\n        // controller\n        $('#search').keyup(function(e) {\n                var filter = $(this).val();\n                if( filter.length >= 2 ){\n                    var a_agents = AgentList.getByFilter(filter);\n                    var html = AgentView.render(a_agents, filter);\n                    $('#table_1').html( html );\n                } else {\n                    var a_agents = AgentList.all();\n                    var html = AgentView.render(a_agents);\n                    $('#table_1').html( html );\n                }\n        });\n});\n\n\n</script>\n\n
_each_|_.each(hash, function(v, k, list){ });
except_|throw "errormsg\|";
timeout_|setTimeout(function(){ alert("Hello"); }, 300);
jq_selector_list_|/*\n    All                         *   \n                                :animated \n    Attribute Contains Prefix   [name|=  value  ]\n    Attribute Contains          [name*=  value  ]\n    Attribute Contains Word     [name~=  value  ]\n    Attribute Ends With         [name$=  value  ]\n    Attribute Equals            [name=  value  ]\n    Attribute Not Equal         [name!=  value  ]\n    Attribute Starts With       [name^=  value  ]\n                                :button\n                                :checkbox \n                                :checked \n    Child                       parent > child   \n    Class                       .class   \n                                :contains   \n                                :disabled \n                                :empty \n                                :enabled \n                                :eq   \n                                :even \n                                :file \n                                :first-child \n                                :first-of-type \n                                :first \n                                :focus \n                                :gt   \n    Has Attribute               [name]\n                                :has   \n                                :header \n                                :hidden \n    ID                          #id   \n                                :image \n                                :input \n                                :lang   \n                                :last-child \n                                :last-of-type \n                                :last \n                                :lt   \n    Multiple Attribute          [name=value][name2=value2″]\n    Multiple                    selector1, 2, N   \n    Next Adjacent               prev + next   \n    Next Siblings               prev ~ siblings   \n                                :not   \n                                :nth-child   \n                                :nth-last-child   \n                                :nth-last-of-type   \n                                :nth-of-type   \n                                :odd \n                                :only-child \n                                :only-of-type \n                                :parent \n                                :password \n                                :radio \n                                :reset \n                                :root \n                                :selected \n                                :submit \n                                :target \n                                :text \n                                :visible \n*/\n
strlen_|str.length;
sort_|var a_ = [1, 10, 2, 21]; \na_.sort(); // [1, 10, 2, 21]
json_decode_|try {  \n    var o_ = $.parseJSON(json_str);\n} catch(e) { \n    console.log(e.message); \n}
array_reduce_|// combines (or reduces) the array into one single value. A simple way to learn the reduce method is to add together all elements in an array.\n    // The method takes two parameters, the accumulator and the current value.\n    let ticketPrices = [99.54, 56.43, 122.94];\n    let totalCostOfTickets = ticketPrices.reduce((total, amount) => total + amount)\n    // the accumulator is total; it's holding the new values as you add\n    // the amount is the next ticket price.\n    totalCostOfTickets = 278.91
array_splice_|    // adds, removes, or replaces an element at a given index. The first parameter is the index, the second parameter is how many elements you want to remove, and the 3rd parameter is the value you want to replace or add.\n    // to remove elements\n    let animals = ["cat", "dog", "shark", "horse", "alligator"];\n    animals.splice(1, 2);\n    // remove 2 elements at index 1, including index 1\n    // so what's being "spliced" is "dog" and "shark"\n    console.log(animals);\n    // animals  = ["cat", "horse", "alligator"];\n    // to add elements\n    let animals = ["cat", "dog", "shark", "horse", "alligator"];\n    animals.splice(2, 0, "zebra");\n    // at index 2, splice (or remove) 0 elements, add "zebra"\n    animals  = ["cat", "dog", "zebra", "shark", "horse", "alligator"];\n    // to replace elements\n    let animals = ["cat", "dog", "shark", "horse", "alligator"];\n    animals.splice(2, 1, "zebra");\n    // an index 2, replace 1 element ("shark") with "zebra"\n    // at index 2, splice (or remove) 0 elements, add "zebra"\n    animals  = ["cat", "dog", "zebra", "horse", "alligator"];
json_parse_|JSON.parse(text);
url_encode_|var s = encodeURIComponent(v);
class_|class Duck {\n  constructor(name) {\n    this.name = name\n  }\n  fly() {\n    console.log(`${this.name} can fly`)\n  }\n  // not static: call a method on an instance\n  // const duck = new Duck(...)\n  // duck.create(...)\n  //\n  // static: call a method on a class\n  // Duck.create(...)\n  static create(name, kind) {\n    if (kind === 'mallard') {\n      return new MallardDuck(name)\n    } else if (kind === 'rubber') {\n      return new RubberDuck(name)\n    } else {\n      // this = Duck\n      return new this(name)\n    }\n  }\n}\nclass MallardDuck extends Duck {\n  // get:\n  // use duck.color instead of duck.color()\n  get color() {\n    return 'green'\n  }\n}\nclass RubberDuck extends Duck {\n  constructor(name, eyeColor = 'black') {\n    super(name)\n    this.eyeColor = eyeColor\n  }\n  fly() {\n    super.fly()\n    console.log(`Just kidding, ${this.name} cannot fly`)\n  }\n  get color() {\n    return 'yellow'\n  }\n}\nconst regularDuck = new Duck('reggie')\n// reggie can fly\nregularDuck.fly()\nconst mallardDuck = Duck.create('mal', 'mallard')\n// mal\nconsole.log(mallardDuck.name)\n// green\nconsole.log(mallardDuck.color)\nrubberDuck = new RubberDuck('vic', 'blue')\n// vic can fly\n// Just kidding, vic cannot fly\nrubberDuck.fly()\n// yellow\nconsole.log(rubberDuck.color)\n// blue\nconsole.log(rubberDuck.eyeColor)\n\n//----------------------------------------------------------------------\n// ecma 5\nvar Greeter = (function () {\n    // constructor\n    function Greeter(message) {\n        // public\n        this.greeting = message || 'default';\n        // privileged\n        this.publicMethod = function() {\n            alert(privateName + " get from public method!"); \n        }    \t\n    }\n    // public methods\n    Greeter.prototype.greet = function () {\n        return "Hello, " + this.greeting;\n    };\n    // private\n    var privateVar = message || "default"; \n    var privateMethod = function() {\n        return privateVar; \n    }\n    \n    return Greeter;\n})();\n// instance\n// var o = new Greeter("txt");\n
jq_slide_|if (el.height() > 0) {\nel.animate({ height : 0 });\n} else {\nel.animate({ height : '100%' });\n}
array_shift_|// removes the first element an array\n    let ages = [30, 26, 24, 20];\n    ages.shift();\n    console.log(ages);\n    // ages = [26, 24, 20]
jq_is_function_|if ( $.isFunction( settings.onShow ) ) {\nsettings.onShow.call(this);\n}\n
jq_make_array_|// Returns a NodeList\nvar elems = document.getElementsByTagName( "div" );\n// Convert the NodeList to an Array\nvar arr = jQuery.makeArray( elems );\n// Use an Array method on list of dom elements\narr.reverse();\n$( arr ).appendTo( document.body );
jq_proxy_|// Execute you.test() in the context of the `you` object\n// no matter where it is called\n// i.e. the `this` keyword will refer to `you`\nvar youClick = $.proxy( you.func_name, you );\n// this === "person"\n$(selector).on("click", youClick );
unset_|delete obj['index'];
[uscript]
[opensips]
